import{$ as _t,$a as ml,A as uo,Aa as Nf,Ab as bl,B as xi,Ba as jn,Bb as Wf,C as il,Ca as _n,Cb as Ri,D as co,Da as Ha,Db as qf,E as Ef,Ea as Sn,Eb as Fi,F as lo,Fa as zn,Fb as vo,G as jr,Ga as fl,H as ol,Ha as Vf,I as If,Ia as Lf,J as Af,Ja as Wa,K as Mf,Ka as Ii,L as Lt,La as Bf,M as Tf,Ma as Uf,N as Dt,Na as $n,O as st,Oa as Xe,P as Ci,Pa as hl,Q as Be,Qa as qa,R as ar,Ra as Mt,S as Rf,Sa as Tt,T as tt,Ta as Rt,U as sl,Ua as J,V as Ue,Va as ie,W as Me,Wa as Re,X as gs,Xa as jf,Y as Dn,Ya as zf,Z as Bt,Za as pl,_ as ur,_a as Ht,a as ge,aa as al,ab as ys,b as Ze,ba as vs,bb as ut,c as vf,ca as Ff,cb as lt,d as yf,da as fo,db as po,e as ct,ea as cr,eb as Ai,f as bf,fa as Ei,fb as Mi,g as wf,ga as St,gb as mo,h as Df,ha as xt,hb as Ne,i as el,ia as $a,ib as bs,j as tl,ja as Ga,jb as $f,k as Lr,ka as zr,kb as ws,l as $t,la as ul,lb as Ds,m as Br,ma as Ka,mb as _s,n as pt,na as cl,nb as Ti,o as Pe,oa as Un,ob as Ut,p as ps,pa as dn,pb as Gf,q as _f,qa as Of,qb as gl,r as Sf,ra as ll,rb as Kf,s as xf,sa as Pf,sb as go,t as We,ta as $r,tb as vl,u as nl,ua as dl,ub as Ya,v as ln,va as at,vb as Hf,w as Cf,wa as kf,wb as Xa,x as rl,xa as ho,xb as Ss,y as ms,ya as De,yb as yl,z as Ur,za as Oe,zb as Za}from"./chunk-BHHZEHAT.js";var kp=vf((Od,Pd)=>{"use strict";(function(t,e){typeof Od=="object"&&typeof Pd<"u"?Pd.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Dexie=e())})(Od,function(){"use strict";var t=function(u,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])},t(u,c)};function e(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");t(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}var r=function(){return r=Object.assign||function(c){for(var f,p=1,v=arguments.length;p<v;p++){f=arguments[p];for(var D in f)Object.prototype.hasOwnProperty.call(f,D)&&(c[D]=f[D])}return c},r.apply(this,arguments)};function n(u,c,f){if(f||arguments.length===2)for(var p=0,v=c.length,D;p<v;p++)(D||!(p in c))&&(D||(D=Array.prototype.slice.call(c,0,p)),D[p]=c[p]);return u.concat(D||Array.prototype.slice.call(c))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,d=Array.isArray;typeof Promise<"u"&&!i.Promise&&(i.Promise=Promise);function m(u,c){return typeof c!="object"||o(c).forEach(function(f){u[f]=c[f]}),u}var w=Object.getPrototypeOf,b={}.hasOwnProperty;function C(u,c){return b.call(u,c)}function T(u,c){typeof c=="function"&&(c=c(w(u))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(f){L(u,f,c[f])})}var O=Object.defineProperty;function L(u,c,f,p){O(u,c,m(f&&C(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},p))}function oe(u){return{from:function(c){return u.prototype=Object.create(c.prototype),L(u.prototype,"constructor",u),{extend:T.bind(null,u.prototype)}}}}var ve=Object.getOwnPropertyDescriptor;function ae(u,c){var f=ve(u,c),p;return f||(p=w(u))&&ae(p,c)}var Y=[].slice;function ce(u,c,f){return Y.call(u,c,f)}function $e(u,c){return c(u)}function xe(u){if(!u)throw new Error("Assertion Failed")}function U(u){i.setImmediate?setImmediate(u):setTimeout(u,0)}function dt(u,c){return u.reduce(function(f,p,v){var D=c(p,v);return D&&(f[D[0]]=D[1]),f},{})}function ft(u,c){if(typeof c=="string"&&C(u,c))return u[c];if(!c)return u;if(typeof c!="string"){for(var f=[],p=0,v=c.length;p<v;++p){var D=ft(u,c[p]);f.push(D)}return f}var x=c.indexOf(".");if(x!==-1){var I=u[c.substr(0,x)];return I==null?void 0:ft(I,c.substr(x+1))}}function ht(u,c,f){if(!(!u||c===void 0)&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof c!="string"&&"length"in c){xe(typeof f!="string"&&"length"in f);for(var p=0,v=c.length;p<v;++p)ht(u,c[p],f[p])}else{var D=c.indexOf(".");if(D!==-1){var x=c.substr(0,D),I=c.substr(D+1);if(I==="")f===void 0?d(u)&&!isNaN(parseInt(x))?u.splice(x,1):delete u[x]:u[x]=f;else{var M=u[x];(!M||!C(u,x))&&(M=u[x]={}),ht(M,I,f)}}else f===void 0?d(u)&&!isNaN(parseInt(c))?u.splice(c,1):delete u[c]:u[c]=f}}function Wn(u,c){typeof c=="string"?ht(u,c,void 0):"length"in c&&[].map.call(c,function(f){ht(u,f,void 0)})}function wt(u){var c={};for(var f in u)C(u,f)&&(c[f]=u[f]);return c}var En=[].concat;function vt(u){return En.apply([],u)}var kt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(vt([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(c){return c+u+"Array"})}))).filter(function(u){return i[u]}),j=new Set(kt.map(function(u){return i[u]}));function pe(u){var c={};for(var f in u)if(C(u,f)){var p=u[f];c[f]=!p||typeof p!="object"||j.has(p.constructor)?p:pe(p)}return c}function ne(u){for(var c in u)if(C(u,c))return!1;return!0}var he=null;function Se(u){he=new WeakMap;var c=Ve(u);return he=null,c}function Ve(u){if(!u||typeof u!="object")return u;var c=he.get(u);if(c)return c;if(d(u)){c=[],he.set(u,c);for(var f=0,p=u.length;f<p;++f)c.push(Ve(u[f]))}else if(j.has(u.constructor))c=u;else{var v=w(u);c=v===Object.prototype?{}:Object.create(v),he.set(u,c);for(var D in u)C(u,D)&&(c[D]=Ve(u[D]))}return c}var ze={}.toString;function qe(u){return ze.call(u).slice(8,-1)}var nt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Nt=typeof nt=="symbol"?function(u){var c;return u!=null&&(c=u[nt])&&c.apply(u)}:function(){return null};function Je(u,c){var f=u.indexOf(c);return f>=0&&u.splice(f,1),f>=0}var yt={};function mt(u){var c,f,p,v;if(arguments.length===1){if(d(u))return u.slice();if(this===yt&&typeof u=="string")return[u];if(v=Nt(u)){for(f=[];p=v.next(),!p.done;)f.push(p.value);return f}if(u==null)return[u];if(c=u.length,typeof c=="number"){for(f=new Array(c);c--;)f[c]=u[c];return f}return[u]}for(c=arguments.length,f=new Array(c);c--;)f[c]=arguments[c];return f}var de=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Kt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],nn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mr=Kt.concat(nn),jo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function mn(u,c){this.name=u,this.message=c}oe(mn).from(Error).extend({toString:function(){return this.name+": "+this.message}});function gr(u,c){return u+". Errors: "+Object.keys(c).map(function(f){return c[f].toString()}).filter(function(f,p,v){return v.indexOf(f)===p}).join(`
`)}function rn(u,c,f,p){this.failures=c,this.failedKeys=p,this.successCount=f,this.message=gr(u,c)}oe(rn).from(mn);function qn(u,c){this.name="BulkError",this.failures=Object.keys(c).map(function(f){return c[f]}),this.failuresByPos=c,this.message=gr(u,this.failures)}oe(qn).from(mn);var Yn=mr.reduce(function(u,c){return u[c]=c+"Error",u},{}),Cc=mn,_e=mr.reduce(function(u,c){var f=c+"Error";function p(v,D){this.name=f,v?typeof v=="string"?(this.message="".concat(v).concat(D?`
 `+D:""),this.inner=D||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=jo[c]||f,this.inner=null)}return oe(p).from(Cc),u[c]=p,u},{});_e.Syntax=SyntaxError,_e.Type=TypeError,_e.Range=RangeError;var ti=nn.reduce(function(u,c){return u[c+"Error"]=_e[c],u},{});function _a(u,c){if(!u||u instanceof mn||u instanceof TypeError||u instanceof SyntaxError||!u.name||!ti[u.name])return u;var f=new ti[u.name](c||u.message,u);return"stack"in u&&L(f,"stack",{get:function(){return this.inner.stack}}),f}var ni=mr.reduce(function(u,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(u[c+"Error"]=_e[c]),u},{});ni.ModifyError=rn,ni.DexieError=mn,ni.BulkError=qn;function Ye(){}function vr(u){return u}function ri(u,c){return u==null||u===vr?c:function(f){return c(u(f))}}function Xn(u,c){return function(){u.apply(this,arguments),c.apply(this,arguments)}}function zo(u,c){return u===Ye?c:function(){var f=u.apply(this,arguments);f!==void 0&&(arguments[0]=f);var p=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var D=c.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?Xn(p,this.onsuccess):p),v&&(this.onerror=this.onerror?Xn(v,this.onerror):v),D!==void 0?D:f}}function Sa(u,c){return u===Ye?c:function(){u.apply(this,arguments);var f=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Xn(f,this.onsuccess):f),p&&(this.onerror=this.onerror?Xn(p,this.onerror):p)}}function $o(u,c){return u===Ye?c:function(f){var p=u.apply(this,arguments);m(f,p);var v=this.onsuccess,D=this.onerror;this.onsuccess=null,this.onerror=null;var x=c.apply(this,arguments);return v&&(this.onsuccess=this.onsuccess?Xn(v,this.onsuccess):v),D&&(this.onerror=this.onerror?Xn(D,this.onerror):D),p===void 0?x===void 0?void 0:x:m(p,x)}}function Go(u,c){return u===Ye?c:function(){return c.apply(this,arguments)===!1?!1:u.apply(this,arguments)}}function ii(u,c){return u===Ye?c:function(){var f=u.apply(this,arguments);if(f&&typeof f.then=="function"){for(var p=this,v=arguments.length,D=new Array(v);v--;)D[v]=arguments[v];return f.then(function(){return c.apply(p,D)})}return c.apply(this,arguments)}}var Xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ko(u,c){Xt=u}var In={},Ho=100,Hi=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,w(u),u];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,w(c),u]}(),yr=Hi[0],br=Hi[1],wr=Hi[2],xa=br&&br.then,Zn=yr&&yr.constructor,Wi=!!wr;function Wo(){queueMicrotask(Ec)}var Qn=function(u,c){_r.push([u,c]),oi&&(Wo(),oi=!1)},qi=!0,oi=!0,Jn=[],Dr=[],si=vr,An={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ye,pgp:!1,env:{},finalize:Ye},be=An,_r=[],Ft=0,on=[];function se(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=be;if(typeof u!="function"){if(u!==In)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&sn(this,this._value);return}this._state=null,this._value=null,++c.ref,Yo(this,u)}var qo={get:function(){var u=be,c=xr;function f(p,v){var D=this,x=!u.global&&(u!==be||c!==xr),I=x&&!Rn(),M=new se(function(F,V){Yi(D,new Ca(Xo(p,u,x,I),Xo(v,u,x,I),F,V,u))});return this._consoleTask&&(M._consoleTask=this._consoleTask),M}return f.prototype=In,f},set:function(u){L(this,"then",u&&u.prototype===In?qo:{get:function(){return u},set:qo.set})}};T(se.prototype,{then:qo,_then:function(u,c){Yi(this,new Ca(null,null,u,c,be))},catch:function(u){if(arguments.length===1)return this.then(null,u);var c=arguments[0],f=arguments[1];return typeof c=="function"?this.then(null,function(p){return p instanceof c?f(p):ui(p)}):this.then(null,function(p){return p&&p.name===c?f(p):ui(p)})},finally:function(u){return this.then(function(c){return se.resolve(u()).then(function(){return c})},function(c){return se.resolve(u()).then(function(){return ui(c)})})},timeout:function(u,c){var f=this;return u<1/0?new se(function(p,v){var D=setTimeout(function(){return v(new _e.Timeout(c))},u);f.then(p,v).finally(clearTimeout.bind(null,D))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&L(se.prototype,Symbol.toStringTag,"Dexie.Promise"),An.env=Ma();function Ca(u,c,f,p,v){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof c=="function"?c:null,this.resolve=f,this.reject=p,this.psd=v}T(se,{all:function(){var u=mt.apply(null,arguments).map(Cr);return new se(function(c,f){u.length===0&&c([]);var p=u.length;u.forEach(function(v,D){return se.resolve(v).then(function(x){u[D]=x,--p||c(u)},f)})})},resolve:function(u){if(u instanceof se)return u;if(u&&typeof u.then=="function")return new se(function(f,p){u.then(f,p)});var c=new se(In,!0,u);return c},reject:ui,race:function(){var u=mt.apply(null,arguments).map(Cr);return new se(function(c,f){u.map(function(p){return se.resolve(p).then(c,f)})})},PSD:{get:function(){return be},set:function(u){return be=u}},totalEchoes:{get:function(){return xr}},newPSD:Mn,usePSD:tr,scheduler:{get:function(){return Qn},set:function(u){Qn=u}},rejectionMapper:{get:function(){return si},set:function(u){si=u}},follow:function(u,c){return new se(function(f,p){return Mn(function(v,D){var x=be;x.unhandleds=[],x.onunhandled=D,x.finalize=Xn(function(){var I=this;Ic(function(){I.unhandleds.length===0?v():D(I.unhandleds[0])})},x.finalize),u()},c,f,p)})}}),Zn&&(Zn.allSettled&&L(se,"allSettled",function(){var u=mt.apply(null,arguments).map(Cr);return new se(function(c){u.length===0&&c([]);var f=u.length,p=new Array(f);u.forEach(function(v,D){return se.resolve(v).then(function(x){return p[D]={status:"fulfilled",value:x}},function(x){return p[D]={status:"rejected",reason:x}}).then(function(){return--f||c(p)})})})}),Zn.any&&typeof AggregateError<"u"&&L(se,"any",function(){var u=mt.apply(null,arguments).map(Cr);return new se(function(c,f){u.length===0&&f(new AggregateError([]));var p=u.length,v=new Array(p);u.forEach(function(D,x){return se.resolve(D).then(function(I){return c(I)},function(I){v[x]=I,--p||f(new AggregateError(v))})})})}));function Yo(u,c){try{c(function(f){if(u._state===null){if(f===u)throw new TypeError("A promise cannot be resolved with itself.");var p=u._lib&&Sr();f&&typeof f.then=="function"?Yo(u,function(v,D){f instanceof se?f._then(v,D):f.then(v,D)}):(u._state=!0,u._value=f,Te(u)),p&&an()}},sn.bind(null,u))}catch(f){sn(u,f)}}function sn(u,c){if(Dr.push(c),u._state===null){var f=u._lib&&Sr();c=si(c),u._state=!1,u._value=c,Ac(u),Te(u),f&&an()}}function Te(u){var c=u._listeners;u._listeners=[];for(var f=0,p=c.length;f<p;++f)Yi(u,c[f]);var v=u._PSD;--v.ref||v.finalize(),Ft===0&&(++Ft,Qn(function(){--Ft===0&&ai()},[]))}function Yi(u,c){if(u._state===null){u._listeners.push(c);return}var f=u._state?c.onFulfilled:c.onRejected;if(f===null)return(u._state?c.resolve:c.reject)(u._value);++c.psd.ref,++Ft,Qn(Ea,[f,u,c])}function Ea(u,c,f){try{var p,v=c._value;!c._state&&Dr.length&&(Dr=[]),p=Xt&&c._consoleTask?c._consoleTask.run(function(){return u(v)}):u(v),!c._state&&Dr.indexOf(v)===-1&&Mc(c),f.resolve(p)}catch(D){f.reject(D)}finally{--Ft===0&&ai(),--f.psd.ref||f.psd.finalize()}}function Ec(){tr(An,function(){Sr()&&an()})}function Sr(){var u=qi;return qi=!1,oi=!1,u}function an(){var u,c,f;do for(;_r.length>0;)for(u=_r,_r=[],f=u.length,c=0;c<f;++c){var p=u[c];p[0].apply(null,p[1])}while(_r.length>0);qi=!0,oi=!0}function ai(){var u=Jn;Jn=[],u.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var c=on.slice(0),f=c.length;f;)c[--f]()}function Ic(u){function c(){u(),on.splice(on.indexOf(c),1)}on.push(c),++Ft,Qn(function(){--Ft===0&&ai()},[])}function Ac(u){Jn.some(function(c){return c._value===u._value})||Jn.push(u)}function Mc(u){for(var c=Jn.length;c;)if(Jn[--c]._value===u._value){Jn.splice(c,1);return}}function ui(u){return new se(In,!1,u)}function ot(u,c){var f=be;return function(){var p=Sr(),v=be;try{return Fn(f,!0),u.apply(this,arguments)}catch(D){c&&c(D)}finally{Fn(v,!1),p&&an()}}}var bt={awaits:0,echoes:0,id:0},Ia=0,er=[],ci=0,xr=0,Aa=0;function Mn(u,c,f,p){var v=be,D=Object.create(v);D.parent=v,D.ref=0,D.global=!1,D.id=++Aa,An.env,D.env=Wi?{Promise:se,PromiseProp:{value:se,configurable:!0,writable:!0},all:se.all,race:se.race,allSettled:se.allSettled,any:se.any,resolve:se.resolve,reject:se.reject}:{},c&&m(D,c),++v.ref,D.finalize=function(){--this.parent.ref||this.parent.finalize()};var x=tr(D,u,f,p);return D.ref===0&&D.finalize(),x}function Tn(){return bt.id||(bt.id=++Ia),++bt.awaits,bt.echoes+=Ho,bt.id}function Rn(){return bt.awaits?(--bt.awaits===0&&(bt.id=0),bt.echoes=bt.awaits*Ho,!0):!1}(""+xa).indexOf("[native code]")===-1&&(Tn=Rn=Ye);function Cr(u){return bt.echoes&&u&&u.constructor===Zn?(Tn(),u.then(function(c){return Rn(),c},function(c){return Rn(),rt(c)})):u}function Tc(u){++xr,(!bt.echoes||--bt.echoes===0)&&(bt.echoes=bt.awaits=bt.id=0),er.push(be),Fn(u,!0)}function Rc(){var u=er[er.length-1];er.pop(),Fn(u,!1)}function Fn(u,c){var f=be;if((c?bt.echoes&&(!ci++||u!==be):ci&&(!--ci||u!==be))&&queueMicrotask(c?Tc.bind(null,u):Rc),u!==be&&(be=u,f===An&&(An.env=Ma()),Wi)){var p=An.env.Promise,v=u.env;(f.global||u.global)&&(Object.defineProperty(i,"Promise",v.PromiseProp),p.all=v.all,p.race=v.race,p.resolve=v.resolve,p.reject=v.reject,v.allSettled&&(p.allSettled=v.allSettled),v.any&&(p.any=v.any))}}function Ma(){var u=i.Promise;return Wi?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function tr(u,c,f,p,v){var D=be;try{return Fn(u,!0),c(f,p,v)}finally{Fn(D,!1)}}function Xo(u,c,f,p){return typeof u!="function"?u:function(){var v=be;f&&Tn(),Fn(c,!0);try{return u.apply(this,arguments)}finally{Fn(v,!1),p&&queueMicrotask(Rn)}}}function Er(u){Promise===Zn&&bt.echoes===0?ci===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}var rt=se.reject;function li(u,c,f,p){if(!u.idbdb||!u._state.openComplete&&!be.letThrough&&!u._vip){if(u._state.openComplete)return rt(new _e.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return rt(new _e.DatabaseClosed);u.open().catch(Ye)}return u._state.dbReadyPromise.then(function(){return li(u,c,f,p)})}else{var v=u._createTransaction(c,f,u._dbSchema);try{v.create(),u._state.PR1398_maxLoop=3}catch(D){return D.name===Yn.InvalidState&&u.isOpen()&&--u._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),u.close({disableAutoOpen:!1}),u.open().then(function(){return li(u,c,f,p)})):rt(D)}return v._promise(c,function(D,x){return Mn(function(){return be.trans=v,p(D,x,v)})}).then(function(D){if(c==="readwrite")try{v.idbtrans.commit()}catch{}return c==="readonly"?D:v._completion.then(function(){return D})})}}var di="4.0.8",Vt="\uFFFF",nr=-1/0,gn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zo="String expected.",rr=[],Ir="__dbnames",Qo="readonly",Jo="readwrite";function On(u,c){return u?c?function(){return u.apply(this,arguments)&&c.apply(this,arguments)}:u:c}var Ta={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xi(u){return typeof u=="string"&&!/\./.test(u)?function(c){return c[u]===void 0&&u in c&&(c=Se(c),delete c[u]),c}:function(c){return c}}function es(){throw _e.Type()}function He(u,c){try{var f=Ra(u),p=Ra(c);if(f!==p)return f==="Array"?1:p==="Array"?-1:f==="binary"?1:p==="binary"?-1:f==="string"?1:p==="string"?-1:f==="Date"?1:p!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u>c?1:u<c?-1:0;case"binary":return ts(ns(u),ns(c));case"Array":return Fc(u,c)}}catch{}return NaN}function Fc(u,c){for(var f=u.length,p=c.length,v=f<p?f:p,D=0;D<v;++D){var x=He(u[D],c[D]);if(x!==0)return x}return f===p?0:f<p?-1:1}function ts(u,c){for(var f=u.length,p=c.length,v=f<p?f:p,D=0;D<v;++D)if(u[D]!==c[D])return u[D]<c[D]?-1:1;return f===p?0:f<p?-1:1}function Ra(u){var c=typeof u;if(c!=="object")return c;if(ArrayBuffer.isView(u))return"binary";var f=qe(u);return f==="ArrayBuffer"?"binary":f}function ns(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var Fa=function(){function u(){}return u.prototype._trans=function(c,f,p){var v=this._tx||be.trans,D=this.name,x=Xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function I(V,P,$){if(!$.schema[D])throw new _e.NotFound("Table "+D+" not part of transaction");return f($.idbtrans,$)}var M=Sr();try{var F=v&&v.db._novip===this.db._novip?v===be.trans?v._promise(c,I,p):Mn(function(){return v._promise(c,I,p)},{trans:v,transless:be.transless||be}):li(this.db,c,[this.name],I);return x&&(F._consoleTask=x,F=F.catch(function(V){return console.trace(V),rt(V)})),F}finally{M&&an()}},u.prototype.get=function(c,f){var p=this;return c&&c.constructor===Object?this.where(c).first(f):c==null?rt(new _e.Type("Invalid argument to Table.get()")):this._trans("readonly",function(v){return p.core.get({trans:v,key:c}).then(function(D){return p.hook.reading.fire(D)})}).then(f)},u.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(d(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var f=o(c);if(f.length===1)return this.where(f[0]).equals(c[f[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(P){if(P.compound&&f.every(function(ee){return P.keyPath.indexOf(ee)>=0})){for(var $=0;$<f.length;++$)if(f.indexOf(P.keyPath[$])===-1)return!1;return!0}return!1}).sort(function(P,$){return P.keyPath.length-$.keyPath.length})[0];if(p&&this.db._maxKey!==Vt){var v=p.keyPath.slice(0,f.length);return this.where(v).equals(v.map(function(P){return c[P]}))}!p&&Xt&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var D=this.schema.idxByName,x=this.db._deps.indexedDB;function I(P,$){return x.cmp(P,$)===0}var M=f.reduce(function(P,$){var ee=P[0],N=P[1],B=D[$],G=c[$];return[ee||B,ee||!B?On(N,B&&B.multi?function(K){var H=ft(K,$);return d(H)&&H.some(function(q){return I(G,q)})}:function(K){return I(G,ft(K,$))}):N]},[null,null]),F=M[0],V=M[1];return F?this.where(F.name).equals(c[F.keyPath]).filter(V):p?this.filter(V):this.where(f).equals("")},u.prototype.filter=function(c){return this.toCollection().and(c)},u.prototype.count=function(c){return this.toCollection().count(c)},u.prototype.offset=function(c){return this.toCollection().offset(c)},u.prototype.limit=function(c){return this.toCollection().limit(c)},u.prototype.each=function(c){return this.toCollection().each(c)},u.prototype.toArray=function(c){return this.toCollection().toArray(c)},u.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},u.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,d(c)?"[".concat(c.join("+"),"]"):c))},u.prototype.reverse=function(){return this.toCollection().reverse()},u.prototype.mapToClass=function(c){var f=this,p=f.db,v=f.name;this.schema.mappedClass=c,c.prototype instanceof es&&(c=function(M){e(F,M);function F(){return M!==null&&M.apply(this,arguments)||this}return Object.defineProperty(F.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),F.prototype.table=function(){return v},F}(c));for(var D=new Set,x=c.prototype;x;x=w(x))Object.getOwnPropertyNames(x).forEach(function(M){return D.add(M)});var I=function(M){if(!M)return M;var F=Object.create(c.prototype);for(var V in M)if(!D.has(V))try{F[V]=M[V]}catch{}return F};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=I,this.hook("reading",I),c},u.prototype.defineClass=function(){function c(f){m(this,f)}return this.mapToClass(c)},u.prototype.add=function(c,f){var p=this,v=this.schema.primKey,D=v.auto,x=v.keyPath,I=c;return x&&D&&(I=Xi(x)(c)),this._trans("readwrite",function(M){return p.core.mutate({trans:M,type:"add",keys:f!=null?[f]:null,values:[I]})}).then(function(M){return M.numFailures?se.reject(M.failures[0]):M.lastResult}).then(function(M){if(x)try{ht(c,x,M)}catch{}return M})},u.prototype.update=function(c,f){if(typeof c=="object"&&!d(c)){var p=ft(c,this.schema.primKey.keyPath);return p===void 0?rt(new _e.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(f)}else return this.where(":id").equals(c).modify(f)},u.prototype.put=function(c,f){var p=this,v=this.schema.primKey,D=v.auto,x=v.keyPath,I=c;return x&&D&&(I=Xi(x)(c)),this._trans("readwrite",function(M){return p.core.mutate({trans:M,type:"put",values:[I],keys:f!=null?[f]:null})}).then(function(M){return M.numFailures?se.reject(M.failures[0]):M.lastResult}).then(function(M){if(x)try{ht(c,x,M)}catch{}return M})},u.prototype.delete=function(c){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"delete",keys:[c]})}).then(function(p){return p.numFailures?se.reject(p.failures[0]):void 0})},u.prototype.clear=function(){var c=this;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"deleteRange",range:Ta})}).then(function(f){return f.numFailures?se.reject(f.failures[0]):void 0})},u.prototype.bulkGet=function(c){var f=this;return this._trans("readonly",function(p){return f.core.getMany({keys:c,trans:p}).then(function(v){return v.map(function(D){return f.hook.reading.fire(D)})})})},u.prototype.bulkAdd=function(c,f,p){var v=this,D=Array.isArray(f)?f:void 0;p=p||(D?void 0:f);var x=p?p.allKeys:void 0;return this._trans("readwrite",function(I){var M=v.schema.primKey,F=M.auto,V=M.keyPath;if(V&&D)throw new _e.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(D&&D.length!==c.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var P=c.length,$=V&&F?c.map(Xi(V)):c;return v.core.mutate({trans:I,type:"add",keys:D,values:$,wantResults:x}).then(function(ee){var N=ee.numFailures,B=ee.results,G=ee.lastResult,K=ee.failures,H=x?B:G;if(N===0)return H;throw new qn("".concat(v.name,".bulkAdd(): ").concat(N," of ").concat(P," operations failed"),K)})})},u.prototype.bulkPut=function(c,f,p){var v=this,D=Array.isArray(f)?f:void 0;p=p||(D?void 0:f);var x=p?p.allKeys:void 0;return this._trans("readwrite",function(I){var M=v.schema.primKey,F=M.auto,V=M.keyPath;if(V&&D)throw new _e.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(D&&D.length!==c.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var P=c.length,$=V&&F?c.map(Xi(V)):c;return v.core.mutate({trans:I,type:"put",keys:D,values:$,wantResults:x}).then(function(ee){var N=ee.numFailures,B=ee.results,G=ee.lastResult,K=ee.failures,H=x?B:G;if(N===0)return H;throw new qn("".concat(v.name,".bulkPut(): ").concat(N," of ").concat(P," operations failed"),K)})})},u.prototype.bulkUpdate=function(c){var f=this,p=this.core,v=c.map(function(I){return I.key}),D=c.map(function(I){return I.changes}),x=[];return this._trans("readwrite",function(I){return p.getMany({trans:I,keys:v,cache:"clone"}).then(function(M){var F=[],V=[];c.forEach(function($,ee){var N=$.key,B=$.changes,G=M[ee];if(G){for(var K=0,H=Object.keys(B);K<H.length;K++){var q=H[K],X=B[q];if(q===f.schema.primKey.keyPath){if(He(X,N)!==0)throw new _e.Constraint("Cannot update primary key in bulkUpdate()")}else ht(G,q,X)}x.push(ee),F.push(N),V.push(G)}});var P=F.length;return p.mutate({trans:I,type:"put",keys:F,values:V,updates:{keys:v,changeSpecs:D}}).then(function($){var ee=$.numFailures,N=$.failures;if(ee===0)return P;for(var B=0,G=Object.keys(N);B<G.length;B++){var K=G[B],H=x[Number(K)];if(H!=null){var q=N[K];delete N[K],N[H]=q}}throw new qn("".concat(f.name,".bulkUpdate(): ").concat(ee," of ").concat(P," operations failed"),N)})})})},u.prototype.bulkDelete=function(c){var f=this,p=c.length;return this._trans("readwrite",function(v){return f.core.mutate({trans:v,type:"delete",keys:c})}).then(function(v){var D=v.numFailures,x=v.lastResult,I=v.failures;if(D===0)return x;throw new qn("".concat(f.name,".bulkDelete(): ").concat(D," of ").concat(p," operations failed"),I)})},u}();function Pn(u){var c={},f=function(I,M){if(M){for(var F=arguments.length,V=new Array(F-1);--F;)V[F-1]=arguments[F];return c[I].subscribe.apply(null,V),u}else if(typeof I=="string")return c[I]};f.addEventType=D;for(var p=1,v=arguments.length;p<v;++p)D(arguments[p]);return f;function D(I,M,F){if(typeof I=="object")return x(I);M||(M=Go),F||(F=Ye);var V={subscribers:[],fire:F,subscribe:function(P){V.subscribers.indexOf(P)===-1&&(V.subscribers.push(P),V.fire=M(V.fire,P))},unsubscribe:function(P){V.subscribers=V.subscribers.filter(function($){return $!==P}),V.fire=V.subscribers.reduce(M,F)}};return c[I]=f[I]=V,V}function x(I){o(I).forEach(function(M){var F=I[M];if(d(F))D(M,I[M][0],I[M][1]);else if(F==="asap")var V=D(M,vr,function(){for(var $=arguments.length,ee=new Array($);$--;)ee[$]=arguments[$];V.subscribers.forEach(function(N){U(function(){N.apply(null,ee)})})});else throw new _e.InvalidArgument("Invalid event config")})}}function fi(u,c){return oe(c).from({prototype:u}),c}function Oa(u){return fi(Fa.prototype,function(f,p,v){this.db=u,this._tx=v,this.name=f,this.schema=p,this.hook=u._allTables[f]?u._allTables[f].hook:Pn(null,{creating:[zo,Ye],reading:[ri,vr],updating:[$o,Ye],deleting:[Sa,Ye]})})}function ir(u,c){return!(u.filter||u.algorithm||u.or)&&(c?u.justLimit:!u.replayFilter)}function rs(u,c){u.filter=On(u.filter,c)}function Zi(u,c,f){var p=u.replayFilter;u.replayFilter=p?function(){return On(p(),c())}:c,u.justLimit=f&&!p}function Pa(u,c){u.isMatch=On(u.isMatch,c)}function Qi(u,c){if(u.isPrimKey)return c.primaryKey;var f=c.getIndexByKeyPath(u.index);if(!f)throw new _e.Schema("KeyPath "+u.index+" on object store "+c.name+" is not indexed");return f}function Ar(u,c,f){var p=Qi(u,c.schema);return c.openCursor({trans:f,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:p,range:u.range}})}function or(u,c,f,p){var v=u.replayFilter?On(u.filter,u.replayFilter()):u.filter;if(u.or){var D={},x=function(I,M,F){if(!v||v(M,F,function($){return M.stop($)},function($){return M.fail($)})){var V=M.primaryKey,P=""+V;P==="[object ArrayBuffer]"&&(P=""+new Uint8Array(V)),C(D,P)||(D[P]=!0,c(I,M,F))}};return Promise.all([u.or._iterate(x,f),ka(Ar(u,p,f),u.algorithm,x,!u.keysOnly&&u.valueMapper)])}else return ka(Ar(u,p,f),On(u.algorithm,v),c,!u.keysOnly&&u.valueMapper)}function ka(u,c,f,p){var v=p?function(x,I,M){return f(p(x),I,M)}:f,D=ot(v);return u.then(function(x){if(x)return x.start(function(){var I=function(){return x.continue()};(!c||c(x,function(M){return I=M},function(M){x.stop(M),I=Ye},function(M){x.fail(M),I=Ye}))&&D(x.value,x,function(M){return I=M}),I()})})}var is=Symbol(),Mr=function(){function u(c){Object.assign(this,c)}return u.prototype.execute=function(c){var f;if(this.add!==void 0){var p=this.add;if(d(p))return n(n([],d(c)?c:[],!0),p,!0).sort();if(typeof p=="number")return(Number(c)||0)+p;if(typeof p=="bigint")try{return BigInt(c)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(this.remove!==void 0){var v=this.remove;if(d(v))return d(c)?c.filter(function(x){return!v.includes(x)}).sort():[];if(typeof v=="number")return Number(c)-v;if(typeof v=="bigint")try{return BigInt(c)-v}catch{return BigInt(0)-v}throw new TypeError("Invalid subtrahend ".concat(v))}var D=(f=this.replacePrefix)===null||f===void 0?void 0:f[0];return D&&typeof c=="string"&&c.startsWith(D)?this.replacePrefix[1]+c.substring(D.length):c},u}(),Oc=function(){function u(){}return u.prototype._read=function(c,f){var p=this._ctx;return p.error?p.table._trans(null,rt.bind(null,p.error)):p.table._trans("readonly",c).then(f)},u.prototype._write=function(c){var f=this._ctx;return f.error?f.table._trans(null,rt.bind(null,f.error)):f.table._trans("readwrite",c,"locked")},u.prototype._addAlgorithm=function(c){var f=this._ctx;f.algorithm=On(f.algorithm,c)},u.prototype._iterate=function(c,f){return or(this._ctx,c,f,this._ctx.table.core)},u.prototype.clone=function(c){var f=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return c&&m(p,c),f._ctx=p,f},u.prototype.raw=function(){return this._ctx.valueMapper=null,this},u.prototype.each=function(c){var f=this._ctx;return this._read(function(p){return or(f,c,p,f.table.core)})},u.prototype.count=function(c){var f=this;return this._read(function(p){var v=f._ctx,D=v.table.core;if(ir(v,!0))return D.count({trans:p,query:{index:Qi(v,D.schema),range:v.range}}).then(function(I){return Math.min(I,v.limit)});var x=0;return or(v,function(){return++x,!1},p,D).then(function(){return x})}).then(c)},u.prototype.sortBy=function(c,f){var p=c.split(".").reverse(),v=p[0],D=p.length-1;function x(F,V){return V?x(F[p[V]],V-1):F[v]}var I=this._ctx.dir==="next"?1:-1;function M(F,V){var P=x(F,D),$=x(V,D);return P<$?-I:P>$?I:0}return this.toArray(function(F){return F.sort(M)}).then(f)},u.prototype.toArray=function(c){var f=this;return this._read(function(p){var v=f._ctx;if(v.dir==="next"&&ir(v,!0)&&v.limit>0){var D=v.valueMapper,x=Qi(v,v.table.core.schema);return v.table.core.query({trans:p,limit:v.limit,values:!0,query:{index:x,range:v.range}}).then(function(M){var F=M.result;return D?F.map(D):F})}else{var I=[];return or(v,function(M){return I.push(M)},p,v.table.core).then(function(){return I})}},c)},u.prototype.offset=function(c){var f=this._ctx;return c<=0?this:(f.offset+=c,ir(f)?Zi(f,function(){var p=c;return function(v,D){return p===0?!0:p===1?(--p,!1):(D(function(){v.advance(p),p=0}),!1)}}):Zi(f,function(){var p=c;return function(){return--p<0}}),this)},u.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),Zi(this._ctx,function(){var f=c;return function(p,v,D){return--f<=0&&v(D),f>=0}},!0),this},u.prototype.until=function(c,f){return rs(this._ctx,function(p,v,D){return c(p.value)?(v(D),f):!0}),this},u.prototype.first=function(c){return this.limit(1).toArray(function(f){return f[0]}).then(c)},u.prototype.last=function(c){return this.reverse().first(c)},u.prototype.filter=function(c){return rs(this._ctx,function(f){return c(f.value)}),Pa(this._ctx,c),this},u.prototype.and=function(c){return this.filter(c)},u.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},u.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},u.prototype.desc=function(){return this.reverse()},u.prototype.eachKey=function(c){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,v){c(v.key,v)})},u.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},u.prototype.eachPrimaryKey=function(c){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,v){c(v.primaryKey,v)})},u.prototype.keys=function(c){var f=this._ctx;f.keysOnly=!f.isMatch;var p=[];return this.each(function(v,D){p.push(D.key)}).then(function(){return p}).then(c)},u.prototype.primaryKeys=function(c){var f=this._ctx;if(f.dir==="next"&&ir(f,!0)&&f.limit>0)return this._read(function(v){var D=Qi(f,f.table.core.schema);return f.table.core.query({trans:v,values:!1,limit:f.limit,query:{index:D,range:f.range}})}).then(function(v){var D=v.result;return D}).then(c);f.keysOnly=!f.isMatch;var p=[];return this.each(function(v,D){p.push(D.primaryKey)}).then(function(){return p}).then(c)},u.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},u.prototype.firstKey=function(c){return this.limit(1).keys(function(f){return f[0]}).then(c)},u.prototype.lastKey=function(c){return this.reverse().firstKey(c)},u.prototype.distinct=function(){var c=this._ctx,f=c.index&&c.table.schema.idxByName[c.index];if(!f||!f.multi)return this;var p={};return rs(this._ctx,function(v){var D=v.primaryKey.toString(),x=C(p,D);return p[D]=!0,!x}),this},u.prototype.modify=function(c){var f=this,p=this._ctx;return this._write(function(v){var D;if(typeof c=="function")D=c;else{var x=o(c),I=x.length;D=function(K){for(var H=!1,q=0;q<I;++q){var X=x[q],W=c[X],re=ft(K,X);W instanceof Mr?(ht(K,X,W.execute(re)),H=!0):re!==W&&(ht(K,X,W),H=!0)}return H}}var M=p.table.core,F=M.schema.primaryKey,V=F.outbound,P=F.extractKey,$=f.db._options.modifyChunkSize||200,ee=[],N=0,B=[],G=function(K,H){var q=H.failures,X=H.numFailures;N+=K-X;for(var W=0,re=o(q);W<re.length;W++){var fe=re[W];ee.push(q[fe])}};return f.clone().primaryKeys().then(function(K){var H=ir(p)&&p.limit===1/0&&(typeof c!="function"||c===hi)&&{index:p.index,range:p.range},q=function(X){var W=Math.min($,K.length-X);return M.getMany({trans:v,keys:K.slice(X,X+W),cache:"immutable"}).then(function(re){for(var fe=[],me=[],Ae=V?[]:null,we=[],Ee=0;Ee<W;++Ee){var Ke=re[Ee],Fe={value:Se(Ke),primKey:K[X+Ee]};D.call(Fe,Fe.value,Fe)!==!1&&(Fe.value==null?we.push(K[X+Ee]):!V&&He(P(Ke),P(Fe.value))!==0?(we.push(K[X+Ee]),fe.push(Fe.value)):(me.push(Fe.value),V&&Ae.push(K[X+Ee])))}return Promise.resolve(fe.length>0&&M.mutate({trans:v,type:"add",values:fe}).then(function(it){for(var Ie in it.failures)we.splice(parseInt(Ie),1);G(fe.length,it)})).then(function(){return(me.length>0||H&&typeof c=="object")&&M.mutate({trans:v,type:"put",keys:Ae,values:me,criteria:H,changeSpec:typeof c!="function"&&c,isAdditionalChunk:X>0}).then(function(it){return G(me.length,it)})}).then(function(){return(we.length>0||H&&c===hi)&&M.mutate({trans:v,type:"delete",keys:we,criteria:H,isAdditionalChunk:X>0}).then(function(it){return G(we.length,it)})}).then(function(){return K.length>X+W&&q(X+$)})})};return q(0).then(function(){if(ee.length>0)throw new rn("Error modifying one or more objects",ee,N,B);return K.length})})})},u.prototype.delete=function(){var c=this._ctx,f=c.range;return ir(c)&&(c.isPrimKey||f.type===3)?this._write(function(p){var v=c.table.core.schema.primaryKey,D=f;return c.table.core.count({trans:p,query:{index:v,range:D}}).then(function(x){return c.table.core.mutate({trans:p,type:"deleteRange",range:D}).then(function(I){var M=I.failures;I.lastResult,I.results;var F=I.numFailures;if(F)throw new rn("Could not delete some values",Object.keys(M).map(function(V){return M[V]}),x-F);return x-F})})}):this.modify(hi)},u}(),hi=function(u,c){return c.value=null};function Na(u){return fi(Oc.prototype,function(f,p){this.db=u;var v=Ta,D=null;if(p)try{v=p()}catch(F){D=F}var x=f._ctx,I=x.table,M=I.hook.reading.fire;this._ctx={table:I,index:x.index,isPrimKey:!x.index||I.schema.primKey.keyPath&&x.index===I.schema.primKey.name,range:v,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:D,or:x.or,valueMapper:M!==vr?M:null}})}function Va(u,c){return u<c?-1:u===c?0:1}function os(u,c){return u>c?-1:u===c?0:1}function jt(u,c,f){var p=u instanceof Et?new u.Collection(u):u;return p._ctx.error=f?new f(c):new TypeError(c),p}function Tr(u){return new u.Collection(u,function(){return ss("")}).limit(0)}function kn(u){return u==="next"?function(c){return c.toUpperCase()}:function(c){return c.toLowerCase()}}function Pc(u){return u==="next"?function(c){return c.toLowerCase()}:function(c){return c.toUpperCase()}}function kc(u,c,f,p,v,D){for(var x=Math.min(u.length,p.length),I=-1,M=0;M<x;++M){var F=c[M];if(F!==p[M])return v(u[M],f[M])<0?u.substr(0,M)+f[M]+f.substr(M+1):v(u[M],p[M])<0?u.substr(0,M)+p[M]+f.substr(M+1):I>=0?u.substr(0,I)+c[I]+f.substr(I+1):null;v(u[M],F)<0&&(I=M)}return x<p.length&&D==="next"?u+f.substr(u.length):x<u.length&&D==="prev"?u.substr(0,f.length):I<0?null:u.substr(0,I)+p[I]+f.substr(I+1)}function Ji(u,c,f,p){var v,D,x,I,M,F,V,P=f.length;if(!f.every(function(B){return typeof B=="string"}))return jt(u,Zo);function $(B){v=kn(B),D=Pc(B),x=B==="next"?Va:os;var G=f.map(function(K){return{lower:D(K),upper:v(K)}}).sort(function(K,H){return x(K.lower,H.lower)});I=G.map(function(K){return K.upper}),M=G.map(function(K){return K.lower}),F=B,V=B==="next"?"":p}$("next");var ee=new u.Collection(u,function(){return vn(I[0],M[P-1]+p)});ee._ondirectionchange=function(B){$(B)};var N=0;return ee._addAlgorithm(function(B,G,K){var H=B.key;if(typeof H!="string")return!1;var q=D(H);if(c(q,M,N))return!0;for(var X=null,W=N;W<P;++W){var re=kc(H,q,I[W],M[W],x,F);re===null&&X===null?N=W+1:(X===null||x(X,re)>0)&&(X=re)}return G(X!==null?function(){B.continue(X+V)}:K),!1}),ee}function vn(u,c,f,p){return{type:2,lower:u,upper:c,lowerOpen:f,upperOpen:p}}function ss(u){return{type:1,lower:u,upper:u}}var Et=function(){function u(){}return Object.defineProperty(u.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),u.prototype.between=function(c,f,p,v){p=p!==!1,v=v===!0;try{return this._cmp(c,f)>0||this._cmp(c,f)===0&&(p||v)&&!(p&&v)?Tr(this):new this.Collection(this,function(){return vn(c,f,!p,!v)})}catch{return jt(this,gn)}},u.prototype.equals=function(c){return c==null?jt(this,gn):new this.Collection(this,function(){return ss(c)})},u.prototype.above=function(c){return c==null?jt(this,gn):new this.Collection(this,function(){return vn(c,void 0,!0)})},u.prototype.aboveOrEqual=function(c){return c==null?jt(this,gn):new this.Collection(this,function(){return vn(c,void 0,!1)})},u.prototype.below=function(c){return c==null?jt(this,gn):new this.Collection(this,function(){return vn(void 0,c,!1,!0)})},u.prototype.belowOrEqual=function(c){return c==null?jt(this,gn):new this.Collection(this,function(){return vn(void 0,c)})},u.prototype.startsWith=function(c){return typeof c!="string"?jt(this,Zo):this.between(c,c+Vt,!0,!0)},u.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):Ji(this,function(f,p){return f.indexOf(p[0])===0},[c],Vt)},u.prototype.equalsIgnoreCase=function(c){return Ji(this,function(f,p){return f===p[0]},[c],"")},u.prototype.anyOfIgnoreCase=function(){var c=mt.apply(yt,arguments);return c.length===0?Tr(this):Ji(this,function(f,p){return p.indexOf(f)!==-1},c,"")},u.prototype.startsWithAnyOfIgnoreCase=function(){var c=mt.apply(yt,arguments);return c.length===0?Tr(this):Ji(this,function(f,p){return p.some(function(v){return f.indexOf(v)===0})},c,Vt)},u.prototype.anyOf=function(){var c=this,f=mt.apply(yt,arguments),p=this._cmp;try{f.sort(p)}catch{return jt(this,gn)}if(f.length===0)return Tr(this);var v=new this.Collection(this,function(){return vn(f[0],f[f.length-1])});v._ondirectionchange=function(x){p=x==="next"?c._ascending:c._descending,f.sort(p)};var D=0;return v._addAlgorithm(function(x,I,M){for(var F=x.key;p(F,f[D])>0;)if(++D,D===f.length)return I(M),!1;return p(F,f[D])===0?!0:(I(function(){x.continue(f[D])}),!1)}),v},u.prototype.notEqual=function(c){return this.inAnyRange([[nr,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},u.prototype.noneOf=function(){var c=mt.apply(yt,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return jt(this,gn)}var f=c.reduce(function(p,v){return p?p.concat([[p[p.length-1][1],v]]):[[nr,v]]},null);return f.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},u.prototype.inAnyRange=function(c,f){var p=this,v=this._cmp,D=this._ascending,x=this._descending,I=this._min,M=this._max;if(c.length===0)return Tr(this);if(!c.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&D(W[0],W[1])<=0}))return jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",_e.InvalidArgument);var F=!f||f.includeLowers!==!1,V=f&&f.includeUppers===!0;function P(W,re){for(var fe=0,me=W.length;fe<me;++fe){var Ae=W[fe];if(v(re[0],Ae[1])<0&&v(re[1],Ae[0])>0){Ae[0]=I(Ae[0],re[0]),Ae[1]=M(Ae[1],re[1]);break}}return fe===me&&W.push(re),W}var $=D;function ee(W,re){return $(W[0],re[0])}var N;try{N=c.reduce(P,[]),N.sort(ee)}catch{return jt(this,gn)}var B=0,G=V?function(W){return D(W,N[B][1])>0}:function(W){return D(W,N[B][1])>=0},K=F?function(W){return x(W,N[B][0])>0}:function(W){return x(W,N[B][0])>=0};function H(W){return!G(W)&&!K(W)}var q=G,X=new this.Collection(this,function(){return vn(N[0][0],N[N.length-1][1],!F,!V)});return X._ondirectionchange=function(W){W==="next"?(q=G,$=D):(q=K,$=x),N.sort(ee)},X._addAlgorithm(function(W,re,fe){for(var me=W.key;q(me);)if(++B,B===N.length)return re(fe),!1;return H(me)?!0:(p._cmp(me,N[B][1])===0||p._cmp(me,N[B][0])===0||re(function(){$===D?W.continue(N[B][0]):W.continue(N[B][1])}),!1)}),X},u.prototype.startsWithAnyOf=function(){var c=mt.apply(yt,arguments);return c.every(function(f){return typeof f=="string"})?c.length===0?Tr(this):this.inAnyRange(c.map(function(f){return[f,f+Vt]})):jt(this,"startsWithAnyOf() only works with strings")},u}();function Nc(u){return fi(Et.prototype,function(f,p,v){if(this.db=u,this._ctx={table:f,index:p===":id"?null:p,or:v},this._cmp=this._ascending=He,this._descending=function(D,x){return He(x,D)},this._max=function(D,x){return He(D,x)>0?D:x},this._min=function(D,x){return He(D,x)<0?D:x},this._IDBKeyRange=u._deps.IDBKeyRange,!this._IDBKeyRange)throw new _e.MissingAPI})}function un(u){return ot(function(c){return pi(c),u(c.target.error),!1})}function pi(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var mi="storagemutated",as="x-storagemutated-1",Nn=Pn(null,mi),Vc=function(){function u(){}return u.prototype._lock=function(){return xe(!be.global),++this._reculock,this._reculock===1&&!be.global&&(be.lockOwnerFor=this),this},u.prototype._unlock=function(){if(xe(!be.global),--this._reculock===0)for(be.global||(be.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var c=this._blockedFuncs.shift();try{tr(c[1],c[0])}catch{}}return this},u.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},u.prototype.create=function(c){var f=this;if(!this.mode)return this;var p=this.db.idbdb,v=this.db._state.dbOpenError;if(xe(!this.idbtrans),!c&&!p)switch(v&&v.name){case"DatabaseClosedError":throw new _e.DatabaseClosed(v);case"MissingAPIError":throw new _e.MissingAPI(v.message,v);default:throw new _e.OpenFailed(v)}if(!this.active)throw new _e.TransactionInactive;return xe(this._completion._state===null),c=this.idbtrans=c||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):p.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),c.onerror=ot(function(D){pi(D),f._reject(c.error)}),c.onabort=ot(function(D){pi(D),f.active&&f._reject(new _e.Abort(c.error)),f.active=!1,f.on("abort").fire(D)}),c.oncomplete=ot(function(){f.active=!1,f._resolve(),"mutatedParts"in c&&Nn.storagemutated.fire(c.mutatedParts)}),this},u.prototype._promise=function(c,f,p){var v=this;if(c==="readwrite"&&this.mode!=="readwrite")return rt(new _e.ReadOnly("Transaction is readonly"));if(!this.active)return rt(new _e.TransactionInactive);if(this._locked())return new se(function(x,I){v._blockedFuncs.push([function(){v._promise(c,f,p).then(x,I)},be])});if(p)return Mn(function(){var x=new se(function(I,M){v._lock();var F=f(I,M,v);F&&F.then&&F.then(I,M)});return x.finally(function(){return v._unlock()}),x._lib=!0,x});var D=new se(function(x,I){var M=f(x,I,v);M&&M.then&&M.then(x,I)});return D._lib=!0,D},u.prototype._root=function(){return this.parent?this.parent._root():this},u.prototype.waitFor=function(c){var f=this._root(),p=se.resolve(c);if(f._waitingFor)f._waitingFor=f._waitingFor.then(function(){return p});else{f._waitingFor=p,f._waitingQueue=[];var v=f.idbtrans.objectStore(f.storeNames[0]);(function x(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(v.get(-1/0).onsuccess=x)})()}var D=f._waitingFor;return new se(function(x,I){p.then(function(M){return f._waitingQueue.push(ot(x.bind(null,M)))},function(M){return f._waitingQueue.push(ot(I.bind(null,M)))}).finally(function(){f._waitingFor===D&&(f._waitingFor=null)})})},u.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new _e.Abort))},u.prototype.table=function(c){var f=this._memoizedTables||(this._memoizedTables={});if(C(f,c))return f[c];var p=this.schema[c];if(!p)throw new _e.NotFound("Table "+c+" not part of transaction");var v=new this.db.Table(c,p,this);return v.core=this.db.core.table(c),f[c]=v,v},u}();function Lc(u){return fi(Vc.prototype,function(f,p,v,D,x){var I=this;this.db=u,this.mode=f,this.storeNames=p,this.schema=v,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=Pn(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new se(function(M,F){I._resolve=M,I._reject=F}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(M){var F=I.active;return I.active=!1,I.on.error.fire(M),I.parent?I.parent._reject(M):F&&I.idbtrans&&I.idbtrans.abort(),rt(M)})})}function eo(u,c,f,p,v,D,x){return{name:u,keyPath:c,unique:f,multi:p,auto:v,compound:D,src:(f&&!x?"&":"")+(p?"*":"")+(v?"++":"")+gi(c)}}function gi(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function yn(u,c,f){return{name:u,primKey:c,indexes:f,mappedClass:null,idxByName:dt(f,function(p){return[p.name,p]})}}function to(u){return u.length===1?u[0]:u}var vi=function(u){try{return u.only([[]]),vi=function(){return[[]]},[[]]}catch{return vi=function(){return Vt},Vt}};function no(u){return u==null?function(){}:typeof u=="string"?La(u):function(c){return ft(c,u)}}function La(u){var c=u.split(".");return c.length===1?function(f){return f[u]}:function(f){return ft(f,u)}}function us(u){return[].slice.call(u)}var yi=0;function bi(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Bc(u,c,f){function p(P,$){var ee=us(P.objectStoreNames);return{schema:{name:P.name,tables:ee.map(function(N){return $.objectStore(N)}).map(function(N){var B=N.keyPath,G=N.autoIncrement,K=d(B),H=B==null,q={},X={name:N.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H,compound:K,keyPath:B,autoIncrement:G,unique:!0,extractKey:no(B)},indexes:us(N.indexNames).map(function(W){return N.index(W)}).map(function(W){var re=W.name,fe=W.unique,me=W.multiEntry,Ae=W.keyPath,we=d(Ae),Ee={name:re,compound:we,keyPath:Ae,unique:fe,multiEntry:me,extractKey:no(Ae)};return q[bi(Ae)]=Ee,Ee}),getIndexByKeyPath:function(W){return q[bi(W)]}};return q[":id"]=X.primaryKey,B!=null&&(q[bi(B)]=X.primaryKey),X})},hasGetAll:ee.length>0&&"getAll"in $.objectStore(ee[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function v(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var $=P.lower,ee=P.upper,N=P.lowerOpen,B=P.upperOpen,G=$===void 0?ee===void 0?null:c.upperBound(ee,!!B):ee===void 0?c.lowerBound($,!!N):c.bound($,ee,!!N,!!B);return G}function D(P){var $=P.name;function ee(G){var K=G.trans,H=G.type,q=G.keys,X=G.values,W=G.range;return new Promise(function(re,fe){re=ot(re);var me=K.objectStore($),Ae=me.keyPath==null,we=H==="put"||H==="add";if(!we&&H!=="delete"&&H!=="deleteRange")throw new Error("Invalid operation type: "+H);var Ee=(q||X||{length:1}).length;if(q&&X&&q.length!==X.length)throw new Error("Given keys array must have same length as given values array.");if(Ee===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});var Ke,Fe=[],it=[],Ie=0,At=function(Bn){++Ie,pi(Bn)};if(H==="deleteRange"){if(W.type===4)return re({numFailures:Ie,failures:it,results:[],lastResult:void 0});W.type===3?Fe.push(Ke=me.clear()):Fe.push(Ke=me.delete(v(W)))}else{var bn=we?Ae?[X,q]:[X,null]:[q,null],Nr=bn[0],Ln=bn[1];if(we)for(var cn=0;cn<Ee;++cn)Fe.push(Ke=Ln&&Ln[cn]!==void 0?me[H](Nr[cn],Ln[cn]):me[H](Nr[cn])),Ke.onerror=At;else for(var cn=0;cn<Ee;++cn)Fe.push(Ke=me[H](Nr[cn])),Ke.onerror=At}var Vr=function(Bn){var hs=Bn.target.result;Fe.forEach(function(wn,za){return wn.error!=null&&(it[za]=wn.error)}),re({numFailures:Ie,failures:it,results:H==="delete"?q:Fe.map(function(wn){return wn.result}),lastResult:hs})};Ke.onerror=function(Bn){At(Bn),Vr(Bn)},Ke.onsuccess=Vr})}function N(G){var K=G.trans,H=G.values,q=G.query,X=G.reverse,W=G.unique;return new Promise(function(re,fe){re=ot(re);var me=q.index,Ae=q.range,we=K.objectStore($),Ee=me.isPrimaryKey?we:we.index(me.name),Ke=X?W?"prevunique":"prev":W?"nextunique":"next",Fe=H||!("openKeyCursor"in Ee)?Ee.openCursor(v(Ae),Ke):Ee.openKeyCursor(v(Ae),Ke);Fe.onerror=un(fe),Fe.onsuccess=ot(function(it){var Ie=Fe.result;if(!Ie){re(null);return}Ie.___id=++yi,Ie.done=!1;var At=Ie.continue.bind(Ie),bn=Ie.continuePrimaryKey;bn&&(bn=bn.bind(Ie));var Nr=Ie.advance.bind(Ie),Ln=function(){throw new Error("Cursor not started")},cn=function(){throw new Error("Cursor not stopped")};Ie.trans=K,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=Ln,Ie.fail=ot(fe),Ie.next=function(){var Vr=this,Bn=1;return this.start(function(){return Bn--?Vr.continue():Vr.stop()}).then(function(){return Vr})},Ie.start=function(Vr){var Bn=new Promise(function(wn,za){wn=ot(wn),Fe.onerror=un(za),Ie.fail=za,Ie.stop=function(mv){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=cn,wn(mv)}}),hs=function(){if(Fe.result)try{Vr()}catch(wn){Ie.fail(wn)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()};return Fe.onsuccess=ot(function(wn){Fe.onsuccess=hs,hs()}),Ie.continue=At,Ie.continuePrimaryKey=bn,Ie.advance=Nr,hs(),Bn},re(Ie)},fe)})}function B(G){return function(K){return new Promise(function(H,q){H=ot(H);var X=K.trans,W=K.values,re=K.limit,fe=K.query,me=re===1/0?void 0:re,Ae=fe.index,we=fe.range,Ee=X.objectStore($),Ke=Ae.isPrimaryKey?Ee:Ee.index(Ae.name),Fe=v(we);if(re===0)return H({result:[]});if(G){var it=W?Ke.getAll(Fe,me):Ke.getAllKeys(Fe,me);it.onsuccess=function(Nr){return H({result:Nr.target.result})},it.onerror=un(q)}else{var Ie=0,At=W||!("openKeyCursor"in Ke)?Ke.openCursor(Fe):Ke.openKeyCursor(Fe),bn=[];At.onsuccess=function(Nr){var Ln=At.result;if(!Ln)return H({result:bn});if(bn.push(W?Ln.value:Ln.primaryKey),++Ie===re)return H({result:bn});Ln.continue()},At.onerror=un(q)}})}}return{name:$,schema:P,mutate:ee,getMany:function(G){var K=G.trans,H=G.keys;return new Promise(function(q,X){q=ot(q);for(var W=K.objectStore($),re=H.length,fe=new Array(re),me=0,Ae=0,we,Ee=function(Ie){var At=Ie.target;(fe[At._pos]=At.result)!=null,++Ae===me&&q(fe)},Ke=un(X),Fe=0;Fe<re;++Fe){var it=H[Fe];it!=null&&(we=W.get(H[Fe]),we._pos=Fe,we.onsuccess=Ee,we.onerror=Ke,++me)}me===0&&q(fe)})},get:function(G){var K=G.trans,H=G.key;return new Promise(function(q,X){q=ot(q);var W=K.objectStore($),re=W.get(H);re.onsuccess=function(fe){return q(fe.target.result)},re.onerror=un(X)})},query:B(M),openCursor:N,count:function(G){var K=G.query,H=G.trans,q=K.index,X=K.range;return new Promise(function(W,re){var fe=H.objectStore($),me=q.isPrimaryKey?fe:fe.index(q.name),Ae=v(X),we=Ae?me.count(Ae):me.count();we.onsuccess=ot(function(Ee){return W(Ee.target.result)}),we.onerror=un(re)})}}}var x=p(u,f),I=x.schema,M=x.hasGetAll,F=I.tables.map(function(P){return D(P)}),V={};return F.forEach(function(P){return V[P.name]=P}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(P){var $=V[P];if(!$)throw new Error("Table '".concat(P,"' not found"));return V[P]},MIN_KEY:-1/0,MAX_KEY:vi(c),schema:I}}function Uc(u,c){return c.reduce(function(f,p){var v=p.create;return r(r({},f),v(f))},u)}function jc(u,c,f,p){var v=f.IDBKeyRange;f.indexedDB;var D=Uc(Bc(c,v,p),u.dbcore);return{dbcore:D}}function ro(u,c){var f=c.db,p=jc(u._middlewares,f,u._deps,c);u.core=p.dbcore,u.tables.forEach(function(v){var D=v.name;u.core.schema.tables.some(function(x){return x.name===D})&&(v.core=u.core.table(D),u[D]instanceof u.Table&&(u[D].core=v.core))})}function io(u,c,f,p){f.forEach(function(v){var D=p[v];c.forEach(function(x){var I=ae(x,v);(!I||"value"in I&&I.value===void 0)&&(x===u.Transaction.prototype||x instanceof u.Transaction?L(x,v,{get:function(){return this.table(v)},set:function(M){O(this,v,{value:M,writable:!0,configurable:!0,enumerable:!0})}}):x[v]=new u.Table(v,D))})})}function wi(u,c){c.forEach(function(f){for(var p in f)f[p]instanceof u.Table&&delete f[p]})}function zc(u,c){return u._cfg.version-c._cfg.version}function oo(u,c,f,p){var v=u._dbSchema;f.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=yn("$meta",Ba("")[0],[]),u._storeNames.push("$meta"));var D=u._createTransaction("readwrite",u._storeNames,v);D.create(f),D._completion.catch(p);var x=D._reject.bind(D),I=be.transless||be;Mn(function(){if(be.trans=D,be.transless=I,c===0)o(v).forEach(function(M){so(f,M,v[M].primKey,v[M].indexes)}),ro(u,f),se.follow(function(){return u.on.populate.fire(D)}).catch(x);else return ro(u,f),cs(u,D,c).then(function(M){return Gc(u,M,D,f)}).catch(x)})}function $c(u,c){Rr(u._dbSchema,c),c.db.version%10===0&&!c.objectStoreNames.contains("$meta")&&c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var f=Fr(u,u.idbdb,c);ao(u,u._dbSchema,c);for(var p=ls(f,u._dbSchema),v=function(F){if(F.change.length||F.recreate)return console.warn("Unable to patch indexes of table ".concat(F.name," because it has changes on the type of index or primary key.")),{value:void 0};var V=c.objectStore(F.name);F.add.forEach(function(P){Xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(F.name,".").concat(P.src)),Di(V,P)})},D=0,x=p.change;D<x.length;D++){var I=x[D],M=v(I);if(typeof M=="object")return M.value}}function cs(u,c,f){return c.storeNames.includes("$meta")?c.table("$meta").get("version").then(function(p){return p??f}):se.resolve(f)}function Gc(u,c,f,p){var v=[],D=u._versions,x=u._dbSchema=Fr(u,u.idbdb,p),I=D.filter(function(F){return F._cfg.version>=c});if(I.length===0)return se.resolve();I.forEach(function(F){v.push(function(){var V=x,P=F._cfg.dbschema;ao(u,V,p),ao(u,P,p),x=u._dbSchema=P;var $=ls(V,P);$.add.forEach(function(H){so(p,H[0],H[1].primKey,H[1].indexes)}),$.change.forEach(function(H){if(H.recreate)throw new _e.Upgrade("Not yet support for changing primary key");var q=p.objectStore(H.name);H.add.forEach(function(X){return Di(q,X)}),H.change.forEach(function(X){q.deleteIndex(X.name),Di(q,X)}),H.del.forEach(function(X){return q.deleteIndex(X)})});var ee=F._cfg.contentUpgrade;if(ee&&F._cfg.version>c){ro(u,p),f._memoizedTables={};var N=wt(P);$.del.forEach(function(H){N[H]=V[H]}),wi(u,[u.Transaction.prototype]),io(u,[u.Transaction.prototype],o(N),N),f.schema=N;var B=de(ee);B&&Tn();var G,K=se.follow(function(){if(G=ee(f),G&&B){var H=Rn.bind(null,null);G.then(H,H)}});return G&&typeof G.then=="function"?se.resolve(G):K.then(function(){return G})}}),v.push(function(V){var P=F._cfg.dbschema;Vn(P,V),wi(u,[u.Transaction.prototype]),io(u,[u.Transaction.prototype],u._storeNames,u._dbSchema),f.schema=u._dbSchema}),v.push(function(V){u.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(u.idbdb.version/10)===F._cfg.version?(u.idbdb.deleteObjectStore("$meta"),delete u._dbSchema.$meta,u._storeNames=u._storeNames.filter(function(P){return P!=="$meta"})):V.objectStore("$meta").put(F._cfg.version,"version"))})});function M(){return v.length?se.resolve(v.shift()(f.idbtrans)).then(M):se.resolve()}return M().then(function(){Rr(x,p)})}function ls(u,c){var f={del:[],add:[],change:[]},p;for(p in u)c[p]||f.del.push(p);for(p in c){var v=u[p],D=c[p];if(!v)f.add.push([p,D]);else{var x={name:p,def:D,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(D.primKey.keyPath||"")||v.primKey.auto!==D.primKey.auto)x.recreate=!0,f.change.push(x);else{var I=v.idxByName,M=D.idxByName,F=void 0;for(F in I)M[F]||x.del.push(F);for(F in M){var V=I[F],P=M[F];V?V.src!==P.src&&x.change.push(P):x.add.push(P)}(x.del.length>0||x.add.length>0||x.change.length>0)&&f.change.push(x)}}}return f}function so(u,c,f,p){var v=u.db.createObjectStore(c,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});return p.forEach(function(D){return Di(v,D)}),v}function Rr(u,c){o(u).forEach(function(f){c.db.objectStoreNames.contains(f)||(Xt&&console.debug("Dexie: Creating missing table",f),so(c,f,u[f].primKey,u[f].indexes))})}function Vn(u,c){[].slice.call(c.db.objectStoreNames).forEach(function(f){return u[f]==null&&c.db.deleteObjectStore(f)})}function Di(u,c){u.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Fr(u,c,f){var p={},v=ce(c.objectStoreNames,0);return v.forEach(function(D){for(var x=f.objectStore(D),I=x.keyPath,M=eo(gi(I),I||"",!0,!1,!!x.autoIncrement,I&&typeof I!="string",!0),F=[],V=0;V<x.indexNames.length;++V){var P=x.index(x.indexNames[V]);I=P.keyPath;var $=eo(P.name,I,!!P.unique,!!P.multiEntry,!1,I&&typeof I!="string",!1);F.push($)}p[D]=yn(D,M,F)}),p}function Kc(u,c,f){u.verno=c.version/10;var p=u._dbSchema=Fr(u,c,f);u._storeNames=ce(c.objectStoreNames,0),io(u,[u._allTables],o(p),p)}function Hc(u,c){var f=Fr(u,u.idbdb,c),p=ls(f,u._dbSchema);return!(p.add.length||p.change.some(function(v){return v.add.length||v.change.length}))}function ao(u,c,f){for(var p=f.db.objectStoreNames,v=0;v<p.length;++v){var D=p[v],x=f.objectStore(D);u._hasGetAll="getAll"in x;for(var I=0;I<x.indexNames.length;++I){var M=x.indexNames[I],F=x.index(M).keyPath,V=typeof F=="string"?F:"["+ce(F).join("+")+"]";if(c[D]){var P=c[D].idxByName[V];P&&(P.name=M,delete c[D].idxByName[V],c[D].idxByName[M]=P)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function Ba(u){return u.split(",").map(function(c,f){c=c.trim();var p=c.replace(/([&*]|\+\+)/g,""),v=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return eo(p,v||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),d(v),f===0)})}var Wc=function(){function u(){}return u.prototype._parseStoresSpec=function(c,f){o(c).forEach(function(p){if(c[p]!==null){var v=Ba(c[p]),D=v.shift();if(D.unique=!0,D.multi)throw new _e.Schema("Primary key cannot be multi-valued");v.forEach(function(x){if(x.auto)throw new _e.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new _e.Schema("Index must have a name and cannot be an empty string")}),f[p]=yn(p,D,v)}})},u.prototype.stores=function(c){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,c):c;var p=f._versions,v={},D={};return p.forEach(function(x){m(v,x._cfg.storesSource),D=x._cfg.dbschema={},x._parseStoresSpec(v,D)}),f._dbSchema=D,wi(f,[f._allTables,f,f.Transaction.prototype]),io(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],o(D),D),f._storeNames=o(D),this},u.prototype.upgrade=function(c){return this._cfg.contentUpgrade=ii(this._cfg.contentUpgrade||Ye,c),this},u}();function qc(u){return fi(Wc.prototype,function(f){this.db=u,this._cfg={version:f,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ds(u,c){var f=u._dbNamesDB;return f||(f=u._dbNamesDB=new sr(Ir,{addons:[],indexedDB:u,IDBKeyRange:c}),f.version(1).stores({dbnames:"name"})),f.table("dbnames")}function fs(u){return u&&typeof u.databases=="function"}function Yc(u){var c=u.indexedDB,f=u.IDBKeyRange;return fs(c)?Promise.resolve(c.databases()).then(function(p){return p.map(function(v){return v.name}).filter(function(v){return v!==Ir})}):ds(c,f).toCollection().primaryKeys()}function Xc(u,c){var f=u.indexedDB,p=u.IDBKeyRange;!fs(f)&&c!==Ir&&ds(f,p).put({name:c}).catch(Ye)}function a(u,c){var f=u.indexedDB,p=u.IDBKeyRange;!fs(f)&&c!==Ir&&ds(f,p).delete(c).catch(Ye)}function s(u){return Mn(function(){return be.letThrough=!0,u()})}function l(){var u=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!u||!indexedDB.databases)return Promise.resolve();var c;return new Promise(function(f){var p=function(){return indexedDB.databases().finally(f)};c=setInterval(p,100),p()}).finally(function(){return clearInterval(c)})}var h;function g(u){return!("from"in u)}var y=function(u,c){if(this)m(this,arguments.length?{d:1,from:u,to:arguments.length>1?c:u}:{d:0});else{var f=new y;return u&&"d"in u&&m(f,u),f}};T(y.prototype,(h={add:function(u){return S(this,u),this},addKey:function(u){return _(this,u,u),this},addKeys:function(u){var c=this;return u.forEach(function(f){return _(c,f,f)}),this},hasKey:function(u){var c=R(this).next(u).value;return c&&He(c.from,u)<=0&&He(c.to,u)>=0}},h[nt]=function(){return R(this)},h));function _(u,c,f){var p=He(c,f);if(!isNaN(p)){if(p>0)throw RangeError();if(g(u))return m(u,{from:c,to:f,d:1});var v=u.l,D=u.r;if(He(f,u.from)<0)return v?_(v,c,f):u.l={from:c,to:f,d:1,l:null,r:null},A(u);if(He(c,u.to)>0)return D?_(D,c,f):u.r={from:c,to:f,d:1,l:null,r:null},A(u);He(c,u.from)<0&&(u.from=c,u.l=null,u.d=D?D.d+1:1),He(f,u.to)>0&&(u.to=f,u.r=null,u.d=u.l?u.l.d+1:1);var x=!u.r;v&&!u.l&&S(u,v),D&&x&&S(u,D)}}function S(u,c){function f(p,v){var D=v.from,x=v.to,I=v.l,M=v.r;_(p,D,x),I&&f(p,I),M&&f(p,M)}g(c)||f(u,c)}function E(u,c){var f=R(c),p=f.next();if(p.done)return!1;for(var v=p.value,D=R(u),x=D.next(v.from),I=x.value;!p.done&&!x.done;){if(He(I.from,v.to)<=0&&He(I.to,v.from)>=0)return!0;He(v.from,I.from)<0?v=(p=f.next(I.from)).value:I=(x=D.next(v.from)).value}return!1}function R(u){var c=g(u)?null:{s:0,n:u};return{next:function(f){for(var p=arguments.length>0;c;)switch(c.s){case 0:if(c.s=1,p)for(;c.n.l&&He(f,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!p||He(f,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function A(u){var c,f,p=(((c=u.r)===null||c===void 0?void 0:c.d)||0)-(((f=u.l)===null||f===void 0?void 0:f.d)||0),v=p>1?"r":p<-1?"l":"";if(v){var D=v==="r"?"l":"r",x=r({},u),I=u[v];u.from=I.from,u.to=I.to,u[v]=I[v],x[v]=I[D],u[D]=x,x.d=k(x)}u.d=k(u)}function k(u){var c=u.r,f=u.l;return(c?f?Math.max(c.d,f.d):c.d:f?f.d:0)+1}function z(u,c){return o(c).forEach(function(f){u[f]?S(u[f],c[f]):u[f]=pe(c[f])}),u}function Q(u,c){return u.all||c.all||Object.keys(u).some(function(f){return c[f]&&E(c[f],u[f])})}var Z={},te={},le=!1;function ue(u,c){z(te,u),le||(le=!0,setTimeout(function(){le=!1;var f=te;te={},ye(f,!1)},0))}function ye(u,c){c===void 0&&(c=!1);var f=new Set;if(u.all)for(var p=0,v=Object.values(Z);p<v.length;p++){var D=v[p];ke(D,u,f,c)}else for(var x in u){var I=/^idb\:\/\/(.*)\/(.*)\//.exec(x);if(I){var M=I[1],F=I[2],D=Z["idb://".concat(M,"/").concat(F)];D&&ke(D,u,f,c)}}f.forEach(function(V){return V()})}function ke(u,c,f,p){for(var v=[],D=0,x=Object.entries(u.queries.query);D<x.length;D++){for(var I=x[D],M=I[0],F=I[1],V=[],P=0,$=F;P<$.length;P++){var ee=$[P];Q(c,ee.obsSet)?ee.subscribers.forEach(function(K){return f.add(K)}):p&&V.push(ee)}p&&v.push([M,V])}if(p)for(var N=0,B=v;N<B.length;N++){var G=B[N],M=G[0],V=G[1];u.queries.query[M]=V}}function Ge(u){var c=u._state,f=u._deps.indexedDB;if(c.isBeingOpened||u.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?rt(c.dbOpenError):u});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var p=c.openCanceller,v=Math.round(u.verno*10),D=!1;function x(){if(c.openCanceller!==p)throw new _e.DatabaseClosed("db.open() was cancelled")}var I=c.dbReadyResolve,M=null,F=!1,V=function(){return new se(function(P,$){if(x(),!f)throw new _e.MissingAPI;var ee=u.name,N=c.autoSchema||!v?f.open(ee):f.open(ee,v);if(!N)throw new _e.MissingAPI;N.onerror=un($),N.onblocked=ot(u._fireOnBlocked),N.onupgradeneeded=ot(function(B){if(M=N.transaction,c.autoSchema&&!u._options.allowEmptyDB){N.onerror=pi,M.abort(),N.result.close();var G=f.deleteDatabase(ee);G.onsuccess=G.onerror=ot(function(){$(new _e.NoSuchDatabase("Database ".concat(ee," doesnt exist")))})}else{M.onerror=un($);var K=B.oldVersion>Math.pow(2,62)?0:B.oldVersion;F=K<1,u.idbdb=N.result,D&&$c(u,M),oo(u,K/10,M,$)}},$),N.onsuccess=ot(function(){M=null;var B=u.idbdb=N.result,G=ce(B.objectStoreNames);if(G.length>0)try{var K=B.transaction(to(G),"readonly");if(c.autoSchema)Kc(u,B,K);else if(ao(u,u._dbSchema,K),!Hc(u,K)&&!D)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),B.close(),v=B.version+1,D=!0,P(V());ro(u,K)}catch{}rr.push(u),B.onversionchange=ot(function(H){c.vcFired=!0,u.on("versionchange").fire(H)}),B.onclose=ot(function(H){u.on("close").fire(H)}),F&&Xc(u._deps,ee),P()},$)}).catch(function(P){switch(P?.name){case"UnknownError":if(c.PR1398_maxLoop>0)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),V();break;case"VersionError":if(v>0)return v=0,V();break}return se.reject(P)})};return se.race([p,(typeof navigator>"u"?se.resolve():l()).then(V)]).then(function(){return x(),c.onReadyBeingFired=[],se.resolve(s(function(){return u.on.ready.fire(u.vip)})).then(function P(){if(c.onReadyBeingFired.length>0){var $=c.onReadyBeingFired.reduce(ii,Ye);return c.onReadyBeingFired=[],se.resolve(s(function(){return $(u.vip)})).then(P)}})}).finally(function(){c.openCanceller===p&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(P){c.dbOpenError=P;try{M&&M.abort()}catch{}return p===c.openCanceller&&u._close(),rt(P)}).finally(function(){c.openComplete=!0,I()}).then(function(){if(F){var P={};u.tables.forEach(function($){$.schema.indexes.forEach(function(ee){ee.name&&(P["idb://".concat(u.name,"/").concat($.name,"/").concat(ee.name)]=new y(-1/0,[[[]]]))}),P["idb://".concat(u.name,"/").concat($.name,"/")]=P["idb://".concat(u.name,"/").concat($.name,"/:dels")]=new y(-1/0,[[[]]])}),Nn(mi).fire(P),ye(P,!0)}return u})}function Ce(u){var c=function(x){return u.next(x)},f=function(x){return u.throw(x)},p=D(c),v=D(f);function D(x){return function(I){var M=x(I),F=M.value;return M.done?F:!F||typeof F.then!="function"?d(F)?Promise.all(F).then(p,v):p(F):F.then(p,v)}}return D(c)()}function Le(u,c,f){var p=arguments.length;if(p<2)throw new _e.InvalidArgument("Too few arguments");for(var v=new Array(p-1);--p;)v[p-1]=arguments[p];f=v.pop();var D=vt(v);return[u,D,f]}function It(u,c,f,p,v){return se.resolve().then(function(){var D=be.transless||be,x=u._createTransaction(c,f,u._dbSchema,p);x.explicit=!0;var I={trans:x,transless:D};if(p)x.idbtrans=p.idbtrans;else try{x.create(),x.idbtrans._explicit=!0,u._state.PR1398_maxLoop=3}catch(P){return P.name===Yn.InvalidState&&u.isOpen()&&--u._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),u.close({disableAutoOpen:!1}),u.open().then(function(){return It(u,c,f,null,v)})):rt(P)}var M=de(v);M&&Tn();var F,V=se.follow(function(){if(F=v.call(x,x),F)if(M){var P=Rn.bind(null,null);F.then(P,P)}else typeof F.next=="function"&&typeof F.throw=="function"&&(F=Ce(F))},I);return(F&&typeof F.then=="function"?se.resolve(F).then(function(P){return x.active?P:rt(new _e.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):V.then(function(){return F})).then(function(P){return p&&x._resolve(),x._completion.then(function(){return P})}).catch(function(P){return x._reject(P),rt(P)})})}function et(u,c,f){for(var p=d(u)?u.slice():[u],v=0;v<f;++v)p.push(c);return p}function zt(u){return r(r({},u),{table:function(c){var f=u.table(c),p=f.schema,v={},D=[];function x(B,G,K){var H=bi(B),q=v[H]=v[H]||[],X=B==null?0:typeof B=="string"?1:B.length,W=G>0,re=r(r({},K),{name:W?"".concat(H,"(virtual-from:").concat(K.name,")"):K.name,lowLevelIndex:K,isVirtual:W,keyTail:G,keyLength:X,extractKey:no(B),unique:!W&&K.unique});if(q.push(re),re.isPrimaryKey||D.push(re),X>1){var fe=X===2?B[0]:B.slice(0,X-1);x(fe,G+1,K)}return q.sort(function(me,Ae){return me.keyTail-Ae.keyTail}),re}var I=x(p.primaryKey.keyPath,0,p.primaryKey);v[":id"]=[I];for(var M=0,F=p.indexes;M<F.length;M++){var V=F[M];x(V.keyPath,0,V)}function P(B){var G=v[bi(B)];return G&&G[0]}function $(B,G){return{type:B.type===1?2:B.type,lower:et(B.lower,B.lowerOpen?u.MAX_KEY:u.MIN_KEY,G),lowerOpen:!0,upper:et(B.upper,B.upperOpen?u.MIN_KEY:u.MAX_KEY,G),upperOpen:!0}}function ee(B){var G=B.query.index;return G.isVirtual?r(r({},B),{query:{index:G.lowLevelIndex,range:$(B.query.range,G.keyTail)}}):B}var N=r(r({},f),{schema:r(r({},p),{primaryKey:I,indexes:D,getIndexByKeyPath:P}),count:function(B){return f.count(ee(B))},query:function(B){return f.query(ee(B))},openCursor:function(B){var G=B.query.index,K=G.keyTail,H=G.isVirtual,q=G.keyLength;if(!H)return f.openCursor(B);function X(W){function re(me){me!=null?W.continue(et(me,B.reverse?u.MAX_KEY:u.MIN_KEY,K)):B.unique?W.continue(W.key.slice(0,q).concat(B.reverse?u.MIN_KEY:u.MAX_KEY,K)):W.continue()}var fe=Object.create(W,{continue:{value:re},continuePrimaryKey:{value:function(me,Ae){W.continuePrimaryKey(et(me,u.MAX_KEY,K),Ae)}},primaryKey:{get:function(){return W.primaryKey}},key:{get:function(){var me=W.key;return q===1?me[0]:me.slice(0,q)}},value:{get:function(){return W.value}}});return fe}return f.openCursor(ee(B)).then(function(W){return W&&X(W)})}});return N}})}var Zt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:zt};function Qt(u,c,f,p){return f=f||{},p=p||"",o(u).forEach(function(v){if(!C(c,v))f[p+v]=void 0;else{var D=u[v],x=c[v];if(typeof D=="object"&&typeof x=="object"&&D&&x){var I=qe(D),M=qe(x);I!==M?f[p+v]=c[v]:I==="Object"?Qt(D,x,f,p+v+"."):D!==x&&(f[p+v]=c[v])}else D!==x&&(f[p+v]=c[v])}}),o(c).forEach(function(v){C(u,v)||(f[p+v]=c[v])}),f}function Or(u,c){return c.type==="delete"?c.keys:c.keys||c.values.map(u.extractKey)}var _i={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return r(r({},u),{table:function(c){var f=u.table(c),p=f.schema.primaryKey,v=r(r({},f),{mutate:function(D){var x=be.trans,I=x.table(c).hook,M=I.deleting,F=I.creating,V=I.updating;switch(D.type){case"add":if(F.fire===Ye)break;return x._promise("readwrite",function(){return P(D)},!0);case"put":if(F.fire===Ye&&V.fire===Ye)break;return x._promise("readwrite",function(){return P(D)},!0);case"delete":if(M.fire===Ye)break;return x._promise("readwrite",function(){return P(D)},!0);case"deleteRange":if(M.fire===Ye)break;return x._promise("readwrite",function(){return $(D)},!0)}return f.mutate(D);function P(N){var B=be.trans,G=N.keys||Or(p,N);if(!G)throw new Error("Keys missing");return N=N.type==="add"||N.type==="put"?r(r({},N),{keys:G}):r({},N),N.type!=="delete"&&(N.values=n([],N.values,!0)),N.keys&&(N.keys=n([],N.keys,!0)),Xg(f,N,G).then(function(K){var H=G.map(function(q,X){var W=K[X],re={onerror:null,onsuccess:null};if(N.type==="delete")M.fire.call(re,q,W,B);else if(N.type==="add"||W===void 0){var fe=F.fire.call(re,q,N.values[X],B);q==null&&fe!=null&&(q=fe,N.keys[X]=q,p.outbound||ht(N.values[X],p.keyPath,q))}else{var me=Qt(W,N.values[X]),Ae=V.fire.call(re,me,q,W,B);if(Ae){var we=N.values[X];Object.keys(Ae).forEach(function(Ee){C(we,Ee)?we[Ee]=Ae[Ee]:ht(we,Ee,Ae[Ee])})}}return re});return f.mutate(N).then(function(q){for(var X=q.failures,W=q.results,re=q.numFailures,fe=q.lastResult,me=0;me<G.length;++me){var Ae=W?W[me]:G[me],we=H[me];Ae==null?we.onerror&&we.onerror(X[me]):we.onsuccess&&we.onsuccess(N.type==="put"&&K[me]?N.values[me]:Ae)}return{failures:X,results:W,numFailures:re,lastResult:fe}}).catch(function(q){return H.forEach(function(X){return X.onerror&&X.onerror(q)}),Promise.reject(q)})})}function $(N){return ee(N.trans,N.range,1e4)}function ee(N,B,G){return f.query({trans:N,values:!1,query:{index:p,range:B},limit:G}).then(function(K){var H=K.result;return P({type:"delete",keys:H,trans:N}).then(function(q){return q.numFailures>0?Promise.reject(q.failures[0]):H.length<G?{failures:[],numFailures:0,lastResult:void 0}:ee(N,r(r({},B),{lower:H[H.length-1],lowerOpen:!0}),G)})})}}});return v}})}};function Xg(u,c,f){return c.type==="add"?Promise.resolve([]):u.getMany({trans:c.trans,keys:f,cache:"immutable"})}function lf(u,c,f){try{if(!c||c.keys.length<u.length)return null;for(var p=[],v=0,D=0;v<c.keys.length&&D<u.length;++v)He(c.keys[v],u[D])===0&&(p.push(f?Se(c.values[v]):c.values[v]),++D);return p.length===u.length?p:null}catch{return null}}var Zg={stack:"dbcore",level:-1,create:function(u){return{table:function(c){var f=u.table(c);return r(r({},f),{getMany:function(p){if(!p.cache)return f.getMany(p);var v=lf(p.keys,p.trans._cache,p.cache==="clone");return v?se.resolve(v):f.getMany(p).then(function(D){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?Se(D):D},D})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),f.mutate(p)}})}}}};function df(u,c){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function ff(u,c){switch(u){case"query":return c.values&&!c.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Qg={stack:"dbcore",level:0,name:"Observability",create:function(u){var c=u.schema.name,f=new y(u.MIN_KEY,u.MAX_KEY);return r(r({},u),{transaction:function(p,v,D){if(be.subscr&&v!=="readonly")throw new _e.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return u.transaction(p,v,D)},table:function(p){var v=u.table(p),D=v.schema,x=D.primaryKey,I=D.indexes,M=x.extractKey,F=x.outbound,V=x.autoIncrement&&I.filter(function(N){return N.compound&&N.keyPath.includes(x.keyPath)}),P=r(r({},v),{mutate:function(N){var B=N.trans,G=N.mutatedParts||(N.mutatedParts={}),K=function(Ee){var Ke="idb://".concat(c,"/").concat(p,"/").concat(Ee);return G[Ke]||(G[Ke]=new y)},H=K(""),q=K(":dels"),X=N.type,W=N.type==="deleteRange"?[N.range]:N.type==="delete"?[N.keys]:N.values.length<50?[Or(x,N).filter(function(Ee){return Ee}),N.values]:[],re=W[0],fe=W[1],me=N.trans._cache;if(d(re)){H.addKeys(re);var Ae=X==="delete"||re.length===fe.length?lf(re,me):null;Ae||q.addKeys(re),(Ae||fe)&&Jg(K,D,Ae,fe)}else if(re){var we={from:re.lower,to:re.upper};q.add(we),H.add(we)}else H.add(f),q.add(f),D.indexes.forEach(function(Ee){return K(Ee.name).add(f)});return v.mutate(N).then(function(Ee){return re&&(N.type==="add"||N.type==="put")&&(H.addKeys(Ee.results),V&&V.forEach(function(Ke){var Fe=N.values.map(function(Ie){return Ke.extractKey(Ie)}),it=Ke.keyPath.findIndex(function(Ie){return Ie===x.keyPath});Ee.results.forEach(function(Ie){return Fe[it]=Ie}),K(Ke.name).addKeys(Fe)})),B.mutatedParts=z(B.mutatedParts||{},G),Ee})}}),$=function(N){var B,G,K=N.query,H=K.index,q=K.range;return[H,new y((B=q.lower)!==null&&B!==void 0?B:u.MIN_KEY,(G=q.upper)!==null&&G!==void 0?G:u.MAX_KEY)]},ee={get:function(N){return[x,new y(N.key)]},getMany:function(N){return[x,new y().addKeys(N.keys)]},count:$,query:$,openCursor:$};return o(ee).forEach(function(N){P[N]=function(B){var G=be.subscr,K=!!G,H=df(be,v)&&ff(N,B),q=H?B.obsSet={}:G;if(K){var X=function(Ee){var Ke="idb://".concat(c,"/").concat(p,"/").concat(Ee);return q[Ke]||(q[Ke]=new y)},W=X(""),re=X(":dels"),fe=ee[N](B),me=fe[0],Ae=fe[1];if(N==="query"&&me.isPrimaryKey&&!B.values?re.add(Ae):X(me.name||"").add(Ae),!me.isPrimaryKey)if(N==="count")re.add(f);else{var we=N==="query"&&F&&B.values&&v.query(r(r({},B),{values:!1}));return v[N].apply(this,arguments).then(function(Ee){if(N==="query"){if(F&&B.values)return we.then(function(Ie){var At=Ie.result;return W.addKeys(At),Ee});var Ke=B.values?Ee.result.map(M):Ee.result;B.values?W.addKeys(Ke):re.addKeys(Ke)}else if(N==="openCursor"){var Fe=Ee,it=B.values;return Fe&&Object.create(Fe,{key:{get:function(){return re.addKey(Fe.primaryKey),Fe.key}},primaryKey:{get:function(){var Ie=Fe.primaryKey;return re.addKey(Ie),Ie}},value:{get:function(){return it&&W.addKey(Fe.primaryKey),Fe.value}}})}return Ee})}}return v[N].apply(this,arguments)}}),P}})}};function Jg(u,c,f,p){function v(D){var x=u(D.name||"");function I(F){return F!=null?D.extractKey(F):null}var M=function(F){return D.multiEntry&&d(F)?F.forEach(function(V){return x.addKey(V)}):x.addKey(F)};(f||p).forEach(function(F,V){var P=f&&I(f[V]),$=p&&I(p[V]);He(P,$)!==0&&(P!=null&&M(P),$!=null&&M($))})}c.indexes.forEach(v)}function hf(u,c,f){if(f.numFailures===0)return c;if(c.type==="deleteRange")return null;var p=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;if(f.numFailures===p)return null;var v=r({},c);return d(v.keys)&&(v.keys=v.keys.filter(function(D,x){return!(x in f.failures)})),"values"in v&&d(v.values)&&(v.values=v.values.filter(function(D,x){return!(x in f.failures)})),v}function ev(u,c){return c.lower===void 0?!0:c.lowerOpen?He(u,c.lower)>0:He(u,c.lower)>=0}function tv(u,c){return c.upper===void 0?!0:c.upperOpen?He(u,c.upper)<0:He(u,c.upper)<=0}function Zc(u,c){return ev(u,c)&&tv(u,c)}function pf(u,c,f,p,v,D){if(!f||f.length===0)return u;var x=c.query.index,I=x.multiEntry,M=c.query.range,F=p.schema.primaryKey,V=F.extractKey,P=x.extractKey,$=(x.lowLevelIndex||x).extractKey,ee=f.reduce(function(N,B){var G=N,K=[];if(B.type==="add"||B.type==="put")for(var H=new y,q=B.values.length-1;q>=0;--q){var X=B.values[q],W=V(X);if(!H.hasKey(W)){var re=P(X);(I&&d(re)?re.some(function(we){return Zc(we,M)}):Zc(re,M))&&(H.addKey(W),K.push(X))}}switch(B.type){case"add":G=N.concat(c.values?K:K.map(function(we){return V(we)}));break;case"put":var fe=new y().addKeys(B.values.map(function(we){return V(we)}));G=N.filter(function(we){return!fe.hasKey(c.values?V(we):we)}).concat(c.values?K:K.map(function(we){return V(we)}));break;case"delete":var me=new y().addKeys(B.keys);G=N.filter(function(we){return!me.hasKey(c.values?V(we):we)});break;case"deleteRange":var Ae=B.range;G=N.filter(function(we){return!Zc(V(we),Ae)});break}return G},u);return ee===u?u:(ee.sort(function(N,B){return He($(N),$(B))||He(V(N),V(B))}),c.limit&&c.limit<1/0&&(ee.length>c.limit?ee.length=c.limit:u.length===c.limit&&ee.length<c.limit&&(v.dirty=!0)),D?Object.freeze(ee):ee)}function mf(u,c){return He(u.lower,c.lower)===0&&He(u.upper,c.upper)===0&&!!u.lowerOpen==!!c.lowerOpen&&!!u.upperOpen==!!c.upperOpen}function nv(u,c,f,p){if(u===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;var v=He(u,c);if(v===0){if(f&&p)return 0;if(f)return 1;if(p)return-1}return v}function rv(u,c,f,p){if(u===void 0)return c!==void 0?1:0;if(c===void 0)return-1;var v=He(u,c);if(v===0){if(f&&p)return 0;if(f)return-1;if(p)return 1}return v}function iv(u,c){return nv(u.lower,c.lower,u.lowerOpen,c.lowerOpen)<=0&&rv(u.upper,c.upper,u.upperOpen,c.upperOpen)>=0}function ov(u,c,f,p){var v=Z["idb://".concat(u,"/").concat(c)];if(!v)return[];var D=v.queries[f];if(!D)return[null,!1,v,null];var x=p.query?p.query.index.name:null,I=D[x||""];if(!I)return[null,!1,v,null];switch(f){case"query":var M=I.find(function(P){return P.req.limit===p.limit&&P.req.values===p.values&&mf(P.req.query.range,p.query.range)});if(M)return[M,!0,v,I];var F=I.find(function(P){var $="limit"in P.req?P.req.limit:1/0;return $>=p.limit&&(p.values?P.req.values:!0)&&iv(P.req.query.range,p.query.range)});return[F,!1,v,I];case"count":var V=I.find(function(P){return mf(P.req.query.range,p.query.range)});return[V,!!V,v,I]}}function sv(u,c,f,p){u.subscribers.add(f),p.addEventListener("abort",function(){u.subscribers.delete(f),u.subscribers.size===0&&av(u,c)})}function av(u,c){setTimeout(function(){u.subscribers.size===0&&Je(c,u)},3e3)}var uv={stack:"dbcore",level:0,name:"Cache",create:function(u){var c=u.schema.name,f=r(r({},u),{transaction:function(p,v,D){var x=u.transaction(p,v,D);if(v==="readwrite"){var I=new AbortController,M=I.signal,F=function(V){return function(){if(I.abort(),v==="readwrite"){for(var P=new Set,$=0,ee=p;$<ee.length;$++){var N=ee[$],B=Z["idb://".concat(c,"/").concat(N)];if(B){var G=u.table(N),K=B.optimisticOps.filter(function(it){return it.trans===x});if(x._explicit&&V&&x.mutatedParts)for(var H=0,q=Object.values(B.queries.query);H<q.length;H++)for(var X=q[H],W=0,re=X.slice();W<re.length;W++){var fe=re[W];Q(fe.obsSet,x.mutatedParts)&&(Je(X,fe),fe.subscribers.forEach(function(it){return P.add(it)}))}else if(K.length>0){B.optimisticOps=B.optimisticOps.filter(function(it){return it.trans!==x});for(var me=0,Ae=Object.values(B.queries.query);me<Ae.length;me++)for(var X=Ae[me],we=0,Ee=X.slice();we<Ee.length;we++){var fe=Ee[we];if(fe.res!=null&&x.mutatedParts)if(V&&!fe.dirty){var Ke=Object.isFrozen(fe.res),Fe=pf(fe.res,fe.req,K,G,fe,Ke);fe.dirty?(Je(X,fe),fe.subscribers.forEach(function(At){return P.add(At)})):Fe!==fe.res&&(fe.res=Fe,fe.promise=se.resolve({result:Fe}))}else fe.dirty&&Je(X,fe),fe.subscribers.forEach(function(At){return P.add(At)})}}}}P.forEach(function(it){return it()})}}};x.addEventListener("abort",F(!1),{signal:M}),x.addEventListener("error",F(!1),{signal:M}),x.addEventListener("complete",F(!0),{signal:M})}return x},table:function(p){var v=u.table(p),D=v.schema.primaryKey,x=r(r({},v),{mutate:function(I){var M=be.trans;if(D.outbound||M.db._options.cache==="disabled"||M.explicit)return v.mutate(I);var F=Z["idb://".concat(c,"/").concat(p)];if(!F)return v.mutate(I);var V=v.mutate(I);return(I.type==="add"||I.type==="put")&&(I.values.length>=50||Or(D,I).some(function(P){return P==null}))?V.then(function(P){var $=r(r({},I),{values:I.values.map(function(N,B){var G,K=!((G=D.keyPath)===null||G===void 0)&&G.includes(".")?Se(N):r({},N);return ht(K,D.keyPath,P.results[B]),K})}),ee=hf(F,$,P);F.optimisticOps.push(ee),queueMicrotask(function(){return I.mutatedParts&&ue(I.mutatedParts)})}):(F.optimisticOps.push(I),I.mutatedParts&&ue(I.mutatedParts),V.then(function(P){if(P.numFailures>0){Je(F.optimisticOps,I);var $=hf(F,I,P);$&&F.optimisticOps.push($),I.mutatedParts&&ue(I.mutatedParts)}}),V.catch(function(){Je(F.optimisticOps,I),I.mutatedParts&&ue(I.mutatedParts)})),V},query:function(I){var M;if(!df(be,v)||!ff("query",I))return v.query(I);var F=((M=be.trans)===null||M===void 0?void 0:M.db._options.cache)==="immutable",V=be,P=V.requery,$=V.signal,ee=ov(c,p,"query",I),N=ee[0],B=ee[1],G=ee[2],K=ee[3];if(N&&B)N.obsSet=I.obsSet;else{var H=v.query(I).then(function(q){var X=q.result;if(N&&(N.res=X),F){for(var W=0,re=X.length;W<re;++W)Object.freeze(X[W]);Object.freeze(X)}else q.result=Se(X);return q}).catch(function(q){return K&&N&&Je(K,N),Promise.reject(q)});N={obsSet:I.obsSet,promise:H,subscribers:new Set,type:"query",req:I,dirty:!1},K?K.push(N):(K=[N],G||(G=Z["idb://".concat(c,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),G.queries.query[I.query.index.name||""]=K)}return sv(N,K,P,$),N.promise.then(function(q){return{result:pf(q.result,I,G?.optimisticOps,v,N,F)}})}});return x}});return f}};function Ua(u,c){return new Proxy(u,{get:function(f,p,v){return p==="db"?c:Reflect.get(f,p,v)}})}var sr=function(){function u(c,f){var p=this;this._middlewares={},this.verno=0;var v=u.dependencies;this._options=f=r({addons:u.addons,autoOpen:!0,indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange};var D=f.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var x={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};x.dbReadyPromise=new se(function(M){x.dbReadyResolve=M}),x.openCanceller=new se(function(M,F){x.cancelOpen=F}),this._state=x,this.name=c,this.on=Pn(this,"populate","blocked","versionchange","close",{ready:[ii,Ye]}),this.on.ready.subscribe=$e(this.on.ready.subscribe,function(M){return function(F,V){u.vip(function(){var P=p._state;if(P.openComplete)P.dbOpenError||se.resolve().then(F),V&&M(F);else if(P.onReadyBeingFired)P.onReadyBeingFired.push(F),V&&M(F);else{M(F);var $=p;V||M(function ee(){$.on.ready.unsubscribe(F),$.on.ready.unsubscribe(ee)})}})}}),this.Collection=Na(this),this.Table=Oa(this),this.Transaction=Lc(this),this.Version=qc(this),this.WhereClause=Nc(this),this.on("versionchange",function(M){M.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(M){!M.newVersion||M.newVersion<M.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(M.oldVersion/10))}),this._maxKey=vi(f.IDBKeyRange),this._createTransaction=function(M,F,V,P){return new p.Transaction(M,F,V,p._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(M){p.on("blocked").fire(M),rr.filter(function(F){return F.name===p.name&&F!==p&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(M)})},this.use(Zg),this.use(uv),this.use(Qg),this.use(Zt),this.use(_i);var I=new Proxy(this,{get:function(M,F,V){if(F==="_vip")return!0;if(F==="table")return function($){return Ua(p.table($),I)};var P=Reflect.get(M,F,V);return P instanceof Fa?Ua(P,I):F==="tables"?P.map(function($){return Ua($,I)}):F==="_createTransaction"?function(){var $=P.apply(this,arguments);return Ua($,I)}:P}});this.vip=I,D.forEach(function(M){return M(p)})}return u.prototype.version=function(c){if(isNaN(c)||c<.1)throw new _e.Type("Given version is not a positive number");if(c=Math.round(c*10)/10,this.idbdb||this._state.isBeingOpened)throw new _e.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var f=this._versions,p=f.filter(function(v){return v._cfg.version===c})[0];return p||(p=new this.Version(c),f.push(p),f.sort(zc),p.stores({}),this._state.autoSchema=!1,p)},u.prototype._whenReady=function(c){var f=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?c():new se(function(p,v){if(f._state.openComplete)return v(new _e.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen){v(new _e.DatabaseClosed);return}f.open().catch(Ye)}f._state.dbReadyPromise.then(p,v)}).then(c)},u.prototype.use=function(c){var f=c.stack,p=c.create,v=c.level,D=c.name;D&&this.unuse({stack:f,name:D});var x=this._middlewares[f]||(this._middlewares[f]=[]);return x.push({stack:f,create:p,level:v??10,name:D}),x.sort(function(I,M){return I.level-M.level}),this},u.prototype.unuse=function(c){var f=c.stack,p=c.name,v=c.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(D){return v?D.create!==v:p?D.name!==p:!1})),this},u.prototype.open=function(){var c=this;return tr(An,function(){return Ge(c)})},u.prototype._close=function(){var c=this._state,f=rr.indexOf(this);if(f>=0&&rr.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new se(function(p){c.dbReadyResolve=p}),c.openCanceller=new se(function(p,v){c.cancelOpen=v}))},u.prototype.close=function(c){var f=c===void 0?{disableAutoOpen:!0}:c,p=f.disableAutoOpen,v=this._state;p?(v.isBeingOpened&&v.cancelOpen(new _e.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new _e.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},u.prototype.delete=function(c){var f=this;c===void 0&&(c={disableAutoOpen:!0});var p=arguments.length>0&&typeof arguments[0]!="object",v=this._state;return new se(function(D,x){var I=function(){f.close(c);var M=f._deps.indexedDB.deleteDatabase(f.name);M.onsuccess=ot(function(){a(f._deps,f.name),D()}),M.onerror=un(x),M.onblocked=f._fireOnBlocked};if(p)throw new _e.InvalidArgument("Invalid closeOptions argument to db.delete()");v.isBeingOpened?v.dbReadyPromise.then(I):I()})},u.prototype.backendDB=function(){return this.idbdb},u.prototype.isOpen=function(){return this.idbdb!==null},u.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},u.prototype.hasFailed=function(){return this._state.dbOpenError!==null},u.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(u.prototype,"tables",{get:function(){var c=this;return o(this._allTables).map(function(f){return c._allTables[f]})},enumerable:!1,configurable:!0}),u.prototype.transaction=function(){var c=Le.apply(this,arguments);return this._transaction.apply(this,c)},u.prototype._transaction=function(c,f,p){var v=this,D=be.trans;(!D||D.db!==this||c.indexOf("!")!==-1)&&(D=null);var x=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");var I,M;try{if(M=f.map(function(V){var P=V instanceof v.Table?V.name:V;if(typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),c=="r"||c===Qo)I=Qo;else if(c=="rw"||c==Jo)I=Jo;else throw new _e.InvalidArgument("Invalid transaction mode: "+c);if(D){if(D.mode===Qo&&I===Jo)if(x)D=null;else throw new _e.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");D&&M.forEach(function(V){if(D&&D.storeNames.indexOf(V)===-1)if(x)D=null;else throw new _e.SubTransaction("Table "+V+" not included in parent transaction.")}),x&&D&&!D.active&&(D=null)}}catch(V){return D?D._promise(null,function(P,$){$(V)}):rt(V)}var F=It.bind(null,this,I,M,D,p);return D?D._promise(I,F,"lock"):be.trans?tr(be.transless,function(){return v._whenReady(F)}):this._whenReady(F)},u.prototype.table=function(c){if(!C(this._allTables,c))throw new _e.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},u}(),cv=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",lv=function(){function u(c){this._subscribe=c}return u.prototype.subscribe=function(c,f,p){return this._subscribe(!c||typeof c=="function"?{next:c,error:f,complete:p}:c)},u.prototype[cv]=function(){return this},u}(),ja;try{ja={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{ja={indexedDB:null,IDBKeyRange:null}}function gf(u){var c=!1,f,p=new lv(function(v){var D=de(u);function x(K){var H=Sr();try{D&&Tn();var q=Mn(u,K);return D&&(q=q.finally(Rn)),q}finally{H&&an()}}var I=!1,M,F={},V={},P={get closed(){return I},unsubscribe:function(){I||(I=!0,M&&M.abort(),$&&Nn.storagemutated.unsubscribe(B))}};v.start&&v.start(P);var $=!1,ee=function(){return Er(G)};function N(){return Q(V,F)}var B=function(K){z(F,K),N()&&ee()},G=function(){if(!(I||!ja.indexedDB)){F={};var K={};M&&M.abort(),M=new AbortController;var H={subscr:K,signal:M.signal,requery:ee,querier:u,trans:null},q=x(H);Promise.resolve(q).then(function(X){c=!0,f=X,!(I||H.signal.aborted)&&(F={},V=K,!ne(V)&&!$&&(Nn(mi,B),$=!0),Er(function(){return!I&&v.next&&v.next(X)}))},function(X){c=!1,["DatabaseClosedError","AbortError"].includes(X?.name)||I||Er(function(){I||v.error&&v.error(X)})})}};return setTimeout(ee,0),P});return p.hasValue=function(){return c},p.getValue=function(){return f},p}var Si=sr;T(Si,r(r({},ni),{delete:function(u){var c=new Si(u,{addons:[]});return c.delete()},exists:function(u){return new Si(u,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return Yc(Si.dependencies).then(u)}catch{return rt(new _e.MissingAPI)}},defineClass:function(){function u(c){m(this,c)}return u},ignoreTransaction:function(u){return be.trans?tr(be.transless,u):u()},vip:s,async:function(u){return function(){try{var c=Ce(u.apply(this,arguments));return!c||typeof c.then!="function"?se.resolve(c):c}catch(f){return rt(f)}}},spawn:function(u,c,f){try{var p=Ce(u.apply(f,c||[]));return!p||typeof p.then!="function"?se.resolve(p):p}catch(v){return rt(v)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(u,c){var f=se.resolve(typeof u=="function"?Si.ignoreTransaction(u):u).timeout(c||6e4);return be.trans?be.trans.waitFor(f):f},Promise:se,debug:{get:function(){return Xt},set:function(u){Ko(u)}},derive:oe,extend:m,props:T,override:$e,Events:Pn,on:Nn,liveQuery:gf,extendObservabilitySet:z,getByKeyPath:ft,setByKeyPath:ht,delByKeyPath:Wn,shallowClone:wt,deepClone:Se,getObjectDiff:Qt,cmp:He,asap:U,minKey:nr,addons:[],connections:rr,errnames:Yn,dependencies:ja,cache:Z,semVer:di,version:di.split(".").map(function(u){return parseInt(u)}).reduce(function(u,c,f){return u+c/Math.pow(10,f*2)})})),Si.maxKey=vi(Si.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Nn(mi,function(u){if(!Pr){var c;c=new CustomEvent(as,{detail:u}),Pr=!0,dispatchEvent(c),Pr=!1}}),addEventListener(as,function(u){var c=u.detail;Pr||Qc(c)}));function Qc(u){var c=Pr;try{Pr=!0,Nn.storagemutated.fire(u),ye(u,!0)}finally{Pr=c}}var Pr=!1,kr,Jc=function(){};typeof BroadcastChannel<"u"&&(Jc=function(){kr=new BroadcastChannel(as),kr.onmessage=function(u){return u.data&&Qc(u.data)}},Jc(),typeof kr.unref=="function"&&kr.unref(),Nn(mi,function(u){Pr||kr.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!sr.disableBfCache&&u.persisted){Xt&&console.debug("Dexie: handling persisted pagehide"),kr?.close();for(var c=0,f=rr;c<f.length;c++){var p=f[c];p.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(u){!sr.disableBfCache&&u.persisted&&(Xt&&console.debug("Dexie: handling persisted pageshow"),Jc(),Qc({all:new y(-1/0,[[]])}))}));function dv(u){return new Mr({add:u})}function fv(u){return new Mr({remove:u})}function hv(u,c){return new Mr({replacePrefix:[u,c]})}se.rejectionMapper=_a,Ko(Xt);var pv=Object.freeze({__proto__:null,Dexie:sr,liveQuery:gf,Entity:es,cmp:He,PropModSymbol:is,PropModification:Mr,replacePrefix:hv,add:dv,remove:fv,default:sr,RangeSet:y,mergeRanges:S,rangesOverlap:E});return r(sr,pv,{default:sr}),sr})});var Up=vf((Vd,Ui)=>{"use strict";(function(t,e){typeof Vd=="object"&&typeof Ui<"u"?Ui.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).interact=e()})(Vd,function(){"use strict";function t(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);s&&(h=h.filter(function(g){return Object.getOwnPropertyDescriptor(a,g).enumerable})),l.push.apply(l,h)}return l}function e(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?t(Object(l),!0).forEach(function(h){d(a,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach(function(h){Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(l,h))})}return a}function r(a){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(a)}function n(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function i(a,s){for(var l=0;l<s.length;l++){var h=s[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,L(h.key),h)}}function o(a,s,l){return s&&i(a.prototype,s),l&&i(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}function d(a,s,l){return(s=L(s))in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,a}function m(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&b(a,s)}function w(a){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},w(a)}function b(a,s){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},b(a,s)}function C(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function T(a){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,h=w(a);if(s){var g=w(this).constructor;l=Reflect.construct(h,arguments,g)}else l=h.apply(this,arguments);return function(y,_){if(_&&(typeof _=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(y)}(this,l)}}function O(){return O=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,s,l){var h=function(y,_){for(;!Object.prototype.hasOwnProperty.call(y,_)&&(y=w(y))!==null;);return y}(a,s);if(h){var g=Object.getOwnPropertyDescriptor(h,s);return g.get?g.get.call(arguments.length<3?a:l):g.value}},O.apply(this,arguments)}function L(a){var s=function(l,h){if(typeof l!="object"||l===null)return l;var g=l[Symbol.toPrimitive];if(g!==void 0){var y=g.call(l,h||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(l)}(a,"string");return typeof s=="symbol"?s:s+""}var oe=function(a){return!(!a||!a.Window)&&a instanceof a.Window},ve=void 0,ae=void 0;function Y(a){ve=a;var s=a.document.createTextNode("");s.ownerDocument!==a.document&&typeof a.wrap=="function"&&a.wrap(s)===s&&(a=a.wrap(a)),ae=a}function ce(a){return oe(a)?a:(a.ownerDocument||a).defaultView||ae.window}typeof window<"u"&&window&&Y(window);var $e=function(a){return!!a&&r(a)==="object"},xe=function(a){return typeof a=="function"},U={window:function(a){return a===ae||oe(a)},docFrag:function(a){return $e(a)&&a.nodeType===11},object:$e,func:xe,number:function(a){return typeof a=="number"},bool:function(a){return typeof a=="boolean"},string:function(a){return typeof a=="string"},element:function(a){if(!a||r(a)!=="object")return!1;var s=ce(a)||ae;return/object|function/.test(typeof Element>"u"?"undefined":r(Element))?a instanceof Element||a instanceof s.Element:a.nodeType===1&&typeof a.nodeName=="string"},plainObject:function(a){return $e(a)&&!!a.constructor&&/function Object\b/.test(a.constructor.toString())},array:function(a){return $e(a)&&a.length!==void 0&&xe(a.splice)}};function dt(a){var s=a.interaction;if(s.prepared.name==="drag"){var l=s.prepared.axis;l==="x"?(s.coords.cur.page.y=s.coords.start.page.y,s.coords.cur.client.y=s.coords.start.client.y,s.coords.velocity.client.y=0,s.coords.velocity.page.y=0):l==="y"&&(s.coords.cur.page.x=s.coords.start.page.x,s.coords.cur.client.x=s.coords.start.client.x,s.coords.velocity.client.x=0,s.coords.velocity.page.x=0)}}function ft(a){var s=a.iEvent,l=a.interaction;if(l.prepared.name==="drag"){var h=l.prepared.axis;if(h==="x"||h==="y"){var g=h==="x"?"y":"x";s.page[g]=l.coords.start.page[g],s.client[g]=l.coords.start.client[g],s.delta[g]=0}}}var ht={id:"actions/drag",install:function(a){var s=a.actions,l=a.Interactable,h=a.defaults;l.prototype.draggable=ht.draggable,s.map.drag=ht,s.methodDict.drag="draggable",h.actions.drag=ht.defaults},listeners:{"interactions:before-action-move":dt,"interactions:action-resume":dt,"interactions:action-move":ft,"auto-start:check":function(a){var s=a.interaction,l=a.interactable,h=a.buttons,g=l.options.drag;if(g&&g.enabled&&(!s.pointerIsDown||!/mouse|pointer/.test(s.pointerType)||h&l.options.drag.mouseButtons))return a.action={name:"drag",axis:g.lockAxis==="start"?g.startAxis:g.lockAxis},!1}},draggable:function(a){return U.object(a)?(this.options.drag.enabled=a.enabled!==!1,this.setPerAction("drag",a),this.setOnEvents("drag",a),/^(xy|x|y|start)$/.test(a.lockAxis)&&(this.options.drag.lockAxis=a.lockAxis),/^(xy|x|y)$/.test(a.startAxis)&&(this.options.drag.startAxis=a.startAxis),this):U.bool(a)?(this.options.drag.enabled=a,this):this.options.drag},beforeMove:dt,move:ft,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(a){return a.search("drag")===0}},Wn=ht,wt={init:function(a){var s=a;wt.document=s.document,wt.DocumentFragment=s.DocumentFragment||En,wt.SVGElement=s.SVGElement||En,wt.SVGSVGElement=s.SVGSVGElement||En,wt.SVGElementInstance=s.SVGElementInstance||En,wt.Element=s.Element||En,wt.HTMLElement=s.HTMLElement||wt.Element,wt.Event=s.Event,wt.Touch=s.Touch||En,wt.PointerEvent=s.PointerEvent||s.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function En(){}var vt=wt,kt={init:function(a){var s=vt.Element,l=a.navigator||{};kt.supportsTouch="ontouchstart"in a||U.func(a.DocumentTouch)&&vt.document instanceof a.DocumentTouch,kt.supportsPointerEvent=l.pointerEnabled!==!1&&!!vt.PointerEvent,kt.isIOS=/iP(hone|od|ad)/.test(l.platform),kt.isIOS7=/iP(hone|od|ad)/.test(l.platform)&&/OS 7[^\d]/.test(l.appVersion),kt.isIe9=/MSIE 9/.test(l.userAgent),kt.isOperaMobile=l.appName==="Opera"&&kt.supportsTouch&&/Presto/.test(l.userAgent),kt.prefixedMatchesSelector="matches"in s.prototype?"matches":"webkitMatchesSelector"in s.prototype?"webkitMatchesSelector":"mozMatchesSelector"in s.prototype?"mozMatchesSelector":"oMatchesSelector"in s.prototype?"oMatchesSelector":"msMatchesSelector",kt.pEventTypes=kt.supportsPointerEvent?vt.PointerEvent===a.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,kt.wheelEvent=vt.document&&"onmousewheel"in vt.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},j=kt;function pe(a,s){if(a.contains)return a.contains(s);for(;s;){if(s===a)return!0;s=s.parentNode}return!1}function ne(a,s){for(;U.element(a);){if(Se(a,s))return a;a=he(a)}return null}function he(a){var s=a.parentNode;if(U.docFrag(s)){for(;(s=s.host)&&U.docFrag(s););return s}return s}function Se(a,s){return ae!==ve&&(s=s.replace(/\/deep\//g," ")),a[j.prefixedMatchesSelector](s)}var Ve=function(a){return a.parentNode||a.host};function ze(a,s){for(var l,h=[],g=a;(l=Ve(g))&&g!==s&&l!==g.ownerDocument;)h.unshift(g),g=l;return h}function qe(a,s,l){for(;U.element(a);){if(Se(a,s))return!0;if((a=he(a))===l)return Se(a,s)}return!1}function nt(a){return a.correspondingUseElement||a}function Nt(a){var s=a instanceof vt.SVGElement?a.getBoundingClientRect():a.getClientRects()[0];return s&&{left:s.left,right:s.right,top:s.top,bottom:s.bottom,width:s.width||s.right-s.left,height:s.height||s.bottom-s.top}}function Je(a){var s,l=Nt(a);if(!j.isIOS7&&l){var h={x:(s=(s=ce(a))||ae).scrollX||s.document.documentElement.scrollLeft,y:s.scrollY||s.document.documentElement.scrollTop};l.left+=h.x,l.right+=h.x,l.top+=h.y,l.bottom+=h.y}return l}function yt(a){for(var s=[];a;)s.push(a),a=he(a);return s}function mt(a){return!!U.string(a)&&(vt.document.querySelector(a),!0)}function de(a,s){for(var l in s)a[l]=s[l];return a}function Kt(a,s,l){return a==="parent"?he(l):a==="self"?s.getRect(l):ne(l,a)}function nn(a,s,l,h){var g=a;return U.string(g)?g=Kt(g,s,l):U.func(g)&&(g=g.apply(void 0,h)),U.element(g)&&(g=Je(g)),g}function mr(a){return a&&{x:"x"in a?a.x:a.left,y:"y"in a?a.y:a.top}}function jo(a){return!a||"x"in a&&"y"in a||((a=de({},a)).x=a.left||0,a.y=a.top||0,a.width=a.width||(a.right||0)-a.x,a.height=a.height||(a.bottom||0)-a.y),a}function mn(a,s,l){a.left&&(s.left+=l.x),a.right&&(s.right+=l.x),a.top&&(s.top+=l.y),a.bottom&&(s.bottom+=l.y),s.width=s.right-s.left,s.height=s.bottom-s.top}function gr(a,s,l){var h=l&&a.options[l];return mr(nn(h&&h.origin||a.options.origin,a,s,[a&&s]))||{x:0,y:0}}function rn(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(E){return!0},h=arguments.length>3?arguments[3]:void 0;if(h=h||{},U.string(a)&&a.search(" ")!==-1&&(a=qn(a)),U.array(a))return a.forEach(function(E){return rn(E,s,l,h)}),h;if(U.object(a)&&(s=a,a=""),U.func(s)&&l(a))h[a]=h[a]||[],h[a].push(s);else if(U.array(s))for(var g=0,y=s;g<y.length;g++){var _=y[g];rn(a,_,l,h)}else if(U.object(s))for(var S in s)rn(qn(S).map(function(E){return"".concat(a).concat(E)}),s[S],l,h);return h}function qn(a){return a.trim().split(/ +/)}var Yn=function(a,s){return Math.sqrt(a*a+s*s)},Cc=["webkit","moz"];function _e(a,s){a.__set||(a.__set={});var l=function(g){if(Cc.some(function(y){return g.indexOf(y)===0}))return 1;typeof a[g]!="function"&&g!=="__set"&&Object.defineProperty(a,g,{get:function(){return g in a.__set?a.__set[g]:a.__set[g]=s[g]},set:function(y){a.__set[g]=y},configurable:!0})};for(var h in s)l(h);return a}function ti(a,s){a.page=a.page||{},a.page.x=s.page.x,a.page.y=s.page.y,a.client=a.client||{},a.client.x=s.client.x,a.client.y=s.client.y,a.timeStamp=s.timeStamp}function _a(a){a.page.x=0,a.page.y=0,a.client.x=0,a.client.y=0}function ni(a){return a instanceof vt.Event||a instanceof vt.Touch}function Ye(a,s,l){return a=a||"page",(l=l||{}).x=s[a+"X"],l.y=s[a+"Y"],l}function vr(a,s){return s=s||{x:0,y:0},j.isOperaMobile&&ni(a)?(Ye("screen",a,s),s.x+=window.scrollX,s.y+=window.scrollY):Ye("page",a,s),s}function ri(a){return U.number(a.pointerId)?a.pointerId:a.identifier}function Xn(a,s,l){var h=s.length>1?Sa(s):s[0];vr(h,a.page),function(g,y){y=y||{},j.isOperaMobile&&ni(g)?Ye("screen",g,y):Ye("client",g,y)}(h,a.client),a.timeStamp=l}function zo(a){var s=[];return U.array(a)?(s[0]=a[0],s[1]=a[1]):a.type==="touchend"?a.touches.length===1?(s[0]=a.touches[0],s[1]=a.changedTouches[0]):a.touches.length===0&&(s[0]=a.changedTouches[0],s[1]=a.changedTouches[1]):(s[0]=a.touches[0],s[1]=a.touches[1]),s}function Sa(a){for(var s={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},l=0;l<a.length;l++){var h=a[l];for(var g in s)s[g]+=h[g]}for(var y in s)s[y]/=a.length;return s}function $o(a){if(!a.length)return null;var s=zo(a),l=Math.min(s[0].pageX,s[1].pageX),h=Math.min(s[0].pageY,s[1].pageY),g=Math.max(s[0].pageX,s[1].pageX),y=Math.max(s[0].pageY,s[1].pageY);return{x:l,y:h,left:l,top:h,right:g,bottom:y,width:g-l,height:y-h}}function Go(a,s){var l=s+"X",h=s+"Y",g=zo(a),y=g[0][l]-g[1][l],_=g[0][h]-g[1][h];return Yn(y,_)}function ii(a,s){var l=s+"X",h=s+"Y",g=zo(a),y=g[1][l]-g[0][l],_=g[1][h]-g[0][h];return 180*Math.atan2(_,y)/Math.PI}function Xt(a){return U.string(a.pointerType)?a.pointerType:U.number(a.pointerType)?[void 0,void 0,"touch","pen","mouse"][a.pointerType]:/touch/.test(a.type||"")||a instanceof vt.Touch?"touch":"mouse"}function Ko(a){var s=U.func(a.composedPath)?a.composedPath():a.path;return[nt(s?s[0]:a.target),nt(a.currentTarget)]}var In=function(){function a(s){n(this,a),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=s}return o(a,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),a}();Object.defineProperty(In.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Ho=function(a,s){for(var l=0;l<s.length;l++){var h=s[l];a.push(h)}return a},Hi=function(a){return Ho([],a)},yr=function(a,s){for(var l=0;l<a.length;l++)if(s(a[l],l,a))return l;return-1},br=function(a,s){return a[yr(a,s)]},wr=function(a){m(l,a);var s=T(l);function l(h,g,y){var _;n(this,l),(_=s.call(this,g._interaction)).dropzone=void 0,_.dragEvent=void 0,_.relatedTarget=void 0,_.draggable=void 0,_.propagationStopped=!1,_.immediatePropagationStopped=!1;var S=y==="dragleave"?h.prev:h.cur,E=S.element,R=S.dropzone;return _.type=y,_.target=E,_.currentTarget=E,_.dropzone=R,_.dragEvent=g,_.relatedTarget=g.target,_.draggable=g.interactable,_.timeStamp=g.timeStamp,_}return o(l,[{key:"reject",value:function(){var h=this,g=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&g.cur.dropzone===this.dropzone&&g.cur.element===this.target)if(g.prev.dropzone=this.dropzone,g.prev.element=this.target,g.rejected=!0,g.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var y=g.activeDrops,_=yr(y,function(E){var R=E.dropzone,A=E.element;return R===h.dropzone&&A===h.target});g.activeDrops.splice(_,1);var S=new l(g,this.dragEvent,"dropdeactivate");S.dropzone=this.dropzone,S.target=this.target,this.dropzone.fire(S)}else this.dropzone.fire(new l(g,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),l}(In);function xa(a,s){for(var l=0,h=a.slice();l<h.length;l++){var g=h[l],y=g.dropzone,_=g.element;s.dropzone=y,s.target=_,y.fire(s),s.propagationStopped=s.immediatePropagationStopped=!1}}function Zn(a,s){for(var l=function(y,_){for(var S=[],E=0,R=y.interactables.list;E<R.length;E++){var A=R[E];if(A.options.drop.enabled){var k=A.options.drop.accept;if(!(U.element(k)&&k!==_||U.string(k)&&!Se(_,k)||U.func(k)&&!k({dropzone:A,draggableElement:_})))for(var z=0,Q=A.getAllElements();z<Q.length;z++){var Z=Q[z];Z!==_&&S.push({dropzone:A,element:Z,rect:A.getRect(Z)})}}}return S}(a,s),h=0;h<l.length;h++){var g=l[h];g.rect=g.dropzone.getRect(g.element)}return l}function Wi(a,s,l){for(var h=a.dropState,g=a.interactable,y=a.element,_=[],S=0,E=h.activeDrops;S<E.length;S++){var R=E[S],A=R.dropzone,k=R.element,z=R.rect,Q=A.dropCheck(s,l,g,y,k,z);_.push(Q?k:null)}var Z=function(te){for(var le,ue,ye,ke=[],Ge=0;Ge<te.length;Ge++){var Ce=te[Ge],Le=te[le];if(Ce&&Ge!==le)if(Le){var It=Ve(Ce),et=Ve(Le);if(It!==Ce.ownerDocument)if(et!==Ce.ownerDocument)if(It!==et){ke=ke.length?ke:ze(Le);var zt=void 0;if(Le instanceof vt.HTMLElement&&Ce instanceof vt.SVGElement&&!(Ce instanceof vt.SVGSVGElement)){if(Ce===et)continue;zt=Ce.ownerSVGElement}else zt=Ce;for(var Zt=ze(zt,Le.ownerDocument),Qt=0;Zt[Qt]&&Zt[Qt]===ke[Qt];)Qt++;var Or=[Zt[Qt-1],Zt[Qt],ke[Qt]];if(Or[0])for(var _i=Or[0].lastChild;_i;){if(_i===Or[1]){le=Ge,ke=Zt;break}if(_i===Or[2])break;_i=_i.previousSibling}}else ye=Le,(parseInt(ce(ue=Ce).getComputedStyle(ue).zIndex,10)||0)>=(parseInt(ce(ye).getComputedStyle(ye).zIndex,10)||0)&&(le=Ge);else le=Ge}else le=Ge}return le}(_);return h.activeDrops[Z]||null}function Wo(a,s,l){var h=a.dropState,g={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return l.type==="dragstart"&&(g.activate=new wr(h,l,"dropactivate"),g.activate.target=null,g.activate.dropzone=null),l.type==="dragend"&&(g.deactivate=new wr(h,l,"dropdeactivate"),g.deactivate.target=null,g.deactivate.dropzone=null),h.rejected||(h.cur.element!==h.prev.element&&(h.prev.dropzone&&(g.leave=new wr(h,l,"dragleave"),l.dragLeave=g.leave.target=h.prev.element,l.prevDropzone=g.leave.dropzone=h.prev.dropzone),h.cur.dropzone&&(g.enter=new wr(h,l,"dragenter"),l.dragEnter=h.cur.element,l.dropzone=h.cur.dropzone)),l.type==="dragend"&&h.cur.dropzone&&(g.drop=new wr(h,l,"drop"),l.dropzone=h.cur.dropzone,l.relatedTarget=h.cur.element),l.type==="dragmove"&&h.cur.dropzone&&(g.move=new wr(h,l,"dropmove"),l.dropzone=h.cur.dropzone)),g}function Qn(a,s){var l=a.dropState,h=l.activeDrops,g=l.cur,y=l.prev;s.leave&&y.dropzone.fire(s.leave),s.enter&&g.dropzone.fire(s.enter),s.move&&g.dropzone.fire(s.move),s.drop&&g.dropzone.fire(s.drop),s.deactivate&&xa(h,s.deactivate),l.prev.dropzone=g.dropzone,l.prev.element=g.element}function qi(a,s){var l=a.interaction,h=a.iEvent,g=a.event;if(h.type==="dragmove"||h.type==="dragend"){var y=l.dropState;s.dynamicDrop&&(y.activeDrops=Zn(s,l.element));var _=h,S=Wi(l,_,g);y.rejected=y.rejected&&!!S&&S.dropzone===y.cur.dropzone&&S.element===y.cur.element,y.cur.dropzone=S&&S.dropzone,y.cur.element=S&&S.element,y.events=Wo(l,0,_)}}var oi={id:"actions/drop",install:function(a){var s=a.actions,l=a.interactStatic,h=a.Interactable,g=a.defaults;a.usePlugin(Wn),h.prototype.dropzone=function(y){return function(_,S){if(U.object(S)){if(_.options.drop.enabled=S.enabled!==!1,S.listeners){var E=rn(S.listeners),R=Object.keys(E).reduce(function(k,z){return k[/^(enter|leave)/.test(z)?"drag".concat(z):/^(activate|deactivate|move)/.test(z)?"drop".concat(z):z]=E[z],k},{}),A=_.options.drop.listeners;A&&_.off(A),_.on(R),_.options.drop.listeners=R}return U.func(S.ondrop)&&_.on("drop",S.ondrop),U.func(S.ondropactivate)&&_.on("dropactivate",S.ondropactivate),U.func(S.ondropdeactivate)&&_.on("dropdeactivate",S.ondropdeactivate),U.func(S.ondragenter)&&_.on("dragenter",S.ondragenter),U.func(S.ondragleave)&&_.on("dragleave",S.ondragleave),U.func(S.ondropmove)&&_.on("dropmove",S.ondropmove),/^(pointer|center)$/.test(S.overlap)?_.options.drop.overlap=S.overlap:U.number(S.overlap)&&(_.options.drop.overlap=Math.max(Math.min(1,S.overlap),0)),"accept"in S&&(_.options.drop.accept=S.accept),"checker"in S&&(_.options.drop.checker=S.checker),_}return U.bool(S)?(_.options.drop.enabled=S,_):_.options.drop}(this,y)},h.prototype.dropCheck=function(y,_,S,E,R,A){return function(k,z,Q,Z,te,le,ue){var ye=!1;if(!(ue=ue||k.getRect(le)))return!!k.options.drop.checker&&k.options.drop.checker(z,Q,ye,k,le,Z,te);var ke=k.options.drop.overlap;if(ke==="pointer"){var Ge=gr(Z,te,"drag"),Ce=vr(z);Ce.x+=Ge.x,Ce.y+=Ge.y;var Le=Ce.x>ue.left&&Ce.x<ue.right,It=Ce.y>ue.top&&Ce.y<ue.bottom;ye=Le&&It}var et=Z.getRect(te);if(et&&ke==="center"){var zt=et.left+et.width/2,Zt=et.top+et.height/2;ye=zt>=ue.left&&zt<=ue.right&&Zt>=ue.top&&Zt<=ue.bottom}return et&&U.number(ke)&&(ye=Math.max(0,Math.min(ue.right,et.right)-Math.max(ue.left,et.left))*Math.max(0,Math.min(ue.bottom,et.bottom)-Math.max(ue.top,et.top))/(et.width*et.height)>=ke),k.options.drop.checker&&(ye=k.options.drop.checker(z,Q,ye,k,le,Z,te)),ye}(this,y,_,S,E,R,A)},l.dynamicDrop=function(y){return U.bool(y)?(a.dynamicDrop=y,l):a.dynamicDrop},de(s.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),s.methodDict.drop="dropzone",a.dynamicDrop=!1,g.actions.drop=oi.defaults},listeners:{"interactions:before-action-start":function(a){var s=a.interaction;s.prepared.name==="drag"&&(s.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(a,s){var l=a.interaction,h=(a.event,a.iEvent);if(l.prepared.name==="drag"){var g=l.dropState;g.activeDrops=[],g.events={},g.activeDrops=Zn(s,l.element),g.events=Wo(l,0,h),g.events.activate&&(xa(g.activeDrops,g.events.activate),s.fire("actions/drop:start",{interaction:l,dragEvent:h}))}},"interactions:action-move":qi,"interactions:after-action-move":function(a,s){var l=a.interaction,h=a.iEvent;if(l.prepared.name==="drag"){var g=l.dropState;Qn(l,g.events),s.fire("actions/drop:move",{interaction:l,dragEvent:h}),g.events={}}},"interactions:action-end":function(a,s){if(a.interaction.prepared.name==="drag"){var l=a.interaction,h=a.iEvent;qi(a,s),Qn(l,l.dropState.events),s.fire("actions/drop:end",{interaction:l,dragEvent:h})}},"interactions:stop":function(a){var s=a.interaction;if(s.prepared.name==="drag"){var l=s.dropState;l&&(l.activeDrops=null,l.events=null,l.cur.dropzone=null,l.cur.element=null,l.prev.dropzone=null,l.prev.element=null,l.rejected=!1)}}},getActiveDrops:Zn,getDrop:Wi,getDropEvents:Wo,fireDropEvents:Qn,filterEventType:function(a){return a.search("drag")===0||a.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Jn=oi;function Dr(a){var s=a.interaction,l=a.iEvent,h=a.phase;if(s.prepared.name==="gesture"){var g=s.pointers.map(function(R){return R.pointer}),y=h==="start",_=h==="end",S=s.interactable.options.deltaSource;if(l.touches=[g[0],g[1]],y)l.distance=Go(g,S),l.box=$o(g),l.scale=1,l.ds=0,l.angle=ii(g,S),l.da=0,s.gesture.startDistance=l.distance,s.gesture.startAngle=l.angle;else if(_||s.pointers.length<2){var E=s.prevEvent;l.distance=E.distance,l.box=E.box,l.scale=E.scale,l.ds=0,l.angle=E.angle,l.da=0}else l.distance=Go(g,S),l.box=$o(g),l.scale=l.distance/s.gesture.startDistance,l.angle=ii(g,S),l.ds=l.scale-s.gesture.scale,l.da=l.angle-s.gesture.angle;s.gesture.distance=l.distance,s.gesture.angle=l.angle,U.number(l.scale)&&l.scale!==1/0&&!isNaN(l.scale)&&(s.gesture.scale=l.scale)}}var si={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(a){var s=a.actions,l=a.Interactable,h=a.defaults;l.prototype.gesturable=function(g){return U.object(g)?(this.options.gesture.enabled=g.enabled!==!1,this.setPerAction("gesture",g),this.setOnEvents("gesture",g),this):U.bool(g)?(this.options.gesture.enabled=g,this):this.options.gesture},s.map.gesture=si,s.methodDict.gesture="gesturable",h.actions.gesture=si.defaults},listeners:{"interactions:action-start":Dr,"interactions:action-move":Dr,"interactions:action-end":Dr,"interactions:new":function(a){a.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(a){if(!(a.interaction.pointers.length<2)){var s=a.interactable.options.gesture;if(s&&s.enabled)return a.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(a){return a.search("gesture")===0}},An=si;function be(a,s,l,h,g,y,_){if(!s)return!1;if(s===!0){var S=U.number(y.width)?y.width:y.right-y.left,E=U.number(y.height)?y.height:y.bottom-y.top;if(_=Math.min(_,Math.abs((a==="left"||a==="right"?S:E)/2)),S<0&&(a==="left"?a="right":a==="right"&&(a="left")),E<0&&(a==="top"?a="bottom":a==="bottom"&&(a="top")),a==="left"){var R=S>=0?y.left:y.right;return l.x<R+_}if(a==="top"){var A=E>=0?y.top:y.bottom;return l.y<A+_}if(a==="right")return l.x>(S>=0?y.right:y.left)-_;if(a==="bottom")return l.y>(E>=0?y.bottom:y.top)-_}return!!U.element(h)&&(U.element(s)?s===h:qe(h,s,g))}function _r(a){var s=a.iEvent,l=a.interaction;if(l.prepared.name==="resize"&&l.resizeAxes){var h=s;l.interactable.options.resize.square?(l.resizeAxes==="y"?h.delta.x=h.delta.y:h.delta.y=h.delta.x,h.axes="xy"):(h.axes=l.resizeAxes,l.resizeAxes==="x"?h.delta.y=0:l.resizeAxes==="y"&&(h.delta.x=0))}}var Ft,on,se={id:"actions/resize",before:["actions/drag"],install:function(a){var s=a.actions,l=a.browser,h=a.Interactable,g=a.defaults;se.cursors=function(y){return y.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(l),se.defaultMargin=l.supportsTouch||l.supportsPointerEvent?20:10,h.prototype.resizable=function(y){return function(_,S,E){return U.object(S)?(_.options.resize.enabled=S.enabled!==!1,_.setPerAction("resize",S),_.setOnEvents("resize",S),U.string(S.axis)&&/^x$|^y$|^xy$/.test(S.axis)?_.options.resize.axis=S.axis:S.axis===null&&(_.options.resize.axis=E.defaults.actions.resize.axis),U.bool(S.preserveAspectRatio)?_.options.resize.preserveAspectRatio=S.preserveAspectRatio:U.bool(S.square)&&(_.options.resize.square=S.square),_):U.bool(S)?(_.options.resize.enabled=S,_):_.options.resize}(this,y,a)},s.map.resize=se,s.methodDict.resize="resizable",g.actions.resize=se.defaults},listeners:{"interactions:new":function(a){a.interaction.resizeAxes="xy"},"interactions:action-start":function(a){(function(s){var l=s.iEvent,h=s.interaction;if(h.prepared.name==="resize"&&h.prepared.edges){var g=l,y=h.rect;h._rects={start:de({},y),corrected:de({},y),previous:de({},y),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},g.edges=h.prepared.edges,g.rect=h._rects.corrected,g.deltaRect=h._rects.delta}})(a),_r(a)},"interactions:action-move":function(a){(function(s){var l=s.iEvent,h=s.interaction;if(h.prepared.name==="resize"&&h.prepared.edges){var g=l,y=h.interactable.options.resize.invert,_=y==="reposition"||y==="negate",S=h.rect,E=h._rects,R=E.start,A=E.corrected,k=E.delta,z=E.previous;if(de(z,A),_){if(de(A,S),y==="reposition"){if(A.top>A.bottom){var Q=A.top;A.top=A.bottom,A.bottom=Q}if(A.left>A.right){var Z=A.left;A.left=A.right,A.right=Z}}}else A.top=Math.min(S.top,R.bottom),A.bottom=Math.max(S.bottom,R.top),A.left=Math.min(S.left,R.right),A.right=Math.max(S.right,R.left);for(var te in A.width=A.right-A.left,A.height=A.bottom-A.top,A)k[te]=A[te]-z[te];g.edges=h.prepared.edges,g.rect=A,g.deltaRect=k}})(a),_r(a)},"interactions:action-end":function(a){var s=a.iEvent,l=a.interaction;if(l.prepared.name==="resize"&&l.prepared.edges){var h=s;h.edges=l.prepared.edges,h.rect=l._rects.corrected,h.deltaRect=l._rects.delta}},"auto-start:check":function(a){var s=a.interaction,l=a.interactable,h=a.element,g=a.rect,y=a.buttons;if(g){var _=de({},s.coords.cur.page),S=l.options.resize;if(S&&S.enabled&&(!s.pointerIsDown||!/mouse|pointer/.test(s.pointerType)||y&S.mouseButtons)){if(U.object(S.edges)){var E={left:!1,right:!1,top:!1,bottom:!1};for(var R in E)E[R]=be(R,S.edges[R],_,s._latestPointer.eventTarget,h,g,S.margin||se.defaultMargin);E.left=E.left&&!E.right,E.top=E.top&&!E.bottom,(E.left||E.right||E.top||E.bottom)&&(a.action={name:"resize",edges:E})}else{var A=S.axis!=="y"&&_.x>g.right-se.defaultMargin,k=S.axis!=="x"&&_.y>g.bottom-se.defaultMargin;(A||k)&&(a.action={name:"resize",axes:(A?"x":"")+(k?"y":"")})}return!a.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(a){var s=a.edges,l=a.axis,h=a.name,g=se.cursors,y=null;if(l)y=g[h+l];else if(s){for(var _="",S=0,E=["top","bottom","left","right"];S<E.length;S++){var R=E[S];s[R]&&(_+=R)}y=g[_]}return y},filterEventType:function(a){return a.search("resize")===0},defaultMargin:null},qo=se,Ca={id:"actions",install:function(a){a.usePlugin(An),a.usePlugin(qo),a.usePlugin(Wn),a.usePlugin(Jn)}},Yo=0,sn={request:function(a){return Ft(a)},cancel:function(a){return on(a)},init:function(a){if(Ft=a.requestAnimationFrame,on=a.cancelAnimationFrame,!Ft)for(var s=["ms","moz","webkit","o"],l=0;l<s.length;l++){var h=s[l];Ft=a["".concat(h,"RequestAnimationFrame")],on=a["".concat(h,"CancelAnimationFrame")]||a["".concat(h,"CancelRequestAnimationFrame")]}Ft=Ft&&Ft.bind(a),on=on&&on.bind(a),Ft||(Ft=function(g){var y=Date.now(),_=Math.max(0,16-(y-Yo)),S=a.setTimeout(function(){g(y+_)},_);return Yo=y+_,S},on=function(g){return clearTimeout(g)})}},Te={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(a){Te.isScrolling=!0,sn.cancel(Te.i),a.autoScroll=Te,Te.interaction=a,Te.prevTime=Te.now(),Te.i=sn.request(Te.scroll)},stop:function(){Te.isScrolling=!1,Te.interaction&&(Te.interaction.autoScroll=null),sn.cancel(Te.i)},scroll:function(){var a=Te.interaction,s=a.interactable,l=a.element,h=a.prepared.name,g=s.options[h].autoScroll,y=Yi(g.container,s,l),_=Te.now(),S=(_-Te.prevTime)/1e3,E=g.speed*S;if(E>=1){var R={x:Te.x*E,y:Te.y*E};if(R.x||R.y){var A=Ea(y);U.window(y)?y.scrollBy(R.x,R.y):y&&(y.scrollLeft+=R.x,y.scrollTop+=R.y);var k=Ea(y),z={x:k.x-A.x,y:k.y-A.y};(z.x||z.y)&&s.fire({type:"autoscroll",target:l,interactable:s,delta:z,interaction:a,container:y})}Te.prevTime=_}Te.isScrolling&&(sn.cancel(Te.i),Te.i=sn.request(Te.scroll))},check:function(a,s){var l;return(l=a.options[s].autoScroll)==null?void 0:l.enabled},onInteractionMove:function(a){var s=a.interaction,l=a.pointer;if(s.interacting()&&Te.check(s.interactable,s.prepared.name))if(s.simulation)Te.x=Te.y=0;else{var h,g,y,_,S=s.interactable,E=s.element,R=s.prepared.name,A=S.options[R].autoScroll,k=Yi(A.container,S,E);if(U.window(k))_=l.clientX<Te.margin,h=l.clientY<Te.margin,g=l.clientX>k.innerWidth-Te.margin,y=l.clientY>k.innerHeight-Te.margin;else{var z=Nt(k);_=l.clientX<z.left+Te.margin,h=l.clientY<z.top+Te.margin,g=l.clientX>z.right-Te.margin,y=l.clientY>z.bottom-Te.margin}Te.x=g?1:_?-1:0,Te.y=y?1:h?-1:0,Te.isScrolling||(Te.margin=A.margin,Te.speed=A.speed,Te.start(s))}}};function Yi(a,s,l){return(U.string(a)?Kt(a,s,l):a)||ce(l)}function Ea(a){return U.window(a)&&(a=window.document.body),{x:a.scrollLeft,y:a.scrollTop}}var Ec={id:"auto-scroll",install:function(a){var s=a.defaults,l=a.actions;a.autoScroll=Te,Te.now=function(){return a.now()},l.phaselessTypes.autoscroll=!0,s.perAction.autoScroll=Te.defaults},listeners:{"interactions:new":function(a){a.interaction.autoScroll=null},"interactions:destroy":function(a){a.interaction.autoScroll=null,Te.stop(),Te.interaction&&(Te.interaction=null)},"interactions:stop":Te.stop,"interactions:action-move":function(a){return Te.onInteractionMove(a)}}},Sr=Ec;function an(a,s){var l=!1;return function(){return l||(ae.console.warn(s),l=!0),a.apply(this,arguments)}}function ai(a,s){return a.name=s.name,a.axis=s.axis,a.edges=s.edges,a}function Ic(a){return U.bool(a)?(this.options.styleCursor=a,this):a===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ac(a){return U.func(a)?(this.options.actionChecker=a,this):a===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Mc={id:"auto-start/interactableMethods",install:function(a){var s=a.Interactable;s.prototype.getAction=function(l,h,g,y){var _=function(S,E,R,A,k){var z=S.getRect(A),Q=E.buttons||{0:1,1:4,3:8,4:16}[E.button],Z={action:null,interactable:S,interaction:R,element:A,rect:z,buttons:Q};return k.fire("auto-start:check",Z),Z.action}(this,h,g,y,a);return this.options.actionChecker?this.options.actionChecker(l,h,_,this,y,g):_},s.prototype.ignoreFrom=an(function(l){return this._backCompatOption("ignoreFrom",l)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),s.prototype.allowFrom=an(function(l){return this._backCompatOption("allowFrom",l)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),s.prototype.actionChecker=Ac,s.prototype.styleCursor=Ic}};function ui(a,s,l,h,g){return s.testIgnoreAllow(s.options[a.name],l,h)&&s.options[a.name].enabled&&er(s,l,a,g)?a:null}function ot(a,s,l,h,g,y,_){for(var S=0,E=h.length;S<E;S++){var R=h[S],A=g[S],k=R.getAction(s,l,a,A);if(k){var z=ui(k,R,A,y,_);if(z)return{action:z,interactable:R,element:A}}}return{action:null,interactable:null,element:null}}function bt(a,s,l,h,g){var y=[],_=[],S=h;function E(A){y.push(A),_.push(S)}for(;U.element(S);){y=[],_=[],g.interactables.forEachMatch(S,E);var R=ot(a,s,l,y,_,h,g);if(R.action&&!R.interactable.options[R.action.name].manualStart)return R;S=he(S)}return{action:null,interactable:null,element:null}}function Ia(a,s,l){var h=s.action,g=s.interactable,y=s.element;h=h||{name:null},a.interactable=g,a.element=y,ai(a.prepared,h),a.rect=g&&h.name?g.getRect(y):null,Aa(a,l),l.fire("autoStart:prepared",{interaction:a})}function er(a,s,l,h){var g=a.options,y=g[l.name].max,_=g[l.name].maxPerElement,S=h.autoStart.maxInteractions,E=0,R=0,A=0;if(!(y&&_&&S))return!1;for(var k=0,z=h.interactions.list;k<z.length;k++){var Q=z[k],Z=Q.prepared.name;if(Q.interacting()&&(++E>=S||Q.interactable===a&&((R+=Z===l.name?1:0)>=y||Q.element===s&&(A++,Z===l.name&&A>=_))))return!1}return S>0}function ci(a,s){return U.number(a)?(s.autoStart.maxInteractions=a,this):s.autoStart.maxInteractions}function xr(a,s,l){var h=l.autoStart.cursorElement;h&&h!==a&&(h.style.cursor=""),a.ownerDocument.documentElement.style.cursor=s,a.style.cursor=s,l.autoStart.cursorElement=s?a:null}function Aa(a,s){var l=a.interactable,h=a.element,g=a.prepared;if(a.pointerType==="mouse"&&l&&l.options.styleCursor){var y="";if(g.name){var _=l.options[g.name].cursorChecker;y=U.func(_)?_(g,l,h,a._interacting):s.actions.map[g.name].getCursor(g)}xr(a.element,y||"",s)}else s.autoStart.cursorElement&&xr(s.autoStart.cursorElement,"",s)}var Mn={id:"auto-start/base",before:["actions"],install:function(a){var s=a.interactStatic,l=a.defaults;a.usePlugin(Mc),l.base.actionChecker=null,l.base.styleCursor=!0,de(l.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),s.maxInteractions=function(h){return ci(h,a)},a.autoStart={maxInteractions:1/0,withinInteractionLimit:er,cursorElement:null}},listeners:{"interactions:down":function(a,s){var l=a.interaction,h=a.pointer,g=a.event,y=a.eventTarget;l.interacting()||Ia(l,bt(l,h,g,y,s),s)},"interactions:move":function(a,s){(function(l,h){var g=l.interaction,y=l.pointer,_=l.event,S=l.eventTarget;g.pointerType!=="mouse"||g.pointerIsDown||g.interacting()||Ia(g,bt(g,y,_,S,h),h)})(a,s),function(l,h){var g=l.interaction;if(g.pointerIsDown&&!g.interacting()&&g.pointerWasMoved&&g.prepared.name){h.fire("autoStart:before-start",l);var y=g.interactable,_=g.prepared.name;_&&y&&(y.options[_].manualStart||!er(y,g.element,g.prepared,h)?g.stop():(g.start(g.prepared,y,g.element),Aa(g,h)))}}(a,s)},"interactions:stop":function(a,s){var l=a.interaction,h=l.interactable;h&&h.options.styleCursor&&xr(l.element,"",s)}},maxInteractions:ci,withinInteractionLimit:er,validateAction:ui},Tn=Mn,Rn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(a,s){var l=a.interaction,h=a.eventTarget,g=a.dx,y=a.dy;if(l.prepared.name==="drag"){var _=Math.abs(g),S=Math.abs(y),E=l.interactable.options.drag,R=E.startAxis,A=_>S?"x":_<S?"y":"xy";if(l.prepared.axis=E.lockAxis==="start"?A[0]:E.lockAxis,A!=="xy"&&R!=="xy"&&R!==A){l.prepared.name=null;for(var k=h,z=function(Z){if(Z!==l.interactable){var te=l.interactable.options.drag;if(!te.manualStart&&Z.testIgnoreAllow(te,k,h)){var le=Z.getAction(l.downPointer,l.downEvent,l,k);if(le&&le.name==="drag"&&function(ue,ye){if(!ye)return!1;var ke=ye.options.drag.startAxis;return ue==="xy"||ke==="xy"||ke===ue}(A,Z)&&Tn.validateAction(le,Z,k,h,s))return Z}}};U.element(k);){var Q=s.interactables.forEachMatch(k,z);if(Q){l.prepared.name="drag",l.interactable=Q,l.element=k;break}k=he(k)}}}}}};function Cr(a){var s=a.prepared&&a.prepared.name;if(!s)return null;var l=a.interactable.options;return l[s].hold||l[s].delay}var Tc={id:"auto-start/hold",install:function(a){var s=a.defaults;a.usePlugin(Tn),s.perAction.hold=0,s.perAction.delay=0},listeners:{"interactions:new":function(a){a.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(a){var s=a.interaction,l=Cr(s);l>0&&(s.autoStartHoldTimer=setTimeout(function(){s.start(s.prepared,s.interactable,s.element)},l))},"interactions:move":function(a){var s=a.interaction,l=a.duplicate;s.autoStartHoldTimer&&s.pointerWasMoved&&!l&&(clearTimeout(s.autoStartHoldTimer),s.autoStartHoldTimer=null)},"autoStart:before-start":function(a){var s=a.interaction;Cr(s)>0&&(s.prepared.name=null)}},getHoldDuration:Cr},Rc=Tc,Fn={id:"auto-start",install:function(a){a.usePlugin(Tn),a.usePlugin(Rc),a.usePlugin(Rn)}},Ma=function(a){return/^(always|never|auto)$/.test(a)?(this.options.preventDefault=a,this):U.bool(a)?(this.options.preventDefault=a?"always":"never",this):this.options.preventDefault};function tr(a){var s=a.interaction,l=a.event;s.interactable&&s.interactable.checkAndPreventDefault(l)}var Xo={id:"core/interactablePreventDefault",install:function(a){var s=a.Interactable;s.prototype.preventDefault=Ma,s.prototype.checkAndPreventDefault=function(l){return function(h,g,y){var _=h.options.preventDefault;if(_!=="never")if(_!=="always"){if(g.events.supportsPassive&&/^touch(start|move)$/.test(y.type)){var S=ce(y.target).document,E=g.getDocOptions(S);if(!E||!E.events||E.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(y.type)||U.element(y.target)&&Se(y.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||y.preventDefault()}else y.preventDefault()}(this,a,l)},a.interactions.docEvents.push({type:"dragstart",listener:function(l){for(var h=0,g=a.interactions.list;h<g.length;h++){var y=g[h];if(y.element&&(y.element===l.target||pe(y.element,l.target)))return void y.interactable.checkAndPreventDefault(l)}}})},listeners:["down","move","up","cancel"].reduce(function(a,s){return a["interactions:".concat(s)]=tr,a},{})};function Er(a,s){if(s.phaselessTypes[a])return!0;for(var l in s.map)if(a.indexOf(l)===0&&a.substr(l.length)in s.phases)return!0;return!1}function rt(a){var s={};for(var l in a){var h=a[l];U.plainObject(h)?s[l]=rt(h):U.array(h)?s[l]=Hi(h):s[l]=h}return s}var li=function(){function a(s){n(this,a),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=s,this.result=di(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return o(a,[{key:"start",value:function(s,l){var h,g,y=s.phase,_=this.interaction,S=function(R){var A=R.interactable.options[R.prepared.name],k=A.modifiers;return k&&k.length?k:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(z){var Q=A[z];return Q&&Q.enabled&&{options:Q,methods:Q._methods}}).filter(function(z){return!!z})}(_);this.prepareStates(S),this.startEdges=de({},_.edges),this.edges=de({},this.startEdges),this.startOffset=(h=_.rect,g=l,h?{left:g.x-h.left,top:g.y-h.top,right:h.right-g.x,bottom:h.bottom-g.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var E=this.fillArg({phase:y,pageCoords:l,preEnd:!1});return this.result=di(),this.startAll(E),this.result=this.setAll(E)}},{key:"fillArg",value:function(s){var l=this.interaction;return s.interaction=l,s.interactable=l.interactable,s.element=l.element,s.rect||(s.rect=l.rect),s.edges||(s.edges=this.startEdges),s.startOffset=this.startOffset,s}},{key:"startAll",value:function(s){for(var l=0,h=this.states;l<h.length;l++){var g=h[l];g.methods.start&&(s.state=g,g.methods.start(s))}}},{key:"setAll",value:function(s){var l=s.phase,h=s.preEnd,g=s.skipModifiers,y=s.rect,_=s.edges;s.coords=de({},s.pageCoords),s.rect=de({},y),s.edges=de({},_);for(var S=g?this.states.slice(g):this.states,E=di(s.coords,s.rect),R=0;R<S.length;R++){var A,k=S[R],z=k.options,Q=de({},s.coords),Z=null;(A=k.methods)!=null&&A.set&&this.shouldDo(z,h,l)&&(s.state=k,Z=k.methods.set(s),mn(s.edges,s.rect,{x:s.coords.x-Q.x,y:s.coords.y-Q.y})),E.eventProps.push(Z)}de(this.edges,s.edges),E.delta.x=s.coords.x-s.pageCoords.x,E.delta.y=s.coords.y-s.pageCoords.y,E.rectDelta.left=s.rect.left-y.left,E.rectDelta.right=s.rect.right-y.right,E.rectDelta.top=s.rect.top-y.top,E.rectDelta.bottom=s.rect.bottom-y.bottom;var te=this.result.coords,le=this.result.rect;if(te&&le){var ue=E.rect.left!==le.left||E.rect.right!==le.right||E.rect.top!==le.top||E.rect.bottom!==le.bottom;E.changed=ue||te.x!==E.coords.x||te.y!==E.coords.y}return E}},{key:"applyToInteraction",value:function(s){var l=this.interaction,h=s.phase,g=l.coords.cur,y=l.coords.start,_=this.result,S=this.startDelta,E=_.delta;h==="start"&&de(this.startDelta,_.delta);for(var R=0,A=[[y,S],[g,E]];R<A.length;R++){var k=A[R],z=k[0],Q=k[1];z.page.x+=Q.x,z.page.y+=Q.y,z.client.x+=Q.x,z.client.y+=Q.y}var Z=this.result.rectDelta,te=s.rect||l.rect;te.left+=Z.left,te.right+=Z.right,te.top+=Z.top,te.bottom+=Z.bottom,te.width=te.right-te.left,te.height=te.bottom-te.top}},{key:"setAndApply",value:function(s){var l=this.interaction,h=s.phase,g=s.preEnd,y=s.skipModifiers,_=this.setAll(this.fillArg({preEnd:g,phase:h,pageCoords:s.modifiedCoords||l.coords.cur.page}));if(this.result=_,!_.changed&&(!y||y<this.states.length)&&l.interacting())return!1;if(s.modifiedCoords){var S=l.coords.cur.page,E={x:s.modifiedCoords.x-S.x,y:s.modifiedCoords.y-S.y};_.coords.x+=E.x,_.coords.y+=E.y,_.delta.x+=E.x,_.delta.y+=E.y}this.applyToInteraction(s)}},{key:"beforeEnd",value:function(s){var l=s.interaction,h=s.event,g=this.states;if(g&&g.length){for(var y=!1,_=0;_<g.length;_++){var S=g[_];s.state=S;var E=S.options,R=S.methods,A=R.beforeEnd&&R.beforeEnd(s);if(A)return this.endResult=A,!1;y=y||!y&&this.shouldDo(E,!0,s.phase,!0)}y&&l.move({event:h,preEnd:!0})}}},{key:"stop",value:function(s){var l=s.interaction;if(this.states&&this.states.length){var h=de({states:this.states,interactable:l.interactable,element:l.element,rect:null},s);this.fillArg(h);for(var g=0,y=this.states;g<y.length;g++){var _=y[g];h.state=_,_.methods.stop&&_.methods.stop(h)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(s){this.states=[];for(var l=0;l<s.length;l++){var h=s[l],g=h.options,y=h.methods,_=h.name;this.states.push({options:g,methods:y,index:l,name:_})}return this.states}},{key:"restoreInteractionCoords",value:function(s){var l=s.interaction,h=l.coords,g=l.rect,y=l.modification;if(y.result){for(var _=y.startDelta,S=y.result,E=S.delta,R=S.rectDelta,A=0,k=[[h.start,_],[h.cur,E]];A<k.length;A++){var z=k[A],Q=z[0],Z=z[1];Q.page.x-=Z.x,Q.page.y-=Z.y,Q.client.x-=Z.x,Q.client.y-=Z.y}g.left-=R.left,g.right-=R.right,g.top-=R.top,g.bottom-=R.bottom}}},{key:"shouldDo",value:function(s,l,h,g){return!(!s||s.enabled===!1||g&&!s.endOnly||s.endOnly&&!l||h==="start"&&!s.setStart)}},{key:"copyFrom",value:function(s){this.startOffset=s.startOffset,this.startDelta=s.startDelta,this.startEdges=s.startEdges,this.edges=s.edges,this.states=s.states.map(function(l){return rt(l)}),this.result=di(de({},s.result.coords),de({},s.result.rect))}},{key:"destroy",value:function(){for(var s in this)this[s]=null}}]),a}();function di(a,s){return{rect:s,coords:a,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Vt(a,s){var l=a.defaults,h={start:a.start,set:a.set,beforeEnd:a.beforeEnd,stop:a.stop},g=function(y){var _=y||{};for(var S in _.enabled=_.enabled!==!1,l)S in _||(_[S]=l[S]);var E={options:_,methods:h,name:s,enable:function(){return _.enabled=!0,E},disable:function(){return _.enabled=!1,E}};return E};return s&&typeof s=="string"&&(g._defaults=l,g._methods=h),g}function nr(a){var s=a.iEvent,l=a.interaction.modification.result;l&&(s.modifiers=l.eventProps)}var gn={id:"modifiers/base",before:["actions"],install:function(a){a.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(a){var s=a.interaction;s.modification=new li(s)},"interactions:before-action-start":function(a){var s=a.interaction,l=a.interaction.modification;l.start(a,s.coords.start.page),s.edges=l.edges,l.applyToInteraction(a)},"interactions:before-action-move":function(a){var s=a.interaction,l=s.modification,h=l.setAndApply(a);return s.edges=l.edges,h},"interactions:before-action-end":function(a){var s=a.interaction,l=s.modification,h=l.beforeEnd(a);return s.edges=l.startEdges,h},"interactions:action-start":nr,"interactions:action-move":nr,"interactions:action-end":nr,"interactions:after-action-start":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-move":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:stop":function(a){return a.interaction.modification.stop(a)}}},Zo=gn,rr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Ir=function(a){m(l,a);var s=T(l);function l(h,g,y,_,S,E,R){var A;n(this,l),(A=s.call(this,h)).relatedTarget=null,A.screenX=void 0,A.screenY=void 0,A.button=void 0,A.buttons=void 0,A.ctrlKey=void 0,A.shiftKey=void 0,A.altKey=void 0,A.metaKey=void 0,A.page=void 0,A.client=void 0,A.delta=void 0,A.rect=void 0,A.x0=void 0,A.y0=void 0,A.t0=void 0,A.dt=void 0,A.duration=void 0,A.clientX0=void 0,A.clientY0=void 0,A.velocity=void 0,A.speed=void 0,A.swipe=void 0,A.axes=void 0,A.preEnd=void 0,S=S||h.element;var k=h.interactable,z=(k&&k.options||rr).deltaSource,Q=gr(k,S,y),Z=_==="start",te=_==="end",le=Z?C(A):h.prevEvent,ue=Z?h.coords.start:te?{page:le.page,client:le.client,timeStamp:h.coords.cur.timeStamp}:h.coords.cur;return A.page=de({},ue.page),A.client=de({},ue.client),A.rect=de({},h.rect),A.timeStamp=ue.timeStamp,te||(A.page.x-=Q.x,A.page.y-=Q.y,A.client.x-=Q.x,A.client.y-=Q.y),A.ctrlKey=g.ctrlKey,A.altKey=g.altKey,A.shiftKey=g.shiftKey,A.metaKey=g.metaKey,A.button=g.button,A.buttons=g.buttons,A.target=S,A.currentTarget=S,A.preEnd=E,A.type=R||y+(_||""),A.interactable=k,A.t0=Z?h.pointers[h.pointers.length-1].downTime:le.t0,A.x0=h.coords.start.page.x-Q.x,A.y0=h.coords.start.page.y-Q.y,A.clientX0=h.coords.start.client.x-Q.x,A.clientY0=h.coords.start.client.y-Q.y,A.delta=Z||te?{x:0,y:0}:{x:A[z].x-le[z].x,y:A[z].y-le[z].y},A.dt=h.coords.delta.timeStamp,A.duration=A.timeStamp-A.t0,A.velocity=de({},h.coords.velocity[z]),A.speed=Yn(A.velocity.x,A.velocity.y),A.swipe=te||_==="inertiastart"?A.getSwipe():null,A}return o(l,[{key:"getSwipe",value:function(){var h=this._interaction;if(h.prevEvent.speed<600||this.timeStamp-h.prevEvent.timeStamp>150)return null;var g=180*Math.atan2(h.prevEvent.velocityY,h.prevEvent.velocityX)/Math.PI;g<0&&(g+=360);var y=112.5<=g&&g<247.5,_=202.5<=g&&g<337.5;return{up:_,down:!_&&22.5<=g&&g<157.5,left:y,right:!y&&(292.5<=g||g<67.5),angle:g,speed:h.prevEvent.speed,velocity:{x:h.prevEvent.velocityX,y:h.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),l}(In);Object.defineProperties(Ir.prototype,{pageX:{get:function(){return this.page.x},set:function(a){this.page.x=a}},pageY:{get:function(){return this.page.y},set:function(a){this.page.y=a}},clientX:{get:function(){return this.client.x},set:function(a){this.client.x=a}},clientY:{get:function(){return this.client.y},set:function(a){this.client.y=a}},dx:{get:function(){return this.delta.x},set:function(a){this.delta.x=a}},dy:{get:function(){return this.delta.y},set:function(a){this.delta.y=a}},velocityX:{get:function(){return this.velocity.x},set:function(a){this.velocity.x=a}},velocityY:{get:function(){return this.velocity.y},set:function(a){this.velocity.y=a}}});var Qo=o(function a(s,l,h,g,y){n(this,a),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=s,this.pointer=l,this.event=h,this.downTime=g,this.downTarget=y}),Jo=function(a){return a.interactable="",a.element="",a.prepared="",a.pointerIsDown="",a.pointerWasMoved="",a._proxy="",a}({}),On=function(a){return a.start="",a.move="",a.end="",a.stop="",a.interacting="",a}({}),Ta=0,Xi=function(){function a(s){var l=this,h=s.pointerType,g=s.scopeFire;n(this,a),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=an(function(A){this.move(A)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Ta++,this._scopeFire=g,this.pointerType=h;var y=this;this._proxy={};var _=function(A){Object.defineProperty(l._proxy,A,{get:function(){return y[A]}})};for(var S in Jo)_(S);var E=function(A){Object.defineProperty(l._proxy,A,{value:function(){return y[A].apply(y,arguments)}})};for(var R in On)E(R);this._scopeFire("interactions:new",{interaction:this})}return o(a,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(s,l,h){var g=this.updatePointer(s,l,h,!0),y=this.pointers[g];this._scopeFire("interactions:down",{pointer:s,event:l,eventTarget:h,pointerIndex:g,pointerInfo:y,type:"down",interaction:this})}},{key:"start",value:function(s,l,h){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(s.name==="gesture"?2:1)||!l.options[s.name].enabled)&&(ai(this.prepared,s),this.interactable=l,this.element=h,this.rect=l.getRect(h),this.edges=this.prepared.edges?de({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(s,l,h){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(s,l,h,!1);var g,y,_=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(g=this.coords.cur.client.x-this.coords.start.client.x,y=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Yn(g,y)>this.pointerMoveTolerance);var S,E,R,A=this.getPointerIndex(s),k={pointer:s,pointerIndex:A,pointerInfo:this.pointers[A],event:l,type:"move",eventTarget:h,dx:g,dy:y,duplicate:_,interaction:this};_||(S=this.coords.velocity,E=this.coords.delta,R=Math.max(E.timeStamp/1e3,.001),S.page.x=E.page.x/R,S.page.y=E.page.y/R,S.client.x=E.client.x/R,S.client.y=E.client.y/R,S.timeStamp=R),this._scopeFire("interactions:move",k),_||this.simulation||(this.interacting()&&(k.type=null,this.move(k)),this.pointerWasMoved&&ti(this.coords.prev,this.coords.cur))}},{key:"move",value:function(s){s&&s.event||_a(this.coords.delta),(s=de({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},s||{})).phase="move",this._doPhase(s)}},{key:"pointerUp",value:function(s,l,h,g){var y=this.getPointerIndex(s);y===-1&&(y=this.updatePointer(s,l,h,!1));var _=/cancel$/i.test(l.type)?"cancel":"up";this._scopeFire("interactions:".concat(_),{pointer:s,pointerIndex:y,pointerInfo:this.pointers[y],event:l,eventTarget:h,type:_,curEventTarget:g,interaction:this}),this.simulation||this.end(l),this.removePointer(s,l)}},{key:"documentBlur",value:function(s){this.end(s),this._scopeFire("interactions:blur",{event:s,type:"blur",interaction:this})}},{key:"end",value:function(s){var l;this._ending=!0,s=s||this._latestPointer.event,this.interacting()&&(l=this._doPhase({event:s,interaction:this,phase:"end"})),this._ending=!1,l===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(s){var l=ri(s);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:yr(this.pointers,function(h){return h.id===l})}},{key:"getPointerInfo",value:function(s){return this.pointers[this.getPointerIndex(s)]}},{key:"updatePointer",value:function(s,l,h,g){var y,_,S,E=ri(s),R=this.getPointerIndex(s),A=this.pointers[R];return g=g!==!1&&(g||/(down|start)$/i.test(l.type)),A?A.pointer=s:(A=new Qo(E,s,l,null,null),R=this.pointers.length,this.pointers.push(A)),Xn(this.coords.cur,this.pointers.map(function(k){return k.pointer}),this._now()),y=this.coords.delta,_=this.coords.prev,S=this.coords.cur,y.page.x=S.page.x-_.page.x,y.page.y=S.page.y-_.page.y,y.client.x=S.client.x-_.client.x,y.client.y=S.client.y-_.client.y,y.timeStamp=S.timeStamp-_.timeStamp,g&&(this.pointerIsDown=!0,A.downTime=this.coords.cur.timeStamp,A.downTarget=h,_e(this.downPointer,s),this.interacting()||(ti(this.coords.start,this.coords.cur),ti(this.coords.prev,this.coords.cur),this.downEvent=l,this.pointerWasMoved=!1)),this._updateLatestPointer(s,l,h),this._scopeFire("interactions:update-pointer",{pointer:s,event:l,eventTarget:h,down:g,pointerInfo:A,pointerIndex:R,interaction:this}),R}},{key:"removePointer",value:function(s,l){var h=this.getPointerIndex(s);if(h!==-1){var g=this.pointers[h];this._scopeFire("interactions:remove-pointer",{pointer:s,event:l,eventTarget:null,pointerIndex:h,pointerInfo:g,interaction:this}),this.pointers.splice(h,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(s,l,h){this._latestPointer.pointer=s,this._latestPointer.event=l,this._latestPointer.eventTarget=h}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(s,l,h,g){return new Ir(this,s,this.prepared.name,l,this.element,h,g)}},{key:"_fireEvent",value:function(s){var l;(l=this.interactable)==null||l.fire(s),(!this.prevEvent||s.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=s)}},{key:"_doPhase",value:function(s){var l=s.event,h=s.phase,g=s.preEnd,y=s.type,_=this.rect;if(_&&h==="move"&&(mn(this.edges,_,this.coords.delta[this.interactable.options.deltaSource]),_.width=_.right-_.left,_.height=_.bottom-_.top),this._scopeFire("interactions:before-action-".concat(h),s)===!1)return!1;var S=s.iEvent=this._createPreparedEvent(l,h,g,y);return this._scopeFire("interactions:action-".concat(h),s),h==="start"&&(this.prevEvent=S),this._fireEvent(S),this._scopeFire("interactions:after-action-".concat(h),s),!0}},{key:"_now",value:function(){return Date.now()}}]),a}();function es(a){He(a.interaction)}function He(a){if(!function(l){return!(!l.offset.pending.x&&!l.offset.pending.y)}(a))return!1;var s=a.offset.pending;return ts(a.coords.cur,s),ts(a.coords.delta,s),mn(a.edges,a.rect,s),s.x=0,s.y=0,!0}function Fc(a){var s=a.x,l=a.y;this.offset.pending.x+=s,this.offset.pending.y+=l,this.offset.total.x+=s,this.offset.total.y+=l}function ts(a,s){var l=a.page,h=a.client,g=s.x,y=s.y;l.x+=g,l.y+=y,h.x+=g,h.y+=y}On.offsetBy="";var Ra={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(a){a.Interaction.prototype.offsetBy=Fc},listeners:{"interactions:new":function(a){a.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(a){return function(s){s.pointerIsDown&&(ts(s.coords.cur,s.offset.total),s.offset.pending.x=0,s.offset.pending.y=0)}(a.interaction)},"interactions:before-action-start":es,"interactions:before-action-move":es,"interactions:before-action-end":function(a){var s=a.interaction;if(He(s))return s.move({offset:!0}),s.end(),!1},"interactions:stop":function(a){var s=a.interaction;s.offset.total.x=0,s.offset.total.y=0,s.offset.pending.x=0,s.offset.pending.y=0}}},ns=Ra,Fa=function(){function a(s){n(this,a),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=s}return o(a,[{key:"start",value:function(s){var l=this.interaction,h=Pn(l);if(!h||!h.enabled)return!1;var g=l.coords.velocity.client,y=Yn(g.x,g.y),_=this.modification||(this.modification=new li(l));if(_.copyFrom(l.modification),this.t0=l._now(),this.allowResume=h.allowResume,this.v0=y,this.currentOffset={x:0,y:0},this.startCoords=l.coords.cur.page,this.modifierArg=_.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-l.coords.cur.timeStamp<50&&y>h.minSpeed&&y>h.endSpeed)this.startInertia();else{if(_.result=_.setAll(this.modifierArg),!_.result.changed)return!1;this.startSmoothEnd()}return l.modification.result.rect=null,l.offsetBy(this.targetOffset),l._doPhase({interaction:l,event:s,phase:"inertiastart"}),l.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),l.modification.result.rect=null,this.active=!0,l.simulation=this,!0}},{key:"startInertia",value:function(){var s=this,l=this.interaction.coords.velocity.client,h=Pn(this.interaction),g=h.resistance,y=-Math.log(h.endSpeed/this.v0)/g;this.targetOffset={x:(l.x-y)/g,y:(l.y-y)/g},this.te=y,this.lambda_v0=g/this.v0,this.one_ve_v0=1-h.endSpeed/this.v0;var _=this.modification,S=this.modifierArg;S.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},_.result=_.setAll(S),_.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+_.result.delta.x,y:this.targetOffset.y+_.result.delta.y}),this.onNextFrame(function(){return s.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var s=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return s.smoothEndTick()})}},{key:"onNextFrame",value:function(s){var l=this;this.timeout=sn.request(function(){l.active&&s()})}},{key:"inertiaTick",value:function(){var s,l,h,g,y,_,S,E=this,R=this.interaction,A=Pn(R).resistance,k=(R._now()-this.t0)/1e3;if(k<this.te){var z,Q=1-(Math.exp(-A*k)-this.lambda_v0)/this.one_ve_v0;this.isModified?(s=0,l=0,h=this.targetOffset.x,g=this.targetOffset.y,y=this.modifiedOffset.x,_=this.modifiedOffset.y,z={x:Oa(S=Q,s,h,y),y:Oa(S,l,g,_)}):z={x:this.targetOffset.x*Q,y:this.targetOffset.y*Q};var Z={x:z.x-this.currentOffset.x,y:z.y-this.currentOffset.y};this.currentOffset.x+=Z.x,this.currentOffset.y+=Z.y,R.offsetBy(Z),R.move(),this.onNextFrame(function(){return E.inertiaTick()})}else R.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var s=this,l=this.interaction,h=l._now()-this.t0,g=Pn(l).smoothEndDuration;if(h<g){var y={x:ir(h,0,this.targetOffset.x,g),y:ir(h,0,this.targetOffset.y,g)},_={x:y.x-this.currentOffset.x,y:y.y-this.currentOffset.y};this.currentOffset.x+=_.x,this.currentOffset.y+=_.y,l.offsetBy(_),l.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return s.smoothEndTick()})}else l.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(s){var l=s.pointer,h=s.event,g=s.eventTarget,y=this.interaction;y.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),y.updatePointer(l,h,g,!0),y._doPhase({interaction:y,event:h,phase:"resume"}),ti(y.coords.prev,y.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,sn.cancel(this.timeout)}}]),a}();function Pn(a){var s=a.interactable,l=a.prepared;return s&&s.options&&l.name&&s.options[l.name].inertia}var fi={id:"inertia",before:["modifiers","actions"],install:function(a){var s=a.defaults;a.usePlugin(ns),a.usePlugin(Zo),a.actions.phases.inertiastart=!0,a.actions.phases.resume=!0,s.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(a){var s=a.interaction;s.inertia=new Fa(s)},"interactions:before-action-end":function(a){var s=a.interaction,l=a.event;return(!s._interacting||s.simulation||!s.inertia.start(l))&&null},"interactions:down":function(a){var s=a.interaction,l=a.eventTarget,h=s.inertia;if(h.active)for(var g=l;U.element(g);){if(g===s.element){h.resume(a);break}g=he(g)}},"interactions:stop":function(a){var s=a.interaction.inertia;s.active&&s.stop()},"interactions:before-action-resume":function(a){var s=a.interaction.modification;s.stop(a),s.start(a,a.interaction.coords.cur.page),s.applyToInteraction(a)},"interactions:before-action-inertiastart":function(a){return a.interaction.modification.setAndApply(a)},"interactions:action-resume":nr,"interactions:action-inertiastart":nr,"interactions:after-action-inertiastart":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-resume":function(a){return a.interaction.modification.restoreInteractionCoords(a)}}};function Oa(a,s,l,h){var g=1-a;return g*g*s+2*g*a*l+a*a*h}function ir(a,s,l,h){return-l*(a/=h)*(a-2)+s}var rs=fi;function Zi(a,s){for(var l=0;l<s.length;l++){var h=s[l];if(a.immediatePropagationStopped)break;h(a)}}var Pa=function(){function a(s){n(this,a),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=de({},s||{})}return o(a,[{key:"fire",value:function(s){var l,h=this.global;(l=this.types[s.type])&&Zi(s,l),!s.propagationStopped&&h&&(l=h[s.type])&&Zi(s,l)}},{key:"on",value:function(s,l){var h=rn(s,l);for(s in h)this.types[s]=Ho(this.types[s]||[],h[s])}},{key:"off",value:function(s,l){var h=rn(s,l);for(s in h){var g=this.types[s];if(g&&g.length)for(var y=0,_=h[s];y<_.length;y++){var S=_[y],E=g.indexOf(S);E!==-1&&g.splice(E,1)}}}},{key:"getRect",value:function(s){return null}}]),a}(),Qi=function(){function a(s){n(this,a),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=s,_e(this,s)}return o(a,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),a}();function Ar(a){return U.object(a)?{capture:!!a.capture,passive:!!a.passive}:{capture:!!a,passive:!1}}function or(a,s){return a===s||(typeof a=="boolean"?!!s.capture===a&&!s.passive:!!a.capture==!!s.capture&&!!a.passive==!!s.passive)}var ka={id:"events",install:function(a){var s,l=[],h={},g=[],y={add:_,remove:S,addDelegate:function(A,k,z,Q,Z){var te=Ar(Z);if(!h[z]){h[z]=[];for(var le=0;le<g.length;le++){var ue=g[le];_(ue,z,E),_(ue,z,R,!0)}}var ye=h[z],ke=br(ye,function(Ge){return Ge.selector===A&&Ge.context===k});ke||(ke={selector:A,context:k,listeners:[]},ye.push(ke)),ke.listeners.push({func:Q,options:te})},removeDelegate:function(A,k,z,Q,Z){var te,le=Ar(Z),ue=h[z],ye=!1;if(ue)for(te=ue.length-1;te>=0;te--){var ke=ue[te];if(ke.selector===A&&ke.context===k){for(var Ge=ke.listeners,Ce=Ge.length-1;Ce>=0;Ce--){var Le=Ge[Ce];if(Le.func===Q&&or(Le.options,le)){Ge.splice(Ce,1),Ge.length||(ue.splice(te,1),S(k,z,E),S(k,z,R,!0)),ye=!0;break}}if(ye)break}}},delegateListener:E,delegateUseCapture:R,delegatedEvents:h,documents:g,targets:l,supportsOptions:!1,supportsPassive:!1};function _(A,k,z,Q){if(A.addEventListener){var Z=Ar(Q),te=br(l,function(le){return le.eventTarget===A});te||(te={eventTarget:A,events:{}},l.push(te)),te.events[k]||(te.events[k]=[]),br(te.events[k],function(le){return le.func===z&&or(le.options,Z)})||(A.addEventListener(k,z,y.supportsOptions?Z:Z.capture),te.events[k].push({func:z,options:Z}))}}function S(A,k,z,Q){if(A.addEventListener&&A.removeEventListener){var Z=yr(l,function(It){return It.eventTarget===A}),te=l[Z];if(te&&te.events)if(k!=="all"){var le=!1,ue=te.events[k];if(ue){if(z==="all"){for(var ye=ue.length-1;ye>=0;ye--){var ke=ue[ye];S(A,k,ke.func,ke.options)}return}for(var Ge=Ar(Q),Ce=0;Ce<ue.length;Ce++){var Le=ue[Ce];if(Le.func===z&&or(Le.options,Ge)){A.removeEventListener(k,z,y.supportsOptions?Ge:Ge.capture),ue.splice(Ce,1),ue.length===0&&(delete te.events[k],le=!0);break}}}le&&!Object.keys(te.events).length&&l.splice(Z,1)}else for(k in te.events)te.events.hasOwnProperty(k)&&S(A,k,"all")}}function E(A,k){for(var z=Ar(k),Q=new Qi(A),Z=h[A.type],te=Ko(A)[0],le=te;U.element(le);){for(var ue=0;ue<Z.length;ue++){var ye=Z[ue],ke=ye.selector,Ge=ye.context;if(Se(le,ke)&&pe(Ge,te)&&pe(Ge,le)){var Ce=ye.listeners;Q.currentTarget=le;for(var Le=0;Le<Ce.length;Le++){var It=Ce[Le];or(It.options,z)&&It.func(Q)}}}le=he(le)}}function R(A){return E(A,!0)}return(s=a.document)==null||s.createElement("div").addEventListener("test",null,{get capture(){return y.supportsOptions=!0},get passive(){return y.supportsPassive=!0}}),a.events=y,y}},is={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(a){for(var s=0,l=is.methodOrder;s<l.length;s++){var h=l[s],g=is[h](a);if(g)return g}return null},simulationResume:function(a){var s=a.pointerType,l=a.eventType,h=a.eventTarget,g=a.scope;if(!/down|start/i.test(l))return null;for(var y=0,_=g.interactions.list;y<_.length;y++){var S=_[y],E=h;if(S.simulation&&S.simulation.allowResume&&S.pointerType===s)for(;E;){if(E===S.element)return S;E=he(E)}}return null},mouseOrPen:function(a){var s,l=a.pointerId,h=a.pointerType,g=a.eventType,y=a.scope;if(h!=="mouse"&&h!=="pen")return null;for(var _=0,S=y.interactions.list;_<S.length;_++){var E=S[_];if(E.pointerType===h){if(E.simulation&&!Mr(E,l))continue;if(E.interacting())return E;s||(s=E)}}if(s)return s;for(var R=0,A=y.interactions.list;R<A.length;R++){var k=A[R];if(!(k.pointerType!==h||/down/i.test(g)&&k.simulation))return k}return null},hasPointer:function(a){for(var s=a.pointerId,l=0,h=a.scope.interactions.list;l<h.length;l++){var g=h[l];if(Mr(g,s))return g}return null},idle:function(a){for(var s=a.pointerType,l=0,h=a.scope.interactions.list;l<h.length;l++){var g=h[l];if(g.pointers.length===1){var y=g.interactable;if(y&&(!y.options.gesture||!y.options.gesture.enabled))continue}else if(g.pointers.length>=2)continue;if(!g.interacting()&&s===g.pointerType)return g}return null}};function Mr(a,s){return a.pointers.some(function(l){return l.id===s})}var Oc=is,hi=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Na(a,s){return function(l){var h=s.interactions.list,g=Xt(l),y=Ko(l),_=y[0],S=y[1],E=[];if(/^touch/.test(l.type)){s.prevTouchTime=s.now();for(var R=0,A=l.changedTouches;R<A.length;R++){var k=A[R],z={pointer:k,pointerId:ri(k),pointerType:g,eventType:l.type,eventTarget:_,curEventTarget:S,scope:s},Q=Va(z);E.push([z.pointer,z.eventTarget,z.curEventTarget,Q])}}else{var Z=!1;if(!j.supportsPointerEvent&&/mouse/.test(l.type)){for(var te=0;te<h.length&&!Z;te++)Z=h[te].pointerType!=="mouse"&&h[te].pointerIsDown;Z=Z||s.now()-s.prevTouchTime<500||l.timeStamp===0}if(!Z){var le={pointer:l,pointerId:ri(l),pointerType:g,eventType:l.type,curEventTarget:S,eventTarget:_,scope:s},ue=Va(le);E.push([le.pointer,le.eventTarget,le.curEventTarget,ue])}}for(var ye=0;ye<E.length;ye++){var ke=E[ye],Ge=ke[0],Ce=ke[1],Le=ke[2];ke[3][a](Ge,l,Ce,Le)}}}function Va(a){var s=a.pointerType,l=a.scope,h={interaction:Oc.search(a),searchDetails:a};return l.fire("interactions:find",h),h.interaction||l.interactions.new({pointerType:s})}function os(a,s){var l=a.doc,h=a.scope,g=a.options,y=h.interactions.docEvents,_=h.events,S=_[s];for(var E in h.browser.isIOS&&!g.events&&(g.events={passive:!1}),_.delegatedEvents)S(l,E,_.delegateListener),S(l,E,_.delegateUseCapture,!0);for(var R=g&&g.events,A=0;A<y.length;A++){var k=y[A];S(l,k.type,k.listener,R)}}var jt={id:"core/interactions",install:function(a){for(var s={},l=0;l<hi.length;l++){var h=hi[l];s[h]=Na(h,a)}var g,y=j.pEventTypes;function _(){for(var S=0,E=a.interactions.list;S<E.length;S++){var R=E[S];if(R.pointerIsDown&&R.pointerType==="touch"&&!R._interacting)for(var A=function(){var Q=z[k];a.documents.some(function(Z){return pe(Z.doc,Q.downTarget)})||R.removePointer(Q.pointer,Q.event)},k=0,z=R.pointers;k<z.length;k++)A()}}(g=vt.PointerEvent?[{type:y.down,listener:_},{type:y.down,listener:s.pointerDown},{type:y.move,listener:s.pointerMove},{type:y.up,listener:s.pointerUp},{type:y.cancel,listener:s.pointerUp}]:[{type:"mousedown",listener:s.pointerDown},{type:"mousemove",listener:s.pointerMove},{type:"mouseup",listener:s.pointerUp},{type:"touchstart",listener:_},{type:"touchstart",listener:s.pointerDown},{type:"touchmove",listener:s.pointerMove},{type:"touchend",listener:s.pointerUp},{type:"touchcancel",listener:s.pointerUp}]).push({type:"blur",listener:function(S){for(var E=0,R=a.interactions.list;E<R.length;E++)R[E].documentBlur(S)}}),a.prevTouchTime=0,a.Interaction=function(S){m(R,S);var E=T(R);function R(){return n(this,R),E.apply(this,arguments)}return o(R,[{key:"pointerMoveTolerance",get:function(){return a.interactions.pointerMoveTolerance},set:function(A){a.interactions.pointerMoveTolerance=A}},{key:"_now",value:function(){return a.now()}}]),R}(Xi),a.interactions={list:[],new:function(S){S.scopeFire=function(R,A){return a.fire(R,A)};var E=new a.Interaction(S);return a.interactions.list.push(E),E},listeners:s,docEvents:g,pointerMoveTolerance:1},a.usePlugin(Xo)},listeners:{"scope:add-document":function(a){return os(a,"add")},"scope:remove-document":function(a){return os(a,"remove")},"interactable:unset":function(a,s){for(var l=a.interactable,h=s.interactions.list.length-1;h>=0;h--){var g=s.interactions.list[h];g.interactable===l&&(g.stop(),s.fire("interactions:destroy",{interaction:g}),g.destroy(),s.interactions.list.length>2&&s.interactions.list.splice(h,1))}}},onDocSignal:os,doOnInteractions:Na,methodNames:hi},Tr=jt,kn=function(a){return a[a.On=0]="On",a[a.Off=1]="Off",a}(kn||{}),Pc=function(){function a(s,l,h,g){n(this,a),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Pa,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=l.actions,this.target=s,this._context=l.context||h,this._win=ce(mt(s)?this._context:s),this._doc=this._win.document,this._scopeEvents=g,this.set(l)}return o(a,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(s,l){return U.func(l.onstart)&&this.on("".concat(s,"start"),l.onstart),U.func(l.onmove)&&this.on("".concat(s,"move"),l.onmove),U.func(l.onend)&&this.on("".concat(s,"end"),l.onend),U.func(l.oninertiastart)&&this.on("".concat(s,"inertiastart"),l.oninertiastart),this}},{key:"updatePerActionListeners",value:function(s,l,h){var g,y=this,_=(g=this._actions.map[s])==null?void 0:g.filterEventType,S=function(E){return(_==null||_(E))&&Er(E,y._actions)};(U.array(l)||U.object(l))&&this._onOff(kn.Off,s,l,void 0,S),(U.array(h)||U.object(h))&&this._onOff(kn.On,s,h,void 0,S)}},{key:"setPerAction",value:function(s,l){var h=this._defaults;for(var g in l){var y=g,_=this.options[s],S=l[y];y==="listeners"&&this.updatePerActionListeners(s,_.listeners,S),U.array(S)?_[y]=Hi(S):U.plainObject(S)?(_[y]=de(_[y]||{},rt(S)),U.object(h.perAction[y])&&"enabled"in h.perAction[y]&&(_[y].enabled=S.enabled!==!1)):U.bool(S)&&U.object(h.perAction[y])?_[y].enabled=S:_[y]=S}}},{key:"getRect",value:function(s){return s=s||(U.element(this.target)?this.target:null),U.string(this.target)&&(s=s||this._context.querySelector(this.target)),Je(s)}},{key:"rectChecker",value:function(s){var l=this;return U.func(s)?(this.getRect=function(h){var g=de({},s.apply(l,h));return"width"in g||(g.width=g.right-g.left,g.height=g.bottom-g.top),g},this):s===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(s,l){if(mt(l)||U.object(l)){for(var h in this.options[s]=l,this._actions.map)this.options[h][s]=l;return this}return this.options[s]}},{key:"origin",value:function(s){return this._backCompatOption("origin",s)}},{key:"deltaSource",value:function(s){return s==="page"||s==="client"?(this.options.deltaSource=s,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var s=this.target;return U.string(s)?Array.from(this._context.querySelectorAll(s)):U.func(s)&&s.getAllElements?s.getAllElements():U.element(s)?[s]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(s){return this._context===s.ownerDocument||pe(this._context,s)}},{key:"testIgnoreAllow",value:function(s,l,h){return!this.testIgnore(s.ignoreFrom,l,h)&&this.testAllow(s.allowFrom,l,h)}},{key:"testAllow",value:function(s,l,h){return!s||!!U.element(h)&&(U.string(s)?qe(h,s,l):!!U.element(s)&&pe(s,h))}},{key:"testIgnore",value:function(s,l,h){return!(!s||!U.element(h))&&(U.string(s)?qe(h,s,l):!!U.element(s)&&pe(s,h))}},{key:"fire",value:function(s){return this.events.fire(s),this}},{key:"_onOff",value:function(s,l,h,g,y){U.object(l)&&!U.array(l)&&(g=h,h=null);var _=rn(l,h,y);for(var S in _){S==="wheel"&&(S=j.wheelEvent);for(var E=0,R=_[S];E<R.length;E++){var A=R[E];Er(S,this._actions)?this.events[s===kn.On?"on":"off"](S,A):U.string(this.target)?this._scopeEvents[s===kn.On?"addDelegate":"removeDelegate"](this.target,this._context,S,A,g):this._scopeEvents[s===kn.On?"add":"remove"](this.target,S,A,g)}}return this}},{key:"on",value:function(s,l,h){return this._onOff(kn.On,s,l,h)}},{key:"off",value:function(s,l,h){return this._onOff(kn.Off,s,l,h)}},{key:"set",value:function(s){var l=this._defaults;for(var h in U.object(s)||(s={}),this.options=rt(l.base),this._actions.methodDict){var g=h,y=this._actions.methodDict[g];this.options[g]={},this.setPerAction(g,de(de({},l.perAction),l.actions[g])),this[y](s[g])}for(var _ in s)_!=="getRect"?U.func(this[_])&&this[_](s[_]):this.rectChecker(s.getRect);return this}},{key:"unset",value:function(){if(U.string(this.target))for(var s in this._scopeEvents.delegatedEvents)for(var l=this._scopeEvents.delegatedEvents[s],h=l.length-1;h>=0;h--){var g=l[h],y=g.selector,_=g.context,S=g.listeners;y===this.target&&_===this._context&&l.splice(h,1);for(var E=S.length-1;E>=0;E--)this._scopeEvents.removeDelegate(this.target,this._context,s,S[E][0],S[E][1])}else this._scopeEvents.remove(this.target,"all")}}]),a}(),kc=function(){function a(s){var l=this;n(this,a),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=s,s.addListeners({"interactable:unset":function(h){var g=h.interactable,y=g.target,_=U.string(y)?l.selectorMap[y]:y[l.scope.id],S=yr(_,function(E){return E===g});_.splice(S,1)}})}return o(a,[{key:"new",value:function(s,l){l=de(l||{},{actions:this.scope.actions});var h=new this.scope.Interactable(s,l,this.scope.document,this.scope.events);return this.scope.addDocument(h._doc),this.list.push(h),U.string(s)?(this.selectorMap[s]||(this.selectorMap[s]=[]),this.selectorMap[s].push(h)):(h.target[this.scope.id]||Object.defineProperty(s,this.scope.id,{value:[],configurable:!0}),s[this.scope.id].push(h)),this.scope.fire("interactable:new",{target:s,options:l,interactable:h,win:this.scope._win}),h}},{key:"getExisting",value:function(s,l){var h=l&&l.context||this.scope.document,g=U.string(s),y=g?this.selectorMap[s]:s[this.scope.id];if(y)return br(y,function(_){return _._context===h&&(g||_.inContext(s))})}},{key:"forEachMatch",value:function(s,l){for(var h=0,g=this.list;h<g.length;h++){var y=g[h],_=void 0;if((U.string(y.target)?U.element(s)&&Se(s,y.target):s===y.target)&&y.inContext(s)&&(_=l(y)),_!==void 0)return _}}}]),a}(),Ji=function(){function a(){var s=this;n(this,a),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=j,this.defaults=rt(rr),this.Eventable=Pa,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(h){var g=function y(_,S){var E=h.interactables.getExisting(_,S);return E||((E=h.interactables.new(_,S)).events.global=y.globalEvents),E};return g.getPointerAverage=Sa,g.getTouchBBox=$o,g.getTouchDistance=Go,g.getTouchAngle=ii,g.getElementRect=Je,g.getElementClientRect=Nt,g.matchesSelector=Se,g.closest=ne,g.globalEvents={},g.version="1.10.27",g.scope=h,g.use=function(y,_){return this.scope.usePlugin(y,_),this},g.isSet=function(y,_){return!!this.scope.interactables.get(y,_&&_.context)},g.on=an(function(y,_,S){if(U.string(y)&&y.search(" ")!==-1&&(y=y.trim().split(/ +/)),U.array(y)){for(var E=0,R=y;E<R.length;E++){var A=R[E];this.on(A,_,S)}return this}if(U.object(y)){for(var k in y)this.on(k,y[k],_);return this}return Er(y,this.scope.actions)?this.globalEvents[y]?this.globalEvents[y].push(_):this.globalEvents[y]=[_]:this.scope.events.add(this.scope.document,y,_,{options:S}),this},"The interact.on() method is being deprecated"),g.off=an(function(y,_,S){if(U.string(y)&&y.search(" ")!==-1&&(y=y.trim().split(/ +/)),U.array(y)){for(var E=0,R=y;E<R.length;E++){var A=R[E];this.off(A,_,S)}return this}if(U.object(y)){for(var k in y)this.off(k,y[k],_);return this}var z;return Er(y,this.scope.actions)?y in this.globalEvents&&(z=this.globalEvents[y].indexOf(_))!==-1&&this.globalEvents[y].splice(z,1):this.scope.events.remove(this.scope.document,y,_,S),this},"The interact.off() method is being deprecated"),g.debug=function(){return this.scope},g.supportsTouch=function(){return j.supportsTouch},g.supportsPointerEvent=function(){return j.supportsPointerEvent},g.stop=function(){for(var y=0,_=this.scope.interactions.list;y<_.length;y++)_[y].stop();return this},g.pointerMoveTolerance=function(y){return U.number(y)?(this.scope.interactions.pointerMoveTolerance=y,this):this.scope.interactions.pointerMoveTolerance},g.addDocument=function(y,_){this.scope.addDocument(y,_)},g.removeDocument=function(y){this.scope.removeDocument(y)},g}(this),this.InteractEvent=Ir,this.Interactable=void 0,this.interactables=new kc(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(h){return s.removeDocument(h.target)};var l=this;this.Interactable=function(h){m(y,h);var g=T(y);function y(){return n(this,y),g.apply(this,arguments)}return o(y,[{key:"_defaults",get:function(){return l.defaults}},{key:"set",value:function(_){return O(w(y.prototype),"set",this).call(this,_),l.fire("interactable:set",{options:_,interactable:this}),this}},{key:"unset",value:function(){O(w(y.prototype),"unset",this).call(this);var _=l.interactables.list.indexOf(this);_<0||(l.interactables.list.splice(_,1),l.fire("interactable:unset",{interactable:this}))}}]),y}(Pc)}return o(a,[{key:"addListeners",value:function(s,l){this.listenerMaps.push({id:l,map:s})}},{key:"fire",value:function(s,l){for(var h=0,g=this.listenerMaps;h<g.length;h++){var y=g[h].map[s];if(y&&y(l,this,s)===!1)return!1}}},{key:"init",value:function(s){return this.isInitialized?this:function(l,h){return l.isInitialized=!0,U.window(h)&&Y(h),vt.init(h),j.init(h),sn.init(h),l.window=h,l.document=h.document,l.usePlugin(Tr),l.usePlugin(ka),l}(this,s)}},{key:"pluginIsInstalled",value:function(s){var l=s.id;return l?!!this._plugins.map[l]:this._plugins.list.indexOf(s)!==-1}},{key:"usePlugin",value:function(s,l){if(!this.isInitialized)return this;if(this.pluginIsInstalled(s))return this;if(s.id&&(this._plugins.map[s.id]=s),this._plugins.list.push(s),s.install&&s.install(this,l),s.listeners&&s.before){for(var h=0,g=this.listenerMaps.length,y=s.before.reduce(function(S,E){return S[E]=!0,S[vn(E)]=!0,S},{});h<g;h++){var _=this.listenerMaps[h].id;if(_&&(y[_]||y[vn(_)]))break}this.listenerMaps.splice(h,0,{id:s.id,map:s.listeners})}else s.listeners&&this.listenerMaps.push({id:s.id,map:s.listeners});return this}},{key:"addDocument",value:function(s,l){if(this.getDocIndex(s)!==-1)return!1;var h=ce(s);l=l?de({},l):{},this.documents.push({doc:s,options:l}),this.events.documents.push(s),s!==this.document&&this.events.add(h,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:s,window:h,scope:this,options:l})}},{key:"removeDocument",value:function(s){var l=this.getDocIndex(s),h=ce(s),g=this.documents[l].options;this.events.remove(h,"unload",this.onWindowUnload),this.documents.splice(l,1),this.events.documents.splice(l,1),this.fire("scope:remove-document",{doc:s,window:h,scope:this,options:g})}},{key:"getDocIndex",value:function(s){for(var l=0;l<this.documents.length;l++)if(this.documents[l].doc===s)return l;return-1}},{key:"getDocOptions",value:function(s){var l=this.getDocIndex(s);return l===-1?null:this.documents[l].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),a}();function vn(a){return a&&a.replace(/\/.*$/,"")}var ss=new Ji,Et=ss.interactStatic,Nc=typeof globalThis<"u"?globalThis:window;ss.init(Nc);var un=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(a){var s=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(h){var g=h[0],y=h[1];return g in a||y in a}),l=function(h,g){for(var y=a.range,_=a.limits,S=_===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:_,E=a.offset,R=E===void 0?{x:0,y:0}:E,A={range:y,grid:a,x:null,y:null},k=0;k<s.length;k++){var z=s[k],Q=z[0],Z=z[1],te=Math.round((h-R.x)/a[Q]),le=Math.round((g-R.y)/a[Z]);A[Q]=Math.max(S.left,Math.min(S.right,te*a[Q]+R.x)),A[Z]=Math.max(S.top,Math.min(S.bottom,le*a[Z]+R.y))}return A};return l.grid=a,l.coordFields=s,l}}),pi={id:"snappers",install:function(a){var s=a.interactStatic;s.snappers=de(s.snappers||{},un),s.createSnapGrid=s.snappers.grid}},mi=pi,as={start:function(a){var s=a.state,l=a.rect,h=a.edges,g=a.pageCoords,y=s.options,_=y.ratio,S=y.enabled,E=s.options,R=E.equalDelta,A=E.modifiers;_==="preserve"&&(_=l.width/l.height),s.startCoords=de({},g),s.startRect=de({},l),s.ratio=_,s.equalDelta=R;var k=s.linkedEdges={top:h.top||h.left&&!h.bottom,left:h.left||h.top&&!h.right,bottom:h.bottom||h.right&&!h.top,right:h.right||h.bottom&&!h.left};if(s.xIsPrimaryAxis=!(!h.left&&!h.right),s.equalDelta){var z=(k.left?1:-1)*(k.top?1:-1);s.edgeSign={x:z,y:z}}else s.edgeSign={x:k.left?-1:1,y:k.top?-1:1};if(S!==!1&&de(h,k),A!=null&&A.length){var Q=new li(a.interaction);Q.copyFrom(a.interaction.modification),Q.prepareStates(A),s.subModification=Q,Q.startAll(e({},a))}},set:function(a){var s=a.state,l=a.rect,h=a.coords,g=s.linkedEdges,y=de({},h),_=s.equalDelta?Nn:Vc;if(de(a.edges,g),_(s,s.xIsPrimaryAxis,h,l),!s.subModification)return null;var S=de({},l);mn(g,S,{x:h.x-y.x,y:h.y-y.y});var E=s.subModification.setAll(e(e({},a),{},{rect:S,edges:g,pageCoords:h,prevCoords:h,prevRect:S})),R=E.delta;return E.changed&&(_(s,Math.abs(R.x)>Math.abs(R.y),E.coords,E.rect),de(h,E.coords)),E.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Nn(a,s,l){var h=a.startCoords,g=a.edgeSign;s?l.y=h.y+(l.x-h.x)*g.y:l.x=h.x+(l.y-h.y)*g.x}function Vc(a,s,l,h){var g=a.startRect,y=a.startCoords,_=a.ratio,S=a.edgeSign;if(s){var E=h.width/_;l.y=y.y+(E-g.height)*S.y}else{var R=h.height*_;l.x=y.x+(R-g.width)*S.x}}var Lc=Vt(as,"aspectRatio"),eo=function(){};eo._defaults={};var gi=eo;function yn(a,s,l){return U.func(a)?nn(a,s.interactable,s.element,[l.x,l.y,s]):nn(a,s.interactable,s.element)}var to={start:function(a){var s=a.rect,l=a.startOffset,h=a.state,g=a.interaction,y=a.pageCoords,_=h.options,S=_.elementRect,E=de({left:0,top:0,right:0,bottom:0},_.offset||{});if(s&&S){var R=yn(_.restriction,g,y);if(R){var A=R.right-R.left-s.width,k=R.bottom-R.top-s.height;A<0&&(E.left+=A,E.right+=A),k<0&&(E.top+=k,E.bottom+=k)}E.left+=l.left-s.width*S.left,E.top+=l.top-s.height*S.top,E.right+=l.right-s.width*(1-S.right),E.bottom+=l.bottom-s.height*(1-S.bottom)}h.offset=E},set:function(a){var s=a.coords,l=a.interaction,h=a.state,g=h.options,y=h.offset,_=yn(g.restriction,l,s);if(_){var S=function(E){return!E||"left"in E&&"top"in E||((E=de({},E)).left=E.x||0,E.top=E.y||0,E.right=E.right||E.left+E.width,E.bottom=E.bottom||E.top+E.height),E}(_);s.x=Math.max(Math.min(S.right-y.right,s.x),S.left+y.left),s.y=Math.max(Math.min(S.bottom-y.bottom,s.y),S.top+y.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},vi=Vt(to,"restrict"),no={top:1/0,left:1/0,bottom:-1/0,right:-1/0},La={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function us(a,s){for(var l=0,h=["top","left","bottom","right"];l<h.length;l++){var g=h[l];g in a||(a[g]=s[g])}return a}var yi={noInner:no,noOuter:La,start:function(a){var s,l=a.interaction,h=a.startOffset,g=a.state,y=g.options;y&&(s=mr(yn(y.offset,l,l.coords.start.page))),s=s||{x:0,y:0},g.offset={top:s.y+h.top,left:s.x+h.left,bottom:s.y-h.bottom,right:s.x-h.right}},set:function(a){var s=a.coords,l=a.edges,h=a.interaction,g=a.state,y=g.offset,_=g.options;if(l){var S=de({},s),E=yn(_.inner,h,S)||{},R=yn(_.outer,h,S)||{};us(E,no),us(R,La),l.top?s.y=Math.min(Math.max(R.top+y.top,S.y),E.top+y.top):l.bottom&&(s.y=Math.max(Math.min(R.bottom+y.bottom,S.y),E.bottom+y.bottom)),l.left?s.x=Math.min(Math.max(R.left+y.left,S.x),E.left+y.left):l.right&&(s.x=Math.max(Math.min(R.right+y.right,S.x),E.right+y.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},bi=Vt(yi,"restrictEdges"),Bc=de({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(a){}},to.defaults),Uc=Vt({start:to.start,set:to.set,defaults:Bc},"restrictRect"),jc={width:-1/0,height:-1/0},ro={width:1/0,height:1/0},io=Vt({start:function(a){return yi.start(a)},set:function(a){var s=a.interaction,l=a.state,h=a.rect,g=a.edges,y=l.options;if(g){var _=jo(yn(y.min,s,a.coords))||jc,S=jo(yn(y.max,s,a.coords))||ro;l.options={endOnly:y.endOnly,inner:de({},yi.noInner),outer:de({},yi.noOuter)},g.top?(l.options.inner.top=h.bottom-_.height,l.options.outer.top=h.bottom-S.height):g.bottom&&(l.options.inner.bottom=h.top+_.height,l.options.outer.bottom=h.top+S.height),g.left?(l.options.inner.left=h.right-_.width,l.options.outer.left=h.right-S.width):g.right&&(l.options.inner.right=h.left+_.width,l.options.outer.right=h.left+S.width),yi.set(a),l.options=y}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),wi={start:function(a){var s,l=a.interaction,h=a.interactable,g=a.element,y=a.rect,_=a.state,S=a.startOffset,E=_.options,R=E.offsetWithOrigin?function(z){var Q=z.interaction.element,Z=mr(nn(z.state.options.origin,null,null,[Q])),te=Z||gr(z.interactable,Q,z.interaction.prepared.name);return te}(a):{x:0,y:0};if(E.offset==="startCoords")s={x:l.coords.start.page.x,y:l.coords.start.page.y};else{var A=nn(E.offset,h,g,[l]);(s=mr(A)||{x:0,y:0}).x+=R.x,s.y+=R.y}var k=E.relativePoints;_.offsets=y&&k&&k.length?k.map(function(z,Q){return{index:Q,relativePoint:z,x:S.left-y.width*z.x+s.x,y:S.top-y.height*z.y+s.y}}):[{index:0,relativePoint:null,x:s.x,y:s.y}]},set:function(a){var s=a.interaction,l=a.coords,h=a.state,g=h.options,y=h.offsets,_=gr(s.interactable,s.element,s.prepared.name),S=de({},l),E=[];g.offsetWithOrigin||(S.x-=_.x,S.y-=_.y);for(var R=0,A=y;R<A.length;R++)for(var k=A[R],z=S.x-k.x,Q=S.y-k.y,Z=0,te=g.targets.length;Z<te;Z++){var le=g.targets[Z],ue=void 0;(ue=U.func(le)?le(z,Q,s._proxy,k,Z):le)&&E.push({x:(U.number(ue.x)?ue.x:z)+k.x,y:(U.number(ue.y)?ue.y:Q)+k.y,range:U.number(ue.range)?ue.range:g.range,source:le,index:Z,offset:k})}for(var ye={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ke=0;ke<E.length;ke++){var Ge=E[ke],Ce=Ge.range,Le=Ge.x-S.x,It=Ge.y-S.y,et=Yn(Le,It),zt=et<=Ce;Ce===1/0&&ye.inRange&&ye.range!==1/0&&(zt=!1),ye.target&&!(zt?ye.inRange&&Ce!==1/0?et/Ce<ye.distance/ye.range:Ce===1/0&&ye.range!==1/0||et<ye.distance:!ye.inRange&&et<ye.distance)||(ye.target=Ge,ye.distance=et,ye.range=Ce,ye.inRange=zt,ye.delta.x=Le,ye.delta.y=It)}return ye.inRange&&(l.x=ye.target.x,l.y=ye.target.y),h.closest=ye,ye},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},zc=Vt(wi,"snap"),oo={start:function(a){var s=a.state,l=a.edges,h=s.options;if(!l)return null;a.state={options:{targets:null,relativePoints:[{x:l.left?0:1,y:l.top?0:1}],offset:h.offset||"self",origin:{x:0,y:0},range:h.range}},s.targetFields=s.targetFields||[["width","height"],["x","y"]],wi.start(a),s.offsets=a.state.offsets,a.state=s},set:function(a){var s=a.interaction,l=a.state,h=a.coords,g=l.options,y=l.offsets,_={x:h.x-y[0].x,y:h.y-y[0].y};l.options=de({},g),l.options.targets=[];for(var S=0,E=g.targets||[];S<E.length;S++){var R=E[S],A=void 0;if(A=U.func(R)?R(_.x,_.y,s):R){for(var k=0,z=l.targetFields;k<z.length;k++){var Q=z[k],Z=Q[0],te=Q[1];if(Z in A||te in A){A.x=A[Z],A.y=A[te];break}}l.options.targets.push(A)}}var le=wi.set(a);return l.options=g,le},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},$c=Vt(oo,"snapSize"),cs={aspectRatio:Lc,restrictEdges:bi,restrict:vi,restrictRect:Uc,restrictSize:io,snapEdges:Vt({start:function(a){var s=a.edges;return s?(a.state.targetFields=a.state.targetFields||[[s.left?"left":"right",s.top?"top":"bottom"]],oo.start(a)):null},set:oo.set,defaults:de(rt(oo.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:zc,snapSize:$c,spring:gi,avoid:gi,transform:gi,rubberband:gi},Gc={id:"modifiers",install:function(a){var s=a.interactStatic;for(var l in a.usePlugin(Zo),a.usePlugin(mi),s.modifiers=cs,cs){var h=cs[l],g=h._defaults,y=h._methods;g._methods=y,a.defaults.perAction[l]=g}}},ls=Gc,so=function(a){m(l,a);var s=T(l);function l(h,g,y,_,S,E){var R;if(n(this,l),_e(C(R=s.call(this,S)),y),y!==g&&_e(C(R),g),R.timeStamp=E,R.originalEvent=y,R.type=h,R.pointerId=ri(g),R.pointerType=Xt(g),R.target=_,R.currentTarget=null,h==="tap"){var A=S.getPointerIndex(g);R.dt=R.timeStamp-S.pointers[A].downTime;var k=R.timeStamp-S.tapTime;R.double=!!S.prevTap&&S.prevTap.type!=="doubletap"&&S.prevTap.target===R.target&&k<500}else h==="doubletap"&&(R.dt=g.timeStamp-S.tapTime,R.double=!0);return R}return o(l,[{key:"_subtractOrigin",value:function(h){var g=h.x,y=h.y;return this.pageX-=g,this.pageY-=y,this.clientX-=g,this.clientY-=y,this}},{key:"_addOrigin",value:function(h){var g=h.x,y=h.y;return this.pageX+=g,this.pageY+=y,this.clientX+=g,this.clientY+=y,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),l}(In),Rr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(a){a.pointerEvents=Rr,a.defaults.actions.pointerEvents=Rr.defaults,de(a.actions.phaselessTypes,Rr.types)},listeners:{"interactions:new":function(a){var s=a.interaction;s.prevTap=null,s.tapTime=0},"interactions:update-pointer":function(a){var s=a.down,l=a.pointerInfo;!s&&l.hold||(l.hold={duration:1/0,timeout:null})},"interactions:move":function(a,s){var l=a.interaction,h=a.pointer,g=a.event,y=a.eventTarget;a.duplicate||l.pointerIsDown&&!l.pointerWasMoved||(l.pointerIsDown&&Fr(a),Vn({interaction:l,pointer:h,event:g,eventTarget:y,type:"move"},s))},"interactions:down":function(a,s){(function(l,h){for(var g=l.interaction,y=l.pointer,_=l.event,S=l.eventTarget,E=l.pointerIndex,R=g.pointers[E].hold,A=yt(S),k={interaction:g,pointer:y,event:_,eventTarget:S,type:"hold",targets:[],path:A,node:null},z=0;z<A.length;z++){var Q=A[z];k.node=Q,h.fire("pointerEvents:collect-targets",k)}if(k.targets.length){for(var Z=1/0,te=0,le=k.targets;te<le.length;te++){var ue=le[te].eventable.options.holdDuration;ue<Z&&(Z=ue)}R.duration=Z,R.timeout=setTimeout(function(){Vn({interaction:g,eventTarget:S,pointer:y,event:_,type:"hold"},h)},Z)}})(a,s),Vn(a,s)},"interactions:up":function(a,s){Fr(a),Vn(a,s),function(l,h){var g=l.interaction,y=l.pointer,_=l.event,S=l.eventTarget;g.pointerWasMoved||Vn({interaction:g,eventTarget:S,pointer:y,event:_,type:"tap"},h)}(a,s)},"interactions:cancel":function(a,s){Fr(a),Vn(a,s)}},PointerEvent:so,fire:Vn,collectEventTargets:Di,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Vn(a,s){var l=a.interaction,h=a.pointer,g=a.event,y=a.eventTarget,_=a.type,S=a.targets,E=S===void 0?Di(a,s):S,R=new so(_,h,g,y,l,s.now());s.fire("pointerEvents:new",{pointerEvent:R});for(var A={interaction:l,pointer:h,event:g,eventTarget:y,targets:E,type:_,pointerEvent:R},k=0;k<E.length;k++){var z=E[k];for(var Q in z.props||{})R[Q]=z.props[Q];var Z=gr(z.eventable,z.node);if(R._subtractOrigin(Z),R.eventable=z.eventable,R.currentTarget=z.node,z.eventable.fire(R),R._addOrigin(Z),R.immediatePropagationStopped||R.propagationStopped&&k+1<E.length&&E[k+1].node!==R.currentTarget)break}if(s.fire("pointerEvents:fired",A),_==="tap"){var te=R.double?Vn({interaction:l,pointer:h,event:g,eventTarget:y,type:"doubletap"},s):R;l.prevTap=te,l.tapTime=te.timeStamp}return R}function Di(a,s){var l=a.interaction,h=a.pointer,g=a.event,y=a.eventTarget,_=a.type,S=l.getPointerIndex(h),E=l.pointers[S];if(_==="tap"&&(l.pointerWasMoved||!E||E.downTarget!==y))return[];for(var R=yt(y),A={interaction:l,pointer:h,event:g,eventTarget:y,type:_,path:R,targets:[],node:null},k=0;k<R.length;k++){var z=R[k];A.node=z,s.fire("pointerEvents:collect-targets",A)}return _==="hold"&&(A.targets=A.targets.filter(function(Q){var Z,te;return Q.eventable.options.holdDuration===((Z=l.pointers[S])==null||(te=Z.hold)==null?void 0:te.duration)})),A.targets}function Fr(a){var s=a.interaction,l=a.pointerIndex,h=s.pointers[l].hold;h&&h.timeout&&(clearTimeout(h.timeout),h.timeout=null)}var Kc=Object.freeze({__proto__:null,default:Rr});function Hc(a){var s=a.interaction;s.holdIntervalHandle&&(clearInterval(s.holdIntervalHandle),s.holdIntervalHandle=null)}var ao={id:"pointer-events/holdRepeat",install:function(a){a.usePlugin(Rr);var s=a.pointerEvents;s.defaults.holdRepeatInterval=0,s.types.holdrepeat=a.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(a,s){return a["pointerEvents:".concat(s)]=Hc,a},{"pointerEvents:new":function(a){var s=a.pointerEvent;s.type==="hold"&&(s.count=(s.count||0)+1)},"pointerEvents:fired":function(a,s){var l=a.interaction,h=a.pointerEvent,g=a.eventTarget,y=a.targets;if(h.type==="hold"&&y.length){var _=y[0].eventable.options.holdRepeatInterval;_<=0||(l.holdIntervalHandle=setTimeout(function(){s.pointerEvents.fire({interaction:l,eventTarget:g,type:"hold",pointer:h,event:h},s)},_))}}})},Ba=ao,Wc={id:"pointer-events/interactableTargets",install:function(a){var s=a.Interactable;s.prototype.pointerEvents=function(h){return de(this.events.options,h),this};var l=s.prototype._backCompatOption;s.prototype._backCompatOption=function(h,g){var y=l.call(this,h,g);return y===this&&(this.events.options[h]=g),y}},listeners:{"pointerEvents:collect-targets":function(a,s){var l=a.targets,h=a.node,g=a.type,y=a.eventTarget;s.interactables.forEachMatch(h,function(_){var S=_.events,E=S.options;S.types[g]&&S.types[g].length&&_.testIgnoreAllow(E,h,y)&&l.push({node:h,eventable:S,props:{interactable:_}})})},"interactable:new":function(a){var s=a.interactable;s.events.getRect=function(l){return s.getRect(l)}},"interactable:set":function(a,s){var l=a.interactable,h=a.options;de(l.events.options,s.pointerEvents.defaults),de(l.events.options,h.pointerEvents||{})}}},qc=Wc,ds={id:"pointer-events",install:function(a){a.usePlugin(Kc),a.usePlugin(Ba),a.usePlugin(qc)}},fs=ds,Yc={id:"reflow",install:function(a){var s=a.Interactable;a.actions.phases.reflow=!0,s.prototype.reflow=function(l){return function(h,g,y){for(var _=h.getAllElements(),S=y.window.Promise,E=S?[]:null,R=function(){var k=_[A],z=h.getRect(k);if(!z)return 1;var Q,Z=br(y.interactions.list,function(ue){return ue.interacting()&&ue.interactable===h&&ue.element===k&&ue.prepared.name===g.name});if(Z)Z.move(),E&&(Q=Z._reflowPromise||new S(function(ue){Z._reflowResolve=ue}));else{var te=jo(z),le=function(ue){return{coords:ue,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:te.x,y:te.y},client:{x:te.x,y:te.y},timeStamp:y.now()});Q=function(ue,ye,ke,Ge,Ce){var Le=ue.interactions.new({pointerType:"reflow"}),It={interaction:Le,event:Ce,pointer:Ce,eventTarget:ke,phase:"reflow"};Le.interactable=ye,Le.element=ke,Le.prevEvent=Ce,Le.updatePointer(Ce,Ce,ke,!0),_a(Le.coords.delta),ai(Le.prepared,Ge),Le._doPhase(It);var et=ue.window,zt=et.Promise,Zt=zt?new zt(function(Qt){Le._reflowResolve=Qt}):void 0;return Le._reflowPromise=Zt,Le.start(Ge,ye,ke),Le._interacting?(Le.move(It),Le.end(Ce)):(Le.stop(),Le._reflowResolve()),Le.removePointer(Ce,Ce),Zt}(y,h,k,g,le)}E&&E.push(Q)},A=0;A<_.length&&!R();A++);return E&&S.all(E).then(function(){return h})}(this,l,a)}},listeners:{"interactions:stop":function(a,s){var l=a.interaction;l.pointerType==="reflow"&&(l._reflowResolve&&l._reflowResolve(),function(h,g){h.splice(h.indexOf(g),1)}(s.interactions.list,l))}}},Xc=Yc;if(Et.use(Xo),Et.use(ns),Et.use(fs),Et.use(rs),Et.use(ls),Et.use(Fn),Et.use(Ca),Et.use(Sr),Et.use(Xc),Et.default=Et,(typeof Ui>"u"?"undefined":r(Ui))==="object"&&Ui)try{Ui.exports=Et}catch{}return Et.default=Et,Et})});var eh=null;function dr(){return eh}function th(t){eh??=t}var Qa=class{};var qt=new tt(""),nh=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>Me(yv),providedIn:"platform"});let t=e;return t})();var yv=(()=>{let e=class e extends nh{constructor(){super(),this._doc=Me(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(n){let i=dr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=dr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function rh(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function Yf(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function Oi(t){return t&&t[0]!=="?"?"?"+t:t}var bo=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>Me(ih),providedIn:"root"});let t=e;return t})(),Es=new tt(""),ih=(()=>{let e=class e extends bo{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Me(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return rh(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Oi(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,d){let m=this.prepareExternalUrl(o+Oi(d));this._platformLocation.pushState(n,i,m)}replaceState(n,i,o,d){let m=this.prepareExternalUrl(o+Oi(d));this._platformLocation.replaceState(n,i,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(Ue(nh),Ue(Es,8))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Is=(()=>{let e=class e{constructor(n){this._subject=new dn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=Dv(Yf(Xf(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Oi(i))}normalize(n){return e.stripTrailingSlash(wv(this._basePath,Xf(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oi(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=Oi,e.joinWithSlash=rh,e.stripTrailingSlash=Yf,e.\u0275fac=function(i){return new(i||e)(Ue(bo))},e.\u0275prov=Be({token:e,factory:()=>bv(),providedIn:"root"});let t=e;return t})();function bv(){return new Is(Ue(bo))}function wv(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function Xf(t){return t.replace(/\/index.html$/,"")}function Dv(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}var oh=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(oh||{});var lr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xs(t,e){let r=ml(t),n=r[ys.NumberSymbols][e];if(typeof n>"u"){if(e===lr.CurrencyDecimal)return r[ys.NumberSymbols][lr.Decimal];if(e===lr.CurrencyGroup)return r[ys.NumberSymbols][lr.Group]}return n}function _v(t,e){return ml(t)[ys.NumberFormats][e]}var Sv=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Zf=22,Ja=".",Cs="0",xv=";",Cv=",",wl="#";function Ev(t,e,r,n,i,o,d=!1){let m="",w=!1;if(!isFinite(t))m=xs(r,lr.Infinity);else{let b=Tv(t);d&&(b=Mv(b));let C=e.minInt,T=e.minFrac,O=e.maxFrac;if(o){let ce=o.match(Sv);if(ce===null)throw new Error(`${o} is not a valid digit info`);let $e=ce[1],xe=ce[3],U=ce[5];$e!=null&&(C=Dl($e)),xe!=null&&(T=Dl(xe)),U!=null?O=Dl(U):xe!=null&&T>O&&(O=T)}Rv(b,T,O);let L=b.digits,oe=b.integerLen,ve=b.exponent,ae=[];for(w=L.every(ce=>!ce);oe<C;oe++)L.unshift(0);for(;oe<0;oe++)L.unshift(0);oe>0?ae=L.splice(oe,L.length):(ae=L,L=[0]);let Y=[];for(L.length>=e.lgSize&&Y.unshift(L.splice(-e.lgSize,L.length).join(""));L.length>e.gSize;)Y.unshift(L.splice(-e.gSize,L.length).join(""));L.length&&Y.unshift(L.join("")),m=Y.join(xs(r,n)),ae.length&&(m+=xs(r,i)+ae.join("")),ve&&(m+=xs(r,lr.Exponential)+"+"+ve)}return t<0&&!w?m=e.negPre+m+e.negSuf:m=e.posPre+m+e.posSuf,m}function Iv(t,e,r){let n=_v(e,oh.Decimal),i=Av(n,xs(e,lr.MinusSign));return Ev(t,i,e,lr.Group,lr.Decimal,r)}function Av(t,e="-"){let r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(xv),i=n[0],o=n[1],d=i.indexOf(Ja)!==-1?i.split(Ja):[i.substring(0,i.lastIndexOf(Cs)+1),i.substring(i.lastIndexOf(Cs)+1)],m=d[0],w=d[1]||"";r.posPre=m.substring(0,m.indexOf(wl));for(let C=0;C<w.length;C++){let T=w.charAt(C);T===Cs?r.minFrac=r.maxFrac=C+1:T===wl?r.maxFrac=C+1:r.posSuf+=T}let b=m.split(Cv);if(r.gSize=b[1]?b[1].length:0,r.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,o){let C=i.length-r.posPre.length-r.posSuf.length,T=o.indexOf(wl);r.negPre=o.substring(0,T).replace(/'/g,""),r.negSuf=o.slice(T+C).replace(/'/g,"")}else r.negPre=e+r.posPre,r.negSuf=r.posSuf;return r}function Mv(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function Tv(t){let e=Math.abs(t)+"",r=0,n,i,o,d,m;for((i=e.indexOf(Ja))>-1&&(e=e.replace(Ja,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Cs;o++);if(o===(m=e.length))n=[0],i=1;else{for(m--;e.charAt(m)===Cs;)m--;for(i-=o,n=[],d=0;o<=m;o++,d++)n[d]=Number(e.charAt(o))}return i>Zf&&(n=n.splice(0,Zf-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function Rv(t,e,r){if(e>r)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${r}).`);let n=t.digits,i=n.length-t.integerLen,o=Math.min(Math.max(e,i),r),d=o+t.integerLen,m=n[d];if(d>0){n.splice(Math.max(t.integerLen,d));for(let T=d;T<n.length;T++)n[T]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,d=o+1),n[0]=0;for(let T=1;T<d;T++)n[T]=0}if(m>=5)if(d-1<0){for(let T=0;T>d;T--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[d-1]++;for(;i<Math.max(0,o);i++)n.push(0);let w=o!==0,b=e+t.integerLen,C=n.reduceRight(function(T,O,L,oe){return O=O+T,oe[L]=O<10?O:O-10,w&&(oe[L]===0&&L>=b?oe.pop():w=!1),O>=10?1:0},0);C&&(n.unshift(C),t.integerLen++)}function Dl(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function eu(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _l=/\s+/,Qf=[],tu=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=Qf,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(_l):Qf}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(_l):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(_l).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Oe(Un),Oe(jn))},e.\u0275dir=_t({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Dn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var sh=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(n,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(Oe(Ha))},e.\u0275dir=_t({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ei]});let t=e;return t})();function Fv(t,e){return new st(2100,!1)}var ah=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=al({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();var uh=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,i,o){if(!Ov(n))return null;o||=this._locale;try{let d=Pv(n);return Iv(d,o,i)}catch(d){throw Fv(e,d.message)}}};e.\u0275fac=function(i){return new(i||e)(Oe(Wf,16))},e.\u0275pipe=al({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function Ov(t){return!(t==null||t===""||t!==t)}function Pv(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var As=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({});let t=e;return t})(),ch="browser",kv="server";function nu(t){return t===kv}var yo=class{};var Ts=class{},ou=class{},Pi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),d=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(d):this.headers.set(o,[d])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=e.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let d=this.headers.get(r);if(!d)return;d=d.filter(m=>o.indexOf(m)===-1),d.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,d)}break}}setHeaderEntries(e,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var Cl=class{encodeKey(e){return lh(e)}encodeValue(e){return lh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Lv(t,e){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[d,m]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],w=r.get(d)||[];w.push(m),r.set(d,w)}),r}var Bv=/%(\d[a-f0-9])/gi,Uv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lh(t){return encodeURIComponent(t).replace(Bv,(e,r)=>Uv[r]??e)}function iu(t){return`${t}`}var Gr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cl,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Lv(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let n=e.fromObject[r],i=Array.isArray(n)?n.map(iu):[iu(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(iu(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf(iu(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var El=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function jv(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dh(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function fh(t){return typeof Blob<"u"&&t instanceof Blob}function hh(t){return typeof FormData<"u"&&t instanceof FormData}function zv(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ms=class t{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(jv(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Pi,this.context??=new El,!this.params)this.params=new Gr,this.urlWithParams=r;else{let d=this.params.toString();if(d.length===0)this.urlWithParams=r;else{let m=r.indexOf("?"),w=m===-1?"?":m<r.length-1?"&":"";this.urlWithParams=r+w+d}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dh(this.body)||fh(this.body)||hh(this.body)||zv(this.body)?this.body:this.body instanceof Gr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hh(this.body)?null:fh(this.body)?this.body.type||null:dh(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,d=e.body!==void 0?e.body:this.body,m=e.withCredentials??this.withCredentials,w=e.reportProgress??this.reportProgress,b=e.headers||this.headers,C=e.params||this.params,T=e.context??this.context;return e.setHeaders!==void 0&&(b=Object.keys(e.setHeaders).reduce((O,L)=>O.set(L,e.setHeaders[L]),b)),e.setParams&&(C=Object.keys(e.setParams).reduce((O,L)=>O.set(L,e.setParams[L]),C)),new t(r,n,d,{params:C,headers:b,context:T,reportProgress:w,responseType:i,withCredentials:m,transferCache:o})}},wo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(wo||{}),Rs=class{constructor(e,r=uu.Ok,n="OK"){this.headers=e.headers||new Pi,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Il=class t extends Rs{constructor(e={}){super(e),this.type=wo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},su=class t extends Rs{constructor(e={}){super(e),this.type=wo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},au=class extends Rs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},uu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(uu||{});function xl(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ki=(()=>{let e=class e{constructor(n){this.handler=n}request(n,i,o={}){let d;if(n instanceof Ms)d=n;else{let b;o.headers instanceof Pi?b=o.headers:b=new Pi(o.headers);let C;o.params&&(o.params instanceof Gr?C=o.params:C=new Gr({fromObject:o.params})),d=new Ms(n,i,o.body!==void 0?o.body:null,{headers:b,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let m=Pe(d).pipe(xi(b=>this.handler.handle(b)));if(n instanceof Ms||o.observe==="events")return m;let w=m.pipe(Ur(b=>b instanceof su));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return w.pipe(We(b=>{if(b.body!==null&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return w.pipe(We(b=>{if(b.body!==null&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return w.pipe(We(b=>{if(b.body!==null&&typeof b.body!="string")throw new Error("Response is not a string.");return b.body}));case"json":default:return w.pipe(We(b=>b.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Gr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,xl(o,i))}post(n,i,o={}){return this.request("POST",n,xl(o,i))}put(n,i,o={}){return this.request("PUT",n,xl(o,i))}};e.\u0275fac=function(i){return new(i||e)(Ue(Ts))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})();function $v(t,e){return e(t)}function Gv(t,e,r){return(n,i)=>cr(r,()=>e(n,o=>t(o,i)))}var gh=new tt(""),Kv=new tt(""),Hv=new tt("");var ph=(()=>{let e=class e extends Ts{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=Me(Wa);let o=Me(Hv,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(gh),...this.injector.get(Kv,[])]));this.chain=o.reduceRight((d,m)=>Gv(d,m,this.injector),$v)}let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(lo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(Ue(ou),Ue(fo))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})();var Wv=/^\)\]\}',?\n/;function qv(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var mh=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new st(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?pt(i.\u0275loadImpl()):Pe(null)).pipe(Lt(()=>new Df(d=>{let m=i.build();if(m.open(n.method,n.urlWithParams),n.withCredentials&&(m.withCredentials=!0),n.headers.forEach((ae,Y)=>m.setRequestHeader(ae,Y.join(","))),n.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let ae=n.detectContentTypeHeader();ae!==null&&m.setRequestHeader("Content-Type",ae)}if(n.responseType){let ae=n.responseType.toLowerCase();m.responseType=ae!=="json"?ae:"text"}let w=n.serializeBody(),b=null,C=()=>{if(b!==null)return b;let ae=m.statusText||"OK",Y=new Pi(m.getAllResponseHeaders()),ce=qv(m)||n.url;return b=new Il({headers:Y,status:m.status,statusText:ae,url:ce}),b},T=()=>{let{headers:ae,status:Y,statusText:ce,url:$e}=C(),xe=null;Y!==uu.NoContent&&(xe=typeof m.response>"u"?m.responseText:m.response),Y===0&&(Y=xe?uu.Ok:0);let U=Y>=200&&Y<300;if(n.responseType==="json"&&typeof xe=="string"){let dt=xe;xe=xe.replace(Wv,"");try{xe=xe!==""?JSON.parse(xe):null}catch(ft){xe=dt,U&&(U=!1,xe={error:ft,text:xe})}}U?(d.next(new su({body:xe,headers:ae,status:Y,statusText:ce,url:$e||void 0})),d.complete()):d.error(new au({error:xe,headers:ae,status:Y,statusText:ce,url:$e||void 0}))},O=ae=>{let{url:Y}=C(),ce=new au({error:ae,status:m.status||0,statusText:m.statusText||"Unknown Error",url:Y||void 0});d.error(ce)},L=!1,oe=ae=>{L||(d.next(C()),L=!0);let Y={type:wo.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(Y.total=ae.total),n.responseType==="text"&&m.responseText&&(Y.partialText=m.responseText),d.next(Y)},ve=ae=>{let Y={type:wo.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(Y.total=ae.total),d.next(Y)};return m.addEventListener("load",T),m.addEventListener("error",O),m.addEventListener("timeout",O),m.addEventListener("abort",O),n.reportProgress&&(m.addEventListener("progress",oe),w!==null&&m.upload&&m.upload.addEventListener("progress",ve)),m.send(w),d.next({type:wo.Sent}),()=>{m.removeEventListener("error",O),m.removeEventListener("abort",O),m.removeEventListener("load",T),m.removeEventListener("timeout",O),n.reportProgress&&(m.removeEventListener("progress",oe),w!==null&&m.upload&&m.upload.removeEventListener("progress",ve)),m.readyState!==m.DONE&&m.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(Ue(yo))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})(),vh=new tt(""),Yv="XSRF-TOKEN",Xv=new tt("",{providedIn:"root",factory:()=>Yv}),Zv="X-XSRF-TOKEN",Qv=new tt("",{providedIn:"root",factory:()=>Zv}),cu=class{},Jv=(()=>{let e=class e{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=eu(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(Ue(qt),Ue($r),Ue(Xv))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})();function e0(t,e){let r=t.url.toLowerCase();if(!Me(vh)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);let n=Me(cu).getToken(),i=Me(Qv);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}function yh(...t){let e=[ki,mh,ph,{provide:Ts,useExisting:ph},{provide:ou,useExisting:mh},{provide:gh,useValue:e0,multi:!0},{provide:vh,useValue:!0},{provide:cu,useClass:Jv}];for(let r of t)e.push(...r.\u0275providers);return vs(e)}var Rl=class extends Qa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fl=class t extends Rl{static makeCurrent(){th(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=r0();return r==null?null:i0(r)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eu(document.cookie,e)}},Fs=null;function r0(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}function i0(t){return new URL(t,document.baseURI).pathname}var o0=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})(),Ol=new tt(""),_h=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(d=>d.supports(n)),!i)throw new st(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(Ue(Ol),Ue(_n))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})(),lu=class{constructor(e){this._doc=e}},Ml="ng-app-id",Sh=(()=>{let e=class e{constructor(n,i,o,d={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nu(d),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ml}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let d=o.get(n);return d.usage+=i,d.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,d=o?.get(i);if(d?.parentNode===n)return o.delete(i),d.removeAttribute(Ml),d;{let m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=i,this.platformIsServer&&m.setAttribute(Ml,this.appId),n.appendChild(m),m}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),d=this.styleRef,m=d.get(i)?.elements;m?m.push(o):d.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Ue(qt),Ue(ll),Ue(dl,8),Ue($r))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})(),Tl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kl=/%COMP%/g,xh="%COMP%",s0=`_nghost-${xh}`,a0=`_ngcontent-${xh}`,u0=!0,c0=new tt("",{providedIn:"root",factory:()=>u0});function l0(t){return a0.replace(kl,t)}function d0(t){return s0.replace(kl,t)}function Ch(t,e){return e.map(r=>r.replace(kl,t))}var bh=(()=>{let e=class e{constructor(n,i,o,d,m,w,b,C=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=d,this.doc=m,this.platformId=w,this.ngZone=b,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=nu(w),this.defaultRenderer=new Os(n,m,b,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gs.ShadowDom&&(i=Ze(ge({},i),{encapsulation:gs.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof du?o.applyToHost(n):o instanceof Ps&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,d=o.get(i.id);if(!d){let m=this.doc,w=this.ngZone,b=this.eventManager,C=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,O=this.platformIsServer;switch(i.encapsulation){case gs.Emulated:d=new du(b,C,i,this.appId,T,m,w,O);break;case gs.ShadowDom:return new Pl(b,C,n,i,m,w,this.nonce,O);default:d=new Ps(b,C,i,T,m,w,O);break}o.set(i.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Ue(_h),Ue(Sh),Ue(ll),Ue(c0),Ue(qt),Ue($r),Ue(_n),Ue(dl))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})(),Os=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Tl[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(wh(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(wh(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new st(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=Tl[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Tl[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(ho.DashCase|ho.Important)?e.style.setProperty(r,n,i&ho.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&ho.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function wh(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pl=class extends Os{constructor(e,r,n,i,o,d,m,w){super(e,o,d,w),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let b=Ch(i.id,i.styles);for(let C of b){let T=document.createElement("style");m&&T.setAttribute("nonce",m),T.textContent=C,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ps=class extends Os{constructor(e,r,n,i,o,d,m,w){super(e,o,d,m),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=w?Ch(w,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},du=class extends Ps{constructor(e,r,n,i,o,d,m,w){let b=i+"-"+n.id;super(e,r,n,o,d,m,w,b),this.contentAttr=l0(b),this.hostAttr=d0(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},f0=(()=>{let e=class e extends lu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Ue(qt))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})(),Dh=["alt","control","meta","shift"],h0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p0={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},m0=(()=>{let e=class e extends lu{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let d=e.parseEventName(i),m=e.eventCallback(d.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(n,d.domEventName,m))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let d=e._normalizeKey(i.pop()),m="",w=i.indexOf("code");if(w>-1&&(i.splice(w,1),m="code."),Dh.forEach(C=>{let T=i.indexOf(C);T>-1&&(i.splice(T,1),m+=C+".")}),m+=d,i.length!=0||d.length===0)return null;let b={};return b.domEventName=o,b.fullKey=m,b}static matchEventFullKeyCode(n,i){let o=h0[n.key]||n.key,d="";return i.indexOf("code.")>-1&&(o=n.code,d="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Dh.forEach(m=>{if(m!==o){let w=p0[m];w(n)&&(d+=m+".")}}),d+=o,d===i)}static eventCallback(n,i,o){return d=>{e.matchEventFullKeyCode(d,n)&&o.runGuarded(()=>i(d))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(Ue(qt))},e.\u0275prov=Be({token:e,factory:e.\u0275fac});let t=e;return t})();function Eh(t,e){return qf(ge({rootComponent:t},g0(e)))}function g0(t){return{appProviders:[...D0,...t?.providers??[]],platformProviders:w0}}function v0(){Fl.makeCurrent()}function y0(){return new cl}function b0(){return Of(document),document}var w0=[{provide:$r,useValue:ch},{provide:Pf,useValue:v0,multi:!0},{provide:qt,useFactory:b0,deps:[]}];var D0=[{provide:Ff,useValue:"root"},{provide:cl,useFactory:y0,deps:[]},{provide:Ol,useClass:f0,multi:!0,deps:[qt,_n,$r]},{provide:Ol,useClass:m0,multi:!0,deps:[qt]},bh,Sh,_h,{provide:Nf,useExisting:bh},{provide:yo,useClass:o0,deps:[]},[]];var Ih=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(Ue(qt))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var je="primary",Ys=Symbol("RouteTitle"),Ul=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Co(t){return new Ul(t)}function S0(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let d=n[o],m=t[o];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function x0(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Gn(t[r],e[r]))return!1;return!0}function Gn(t,e){let r=t?jl(t):void 0,n=e?jl(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!Oh(t[i],e[i]))return!1;return!0}function jl(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Oh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function Ph(t){return t.length>0?t[t.length-1]:null}function qr(t){return _f(t)?t:Ss(t)?pt(Promise.resolve(t)):Pe(t)}var C0={exact:Nh,subset:Vh},kh={exact:E0,subset:I0,ignored:()=>!0};function Ah(t,e,r){return C0[r.paths](t.root,e.root,r.matrixParams)&&kh[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function E0(t,e){return Gn(t,e)}function Nh(t,e,r){if(!Vi(t.segments,e.segments)||!pu(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Nh(t.children[n],e.children[n],r))return!1;return!0}function I0(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>Oh(t[r],e[r]))}function Vh(t,e,r){return Lh(t,e,e.segments,r)}function Lh(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!Vi(i,r)||e.hasChildren()||!pu(i,r,n))}else if(t.segments.length===r.length){if(!Vi(t.segments,r)||!pu(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!Vh(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!Vi(t.segments,i)||!pu(t.segments,i,n)||!t.children[je]?!1:Lh(t.children[je],e,o,n)}}function pu(t,e,r){return e.every((n,i)=>kh[r](t[i].parameters,n.parameters))}var Kr=class{constructor(e=new Qe([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return T0.serialize(this)}},Qe=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mu(this)}},Ni=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return Uh(this)}};function A0(t,e){return Vi(t,e)&&t.every((r,n)=>Gn(r.parameters,e[n].parameters))}function Vi(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function M0(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===je&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==je&&(r=r.concat(e(i,n)))}),r}var hd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>new vu,providedIn:"root"});let t=e;return t})(),vu=class{parse(e){let r=new $l(e);return new Kr(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${ks(e.root,!0)}`,n=O0(e.queryParams),i=typeof e.fragment=="string"?`#${R0(e.fragment)}`:"";return`${r}${n}${i}`}},T0=new vu;function mu(t){return t.segments.map(e=>Uh(e)).join("/")}function ks(t,e){if(!t.hasChildren())return mu(t);if(e){let r=t.children[je]?ks(t.children[je],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==je&&n.push(`${i}:${ks(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=M0(t,(n,i)=>i===je?[ks(t.children[je],!1)]:[`${i}:${ks(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[je]!=null?`${mu(t)}/${r[0]}`:`${mu(t)}/(${r.join("//")})`}}function Bh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fu(t){return Bh(t).replace(/%3B/gi,";")}function R0(t){return encodeURI(t)}function zl(t){return Bh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gu(t){return decodeURIComponent(t)}function Mh(t){return gu(t.replace(/\+/g,"%20"))}function Uh(t){return`${zl(t.path)}${F0(t.parameters)}`}function F0(t){return Object.entries(t).map(([e,r])=>`;${zl(e)}=${zl(r)}`).join("")}function O0(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${fu(r)}=${fu(i)}`).join("&"):`${fu(r)}=${fu(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var P0=/^[^\/()?;#]+/;function Nl(t){let e=t.match(P0);return e?e[0]:""}var k0=/^[^\/()?;=#]+/;function N0(t){let e=t.match(k0);return e?e[0]:""}var V0=/^[^=?&#]+/;function L0(t){let e=t.match(V0);return e?e[0]:""}var B0=/^[^&#]+/;function U0(t){let e=t.match(B0);return e?e[0]:""}var $l=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[je]=new Qe(e,r)),n}parseSegment(){let e=Nl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new st(4009,!1);return this.capture(e),new Ni(gu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=N0(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Nl(this.remaining);i&&(n=i,this.capture(n))}e[gu(r)]=gu(n)}parseQueryParam(e){let r=L0(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let d=U0(this.remaining);d&&(n=d,this.capture(n))}let i=Mh(r),o=Mh(n);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Nl(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new st(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=je);let d=this.parseChildren();r[o]=Object.keys(d).length===1?d[je]:new Qe([],d),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new st(4011,!1)}};function jh(t){return t.segments.length>0?new Qe([],{[je]:t}):t}function zh(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=zh(i);if(n===je&&o.segments.length===0&&o.hasChildren())for(let[d,m]of Object.entries(o.children))e[d]=m;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new Qe(t.segments,e);return j0(r)}function j0(t){if(t.numberOfChildren===1&&t.children[je]){let e=t.children[je];return new Qe(t.segments.concat(e.segments),e.children)}return t}function Eo(t){return t instanceof Kr}function z0(t,e,r=null,n=null){let i=$h(t);return Gh(i,e,r,n)}function $h(t){let e;function r(o){let d={};for(let w of o.children){let b=r(w);d[w.outlet]=b}let m=new Qe(o.url,d);return o===t&&(e=m),m}let n=r(t.root),i=jh(n);return e??i}function Gh(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vl(i,i,i,r,n);let o=$0(e);if(o.toRoot())return Vl(i,i,new Qe([],{}),r,n);let d=G0(o,i,t),m=d.processChildren?Ls(d.segmentGroup,d.index,o.commands):Hh(d.segmentGroup,d.index,o.commands);return Vl(i,d.segmentGroup,m,r,n)}function yu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function js(t){return typeof t=="object"&&t!=null&&t.outlets}function Vl(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([w,b])=>{o[w]=Array.isArray(b)?b.map(C=>`${C}`):`${b}`});let d;t===e?d=r:d=Kh(t,e,r);let m=jh(zh(d));return new Kr(m,o,i)}function Kh(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=Kh(o,e,r)}),new Qe(t.segments,n)}var bu=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&yu(n[0]))throw new st(4003,!1);let i=n.find(js);if(i&&i!==Ph(n))throw new st(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $0(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bu(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,d)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let m={};return Object.entries(o.outlets).forEach(([w,b])=>{m[w]=typeof b=="string"?b.split("/"):b}),[...i,{outlets:m}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:d===0?(o.split("/").forEach((m,w)=>{w==0&&m==="."||(w==0&&m===""?r=!0:m===".."?e++:m!=""&&i.push(m))}),i):[...i,o]},[]);return new bu(r,e,n)}var So=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function G0(t,e,r){if(t.isAbsolute)return new So(e,!0,0);if(!r)return new So(e,!1,NaN);if(r.parent===null)return new So(r,!0,0);let n=yu(t.commands[0])?0:1,i=r.segments.length-1+n;return K0(r,i,t.numberOfDoubleDots)}function K0(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new st(4005,!1);i=n.segments.length}return new So(n,!1,i-o)}function H0(t){return js(t[0])?t[0].outlets:{[je]:t}}function Hh(t,e,r){if(t??=new Qe([],{}),t.segments.length===0&&t.hasChildren())return Ls(t,e,r);let n=W0(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Qe(t.segments.slice(0,n.pathIndex),{});return o.children[je]=new Qe(t.segments.slice(n.pathIndex),t.children),Ls(o,0,i)}else return n.match&&i.length===0?new Qe(t.segments,{}):n.match&&!t.hasChildren()?Gl(t,e,r):n.match?Ls(t,0,i):Gl(t,e,r)}function Ls(t,e,r){if(r.length===0)return new Qe(t.segments,{});{let n=H0(r),i={};if(Object.keys(n).some(o=>o!==je)&&t.children[je]&&t.numberOfChildren===1&&t.children[je].segments.length===0){let o=Ls(t.children[je],e,r);return new Qe(t.segments,o.children)}return Object.entries(n).forEach(([o,d])=>{typeof d=="string"&&(d=[d]),d!==null&&(i[o]=Hh(t.children[o],e,d))}),Object.entries(t.children).forEach(([o,d])=>{n[o]===void 0&&(i[o]=d)}),new Qe(t.segments,i)}}function W0(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let d=t.segments[i],m=r[n];if(js(m))break;let w=`${m}`,b=n<r.length-1?r[n+1]:null;if(i>0&&w===void 0)break;if(w&&b&&typeof b=="object"&&b.outlets===void 0){if(!Rh(w,b,d))return o;n+=2}else{if(!Rh(w,{},d))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Gl(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(js(o)){let w=q0(o.outlets);return new Qe(n,w)}if(i===0&&yu(r[0])){let w=t.segments[e];n.push(new Ni(w.path,Th(r[0]))),i++;continue}let d=js(o)?o.outlets[je]:`${o}`,m=i<r.length-1?r[i+1]:null;d&&m&&yu(m)?(n.push(new Ni(d,Th(m))),i+=2):(n.push(new Ni(d,{})),i++)}return new Qe(n,{})}function q0(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Gl(new Qe([],{}),0,n))}),e}function Th(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function Rh(t,e,r){return t==r.path&&Gn(e,r.parameters)}var Bs="imperative",Ot=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ot||{}),fn=class{constructor(e,r){this.id=e,this.url=r}},zs=class extends fn{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Ot.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hr=class extends fn{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(en||{}),Kl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Kl||{}),Wr=class extends fn{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Li=class extends fn{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Ot.NavigationSkipped}},$s=class extends fn{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wu=class extends fn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class extends fn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wl=class extends fn{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=Ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ql=class extends fn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class extends fn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xl=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zl=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ql=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jl=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},td=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Gs=class{},Ks=class{constructor(e){this.url=e}};var nd=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Eu,this.attachRef=null}},Eu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new nd,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Du=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=rd(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=rd(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=id(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return id(e,this._root).map(r=>r.value)}};function rd(t,e){if(t===e.value)return e;for(let r of e.children){let n=rd(t,r);if(n)return n}return null}function id(t,e){if(t===e.value)return[e];for(let r of e.children){let n=id(t,r);if(n.length)return n.unshift(e),n}return[]}var Jt=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function _o(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var _u=class extends Du{constructor(e,r){super(e),this.snapshot=r,md(this,e)}toString(){return this.snapshot.toString()}};function Wh(t){let e=Y0(t),r=new $t([new Ni("",{})]),n=new $t({}),i=new $t({}),o=new $t({}),d=new $t(""),m=new Bi(r,n,o,d,i,je,t,e.root);return m.snapshot=e.root,new _u(new Jt(m,[]),e)}function Y0(t){let e={},r={},n={},i="",o=new Hs([],e,n,i,r,je,t,null,{});return new Su("",new Jt(o,[]))}var Bi=class{constructor(e,r,n,i,o,d,m,w){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=d,this.component=m,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(We(b=>b[Ys]))??Pe(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(We(e=>Co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(We(e=>Co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pd(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ge(ge({},e.params),t.params),data:ge(ge({},e.data),t.data),resolve:ge(ge(ge(ge({},t.data),e.data),i?.data),t._resolvedData)}:n={params:ge({},t.params),data:ge({},t.data),resolve:ge(ge({},t.data),t._resolvedData??{})},i&&Yh(i)&&(n.resolve[Ys]=i.title),n}var Hs=class{get title(){return this.data?.[Ys]}constructor(e,r,n,i,o,d,m,w,b){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=d,this.component=m,this.routeConfig=w,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Su=class extends Du{constructor(e,r){super(r),this.url=e,md(this,r)}toString(){return qh(this._root)}};function md(t,e){e.value._routerState=t,e.children.forEach(r=>md(t,r))}function qh(t){let e=t.children.length>0?` { ${t.children.map(qh).join(", ")} } `:"";return`${t.value}${e}`}function Ll(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Gn(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Gn(e.params,r.params)||t.paramsSubject.next(r.params),x0(e.url,r.url)||t.urlSubject.next(r.url),Gn(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function od(t,e){let r=Gn(t.params,e.params)&&A0(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||od(t.parent,e.parent))}function Yh(t){return typeof t.title=="string"||t.title===null}var gd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new dn,this.deactivateEvents=new dn,this.attachEvents=new dn,this.detachEvents=new dn,this.parentContexts=Me(Eu),this.location=Me(Ha),this.changeDetector=Me(Ri),this.environmentInjector=Me(fo),this.inputBinder=Me(vd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new st(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new st(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new st(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new st(4013,!1);this._activatedRoute=n;let o=this.location,m=n.snapshot.component,w=this.parentContexts.getOrCreateContext(this.name).children,b=new sd(n,w,o.injector);this.activated=o.createComponent(m,{index:o.length,injector:b,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=_t({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ei]});let t=e;return t})(),sd=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Bi?this.route:e===Eu?this.childContexts:this.parent.get(e,r)}},vd=new tt("");function X0(t,e,r){let n=Ws(t,e._root,r?r._root:void 0);return new _u(n,e)}function Ws(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=Z0(t,e,r);return new Jt(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let d=o.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Ws(t,m)),d}}let n=Q0(e.value),i=e.children.map(o=>Ws(t,o));return new Jt(n,i)}}function Z0(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Ws(t,n,i);return Ws(t,n)})}function Q0(t){return new Bi(new $t(t.url),new $t(t.params),new $t(t.queryParams),new $t(t.fragment),new $t(t.data),t.outlet,t.component,t)}var Xh="ngNavigationCancelingError";function Zh(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Qh(!1,en.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function Qh(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[Xh]=!0,r.cancellationCode=e,r}function J0(t){return Jh(t)&&Eo(t.url)}function Jh(t){return!!t&&t[Xh]}var ey=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ut],decls:1,vars:0,template:function(i,o){i&1&&Re(0,"router-outlet")},dependencies:[gd],encapsulation:2});let t=e;return t})();function ty(t,e){return t.providers&&!t._injector&&(t._injector=Lf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yd(t){let e=t.children&&t.children.map(yd),r=e?Ze(ge({},t),{children:e}):ge({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==je&&(r.component=ey),r}function Kn(t){return t.outlet||je}function ny(t,e){let r=t.filter(n=>Kn(n)===e);return r.push(...t.filter(n=>Kn(n)!==e)),r}function Xs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var ry=(t,e,r,n)=>We(i=>(new ad(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),ad=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Ll(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=_o(r);e.children.forEach(o=>{let d=o.value.outlet;this.deactivateRoutes(o,i[d],n),delete i[d]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let d=n.getContext(i.outlet);d&&this.deactivateChildRoutes(e,r,d.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=_o(e);for(let d of Object.values(o))this.deactivateRouteAndItsChildren(d,i);if(n&&n.outlet){let d=n.outlet.detach(),m=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=_o(e);for(let d of Object.values(o))this.deactivateRouteAndItsChildren(d,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=_o(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new td(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jl(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Ll(i),i===o)if(i.component){let d=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,d.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let d=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Ll(m.route.value),this.activateChildRoutes(e,null,d.children)}else{let m=Xs(i.snapshot);d.attachRef=null,d.route=i,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,n)}},xu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xo=class{constructor(e,r){this.component=e,this.route=r}};function iy(t,e,r){let n=t._root,i=e?e._root:null;return Ns(n,i,r,[n.value])}function oy(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ao(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Rf(t)?t:e.get(t):n}function Ns(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(e);return t.children.forEach(d=>{sy(d,o[d.value.outlet],r,n.concat([d.value]),i),delete o[d.value.outlet]}),Object.entries(o).forEach(([d,m])=>Us(m,r.getContext(d),i)),i}function sy(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,d=e?e.value:null,m=r?r.getContext(t.value.outlet):null;if(d&&o.routeConfig===d.routeConfig){let w=ay(d,o,o.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new xu(n)):(o.data=d.data,o._resolvedData=d._resolvedData),o.component?Ns(t,e,m?m.children:null,n,i):Ns(t,e,r,n,i),w&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new xo(m.outlet.component,d))}else d&&Us(e,m,i),i.canActivateChecks.push(new xu(n)),o.component?Ns(t,null,m?m.children:null,n,i):Ns(t,null,r,n,i);return i}function ay(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!Vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(t.url,e.url)||!Gn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!od(t,e)||!Gn(t.queryParams,e.queryParams);case"paramsChange":default:return!od(t,e)}}function Us(t,e,r){let n=_o(t),i=t.value;Object.entries(n).forEach(([o,d])=>{i.component?e?Us(d,e.children.getContext(o),r):Us(d,null,r):Us(d,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new xo(e.outlet.component,i)):r.canDeactivateChecks.push(new xo(null,i)):r.canDeactivateChecks.push(new xo(null,i))}function Zs(t){return typeof t=="function"}function uy(t){return typeof t=="boolean"}function cy(t){return t&&Zs(t.canLoad)}function ly(t){return t&&Zs(t.canActivate)}function dy(t){return t&&Zs(t.canActivateChild)}function fy(t){return t&&Zs(t.canDeactivate)}function hy(t){return t&&Zs(t.canMatch)}function ep(t){return t instanceof Sf||t?.name==="EmptyError"}var hu=Symbol("INITIAL_VALUE");function Io(){return Lt(t=>nl(t.map(e=>e.pipe(co(1),Mf(hu)))).pipe(We(e=>{for(let r of e)if(r!==!0){if(r===hu)return hu;if(r===!1||r instanceof Kr)return r}return!0}),Ur(e=>e!==hu),co(1)))}function py(t,e){return ln(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:d}}=r;return d.length===0&&o.length===0?Pe(Ze(ge({},r),{guardsResult:!0})):my(d,n,i,t).pipe(ln(m=>m&&uy(m)?gy(n,o,t,e):Pe(m)),We(m=>Ze(ge({},r),{guardsResult:m})))})}function my(t,e,r,n){return pt(t).pipe(ln(i=>Dy(i.component,i.route,r,e,n)),jr(i=>i!==!0,!0))}function gy(t,e,r,n){return pt(e).pipe(xi(i=>Cf(yy(i.route.parent,n),vy(i.route,n),wy(t,i.path,r),by(t,i.route,r))),jr(i=>i!==!0,!0))}function vy(t,e){return t!==null&&e&&e(new ed(t)),Pe(!0)}function yy(t,e){return t!==null&&e&&e(new Ql(t)),Pe(!0)}function by(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return Pe(!0);let i=n.map(o=>rl(()=>{let d=Xs(e)??r,m=Ao(o,d),w=ly(m)?m.canActivate(e,t):cr(d,()=>m(e,t));return qr(w).pipe(jr())}));return Pe(i).pipe(Io())}function wy(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(d=>oy(d)).filter(d=>d!==null).map(d=>rl(()=>{let m=d.guards.map(w=>{let b=Xs(d.node)??r,C=Ao(w,b),T=dy(C)?C.canActivateChild(n,t):cr(b,()=>C(n,t));return qr(T).pipe(jr())});return Pe(m).pipe(Io())}));return Pe(o).pipe(Io())}function Dy(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Pe(!0);let d=o.map(m=>{let w=Xs(e)??i,b=Ao(m,w),C=fy(b)?b.canDeactivate(t,e,r,n):cr(w,()=>b(t,e,r,n));return qr(C).pipe(jr())});return Pe(d).pipe(Io())}function _y(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return Pe(!0);let o=i.map(d=>{let m=Ao(d,t),w=cy(m)?m.canLoad(e,r):cr(t,()=>m(e,r));return qr(w)});return Pe(o).pipe(Io(),tp(n))}function tp(t){return wf(Dt(e=>{if(Eo(e))throw Zh(t,e)}),We(e=>e===!0))}function Sy(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return Pe(!0);let o=i.map(d=>{let m=Ao(d,t),w=hy(m)?m.canMatch(e,r):cr(t,()=>m(e,r));return qr(w)});return Pe(o).pipe(Io(),tp(n))}var qs=class{constructor(e){this.segmentGroup=e||null}},Cu=class extends Error{constructor(e){super(),this.urlTree=e}};function Do(t){return ps(new qs(t))}function xy(t){return ps(new st(4e3,!1))}function Cy(t){return ps(Qh(!1,en.GuardRejected))}var ud=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return Pe(n);if(i.numberOfChildren>1||!i.children[je])return xy(e.redirectTo);i=i.children[je]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new Cu(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new Kr(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let m=o.substring(1);n[i]=r[m]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),d={};return Object.entries(r.children).forEach(([m,w])=>{d[m]=this.createSegmentGroup(e,w,n,i)}),new Qe(o,d)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new st(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},cd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ey(t,e,r,n,i){let o=bd(t,e,r);return o.matched?(n=ty(e,n),Sy(n,e,r,i).pipe(We(d=>d===!0?o:ge({},cd)))):Pe(o)}function bd(t,e,r){if(e.path==="**")return Iy(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?ge({},cd):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||S0)(r,t,e);if(!i)return ge({},cd);let o={};Object.entries(i.posParams??{}).forEach(([m,w])=>{o[m]=w.path});let d=i.consumed.length>0?ge(ge({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Iy(t){return{matched:!0,parameters:t.length>0?Ph(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Fh(t,e,r,n){return r.length>0&&Ty(t,r,n)?{segmentGroup:new Qe(e,My(n,new Qe(r,t.children))),slicedSegments:[]}:r.length===0&&Ry(t,r,n)?{segmentGroup:new Qe(t.segments,Ay(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Qe(t.segments,t.children),slicedSegments:r}}function Ay(t,e,r,n){let i={};for(let o of r)if(Iu(t,e,o)&&!n[Kn(o)]){let d=new Qe([],{});i[Kn(o)]=d}return ge(ge({},n),i)}function My(t,e){let r={};r[je]=e;for(let n of t)if(n.path===""&&Kn(n)!==je){let i=new Qe([],{});r[Kn(n)]=i}return r}function Ty(t,e,r){return r.some(n=>Iu(t,e,n)&&Kn(n)!==je)}function Ry(t,e,r){return r.some(n=>Iu(t,e,n))}function Iu(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Fy(t,e,r,n){return Kn(t)!==n&&(n===je||!Iu(e,r,t))?!1:bd(e,t,r).matched}function Oy(t,e,r){return e.length===0&&!t.children[r]}var ld=class{};function Py(t,e,r,n,i,o,d="emptyOnly"){return new dd(t,e,r,n,i,d,o).recognize()}var ky=31,dd=class{constructor(e,r,n,i,o,d,m){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.applyRedirects=new ud(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new st(4002,`'${e.segmentGroup}'`)}recognize(){let e=Fh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(We(r=>{let n=new Hs([],Object.freeze({}),Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,{},je,this.rootComponentType,null,{}),i=new Jt(n,r),o=new Su("",i),d=z0(n,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(o._root,null),{state:o,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,je).pipe(uo(n=>{if(n instanceof Cu)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof qs?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=pd(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(We(o=>o instanceof Jt?[o]:[]))}processChildren(e,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return pt(i).pipe(xi(o=>{let d=n.children[o],m=ny(r,o);return this.processSegmentGroup(e,m,d,o)}),Af((o,d)=>(o.push(...d),o)),il(null),If(),ln(o=>{if(o===null)return Do(n);let d=np(o);return Ny(d),Pe(d)}))}processSegment(e,r,n,i,o,d){return pt(r).pipe(xi(m=>this.processSegmentAgainstRoute(m._injector??e,r,m,n,i,o,d).pipe(uo(w=>{if(w instanceof qs)return Pe(null);throw w}))),jr(m=>!!m),uo(m=>{if(ep(m))return Oy(n,i,o)?Pe(new ld):Do(n);throw m}))}processSegmentAgainstRoute(e,r,n,i,o,d,m){return Fy(n,i,o,d)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,d):this.allowRedirects&&m?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,d):Do(i):Do(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,d){let{matched:m,consumedSegments:w,positionalParamSegments:b,remainingSegments:C}=bd(r,i,o);if(!m)return Do(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ky&&(this.allowRedirects=!1));let T=this.applyRedirects.applyRedirectCommands(w,i.redirectTo,b);return this.applyRedirects.lineralizeSegments(i,T).pipe(ln(O=>this.processSegment(e,n,r,O.concat(C),d,!1)))}matchSegmentAgainstRoute(e,r,n,i,o){let d=Ey(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),d.pipe(Lt(m=>m.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(Lt(({routes:w})=>{let b=n._loadedInjector??e,{consumedSegments:C,remainingSegments:T,parameters:O}=m,L=new Hs(C,O,Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,Ly(n),Kn(n),n.component??n._loadedComponent??null,n,By(n)),{segmentGroup:oe,slicedSegments:ve}=Fh(r,C,T,w);if(ve.length===0&&oe.hasChildren())return this.processChildren(b,w,oe).pipe(We(Y=>Y===null?null:new Jt(L,Y)));if(w.length===0&&ve.length===0)return Pe(new Jt(L,[]));let ae=Kn(n)===o;return this.processSegment(b,w,oe,ve,ae?je:o,!0).pipe(We(Y=>new Jt(L,Y instanceof Jt?[Y]:[])))}))):Do(r)))}getChildConfig(e,r,n){return r.children?Pe({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?Pe({routes:r._loadedRoutes,injector:r._loadedInjector}):_y(e,r,n,this.urlSerializer).pipe(ln(i=>i?this.configLoader.loadChildren(e,r).pipe(Dt(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):Cy(r))):Pe({routes:[],injector:e})}};function Ny(t){t.sort((e,r)=>e.value.outlet===je?-1:r.value.outlet===je?1:e.value.outlet.localeCompare(r.value.outlet))}function Vy(t){let e=t.value.routeConfig;return e&&e.path===""}function np(t){let e=[],r=new Set;for(let n of t){if(!Vy(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=np(n.children);e.push(new Jt(n.value,i))}return e.filter(n=>!r.has(n))}function Ly(t){return t.data||{}}function By(t){return t.resolve||{}}function Uy(t,e,r,n,i,o){return ln(d=>Py(t,e,r,n,d.extractedUrl,i,o).pipe(We(({state:m,tree:w})=>Ze(ge({},d),{targetSnapshot:m,urlAfterRedirects:w}))))}function jy(t,e){return ln(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Pe(r);let o=new Set(i.map(w=>w.route)),d=new Set;for(let w of o)if(!d.has(w))for(let b of rp(w))d.add(b);let m=0;return pt(d).pipe(xi(w=>o.has(w)?zy(w,n,t,e):(w.data=pd(w,w.parent,t).resolve,Pe(void 0))),Dt(()=>m++),ol(1),ln(w=>m===d.size?Pe(r):Br))})}function rp(t){let e=t.children.map(r=>rp(r)).flat();return[t,...e]}function zy(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Yh(i)&&(o[Ys]=i.title),$y(o,t,e,n).pipe(We(d=>(t._resolvedData=d,t.data=pd(t,t.parent,r).resolve,null)))}function $y(t,e,r,n){let i=jl(t);if(i.length===0)return Pe({});let o={};return pt(i).pipe(ln(d=>Gy(t[d],e,r,n).pipe(jr(),Dt(m=>{o[d]=m}))),ol(1),Ef(o),uo(d=>ep(d)?Br:ps(d)))}function Gy(t,e,r,n){let i=Xs(e)??n,o=Ao(t,i),d=o.resolve?o.resolve(e,r):cr(i,()=>o(e,r));return qr(d)}function Bl(t){return Lt(e=>{let r=t(e);return r?pt(r).pipe(We(()=>e)):Pe(e)})}var ip=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(d=>d.outlet===je);return i}getResolvedTitleForRoute(n){return n.data[Ys]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>Me(Ky),providedIn:"root"});let t=e;return t})(),Ky=(()=>{let e=class e extends ip{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Ue(Ih))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wd=new tt("",{providedIn:"root",factory:()=>({})}),Dd=new tt(""),Hy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(bl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=qr(n.loadComponent()).pipe(We(op),Dt(d=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=d}),lo(()=>{this.componentLoaders.delete(n)})),o=new tl(i,()=>new Lr).pipe(el());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let d=Wy(i,this.compiler,n,this.onLoadEndListener).pipe(lo(()=>{this.childrenLoaders.delete(i)})),m=new tl(d,()=>new Lr).pipe(el());return this.childrenLoaders.set(i,m),m}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wy(t,e,r,n){return qr(t.loadChildren()).pipe(We(op),ln(i=>i instanceof Vf||Array.isArray(i)?Pe(i):pt(e.compileModuleAsync(i))),We(i=>{n&&n(t);let o,d,m=!1;return Array.isArray(i)?(d=i,m=!0):(o=i.create(r).injector,d=o.get(Dd,[],{optional:!0,self:!0}).flat()),{routes:d.map(yd),injector:o}}))}function qy(t){return t&&typeof t=="object"&&"default"in t}function op(t){return qy(t)?t.default:t}var _d=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>Me(Yy),providedIn:"root"});let t=e;return t})(),Yy=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xy=new tt("");var Zy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lr,this.transitionAbortSubject=new Lr,this.configLoader=Me(Hy),this.environmentInjector=Me(fo),this.urlSerializer=Me(hd),this.rootContexts=Me(Eu),this.location=Me(Is),this.inputBindingEnabled=Me(vd,{optional:!0})!==null,this.titleStrategy=Me(ip),this.options=Me(wd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Me(_d),this.createViewTransition=Me(Xy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Xl(o)),i=o=>this.events.next(new Zl(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Ze(ge(ge({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new $t({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ur(d=>d.id!==0),We(d=>Ze(ge({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),Lt(d=>{let m=!1,w=!1;return Pe(d).pipe(Lt(b=>{if(this.navigationId>d.id)return this.cancelNavigationTransition(d,"",en.SupersededByNewNavigation),Br;this.currentTransition=d,this.currentNavigation={id:b.id,initialUrl:b.rawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Ze(ge({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let C=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),T=b.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!C&&T!=="reload"){let O="";return this.events.next(new Li(b.id,this.urlSerializer.serialize(b.rawUrl),O,Kl.IgnoredSameUrlNavigation)),b.resolve(null),Br}if(this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return Pe(b).pipe(Lt(O=>{let L=this.transitions?.getValue();return this.events.next(new zs(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),L!==this.transitions?.getValue()?Br:Promise.resolve(O)}),Uy(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Dt(O=>{d.targetSnapshot=O.targetSnapshot,d.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation=Ze(ge({},this.currentNavigation),{finalUrl:O.urlAfterRedirects});let L=new wu(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(L)}));if(C&&this.urlHandlingStrategy.shouldProcessUrl(b.currentRawUrl)){let{id:O,extractedUrl:L,source:oe,restoredState:ve,extras:ae}=b,Y=new zs(O,this.urlSerializer.serialize(L),oe,ve);this.events.next(Y);let ce=Wh(this.rootComponentType).snapshot;return this.currentTransition=d=Ze(ge({},b),{targetSnapshot:ce,urlAfterRedirects:L,extras:Ze(ge({},ae),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=L,Pe(d)}else{let O="";return this.events.next(new Li(b.id,this.urlSerializer.serialize(b.extractedUrl),O,Kl.IgnoredByUrlHandlingStrategy)),b.resolve(null),Br}}),Dt(b=>{let C=new Hl(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}),We(b=>(this.currentTransition=d=Ze(ge({},b),{guards:iy(b.targetSnapshot,b.currentSnapshot,this.rootContexts)}),d)),py(this.environmentInjector,b=>this.events.next(b)),Dt(b=>{if(d.guardsResult=b.guardsResult,Eo(b.guardsResult))throw Zh(this.urlSerializer,b.guardsResult);let C=new Wl(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.events.next(C)}),Ur(b=>b.guardsResult?!0:(this.cancelNavigationTransition(b,"",en.GuardRejected),!1)),Bl(b=>{if(b.guards.canActivateChecks.length)return Pe(b).pipe(Dt(C=>{let T=new ql(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(T)}),Lt(C=>{let T=!1;return Pe(C).pipe(jy(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(C,"",en.NoDataFromResolver)}}))}),Dt(C=>{let T=new Yl(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(T)}))}),Bl(b=>{let C=T=>{let O=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(T.routeConfig).pipe(Dt(L=>{T.component=L}),We(()=>{})));for(let L of T.children)O.push(...C(L));return O};return nl(C(b.targetSnapshot.root)).pipe(il(null),co(1))}),Bl(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:b,targetSnapshot:C}=d,T=this.createViewTransition?.(this.environmentInjector,b.root,C.root);return T?pt(T).pipe(We(()=>d)):Pe(d)}),We(b=>{let C=X0(n.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return this.currentTransition=d=Ze(ge({},b),{targetRouterState:C}),this.currentNavigation.targetRouterState=C,d}),Dt(()=>{this.events.next(new Gs)}),ry(this.rootContexts,n.routeReuseStrategy,b=>this.events.next(b),this.inputBindingEnabled),co(1),Dt({next:b=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hr(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects))),this.titleStrategy?.updateTitle(b.targetRouterState.snapshot),b.resolve(!0)},complete:()=>{m=!0}}),Tf(this.transitionAbortSubject.pipe(Dt(b=>{throw b}))),lo(()=>{!m&&!w&&this.cancelNavigationTransition(d,"",en.SupersededByNewNavigation),this.currentTransition?.id===d.id&&(this.currentNavigation=null,this.currentTransition=null)}),uo(b=>{if(w=!0,Jh(b))this.events.next(new Wr(d.id,this.urlSerializer.serialize(d.extractedUrl),b.message,b.cancellationCode)),J0(b)?this.events.next(new Ks(b.url)):d.resolve(!1);else{this.events.next(new $s(d.id,this.urlSerializer.serialize(d.extractedUrl),b,d.targetSnapshot??void 0));try{d.resolve(n.errorHandler(b))}catch(C){this.options.resolveNavigationPromiseOnError?d.resolve(!1):d.reject(C)}}return Br}))}))}cancelNavigationTransition(n,i,o){let d=new Wr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(d),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qy(t){return t!==Bs}var Jy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>Me(eb),providedIn:"root"});let t=e;return t})(),fd=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},eb=(()=>{let e=class e extends fd{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})(),e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:()=>Me(tb),providedIn:"root"});let t=e;return t})(),tb=(()=>{let e=class e extends sp{constructor(){super(...arguments),this.location=Me(Is),this.urlSerializer=Me(hd),this.options=Me(wd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Me(_d),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wh(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof zs)this.stateMemento=this.createStateMemento();else if(n instanceof Li)this.rawUrlTree=i.initialUrl;else if(n instanceof wu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof Gs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Wr&&(n.code===en.GuardRejected||n.code===en.NoDataFromResolver)?this.restoreHistory(i):n instanceof $s?this.restoreHistory(i,!0):n instanceof Hr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let d=this.browserPageId,m=ge(ge({},i.extras.state),this.generateNgRouterState(i.id,d));this.location.replaceState(o,"",m)}else{let d=ge(ge({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",d)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,d=this.currentPageId-o;d!==0?this.location.historyGo(d):this.currentUrlTree===n.finalUrl&&d===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})(),e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vs||{});function nb(t,e){t.events.pipe(Ur(r=>r instanceof Hr||r instanceof Wr||r instanceof $s||r instanceof Li),We(r=>r instanceof Hr||r instanceof Li?Vs.COMPLETE:(r instanceof Wr?r.code===en.Redirect||r.code===en.SupersededByNewNavigation:!1)?Vs.REDIRECTING:Vs.FAILED),Ur(r=>r!==Vs.REDIRECTING),co(1)).subscribe(()=>{e()})}function rb(t){throw t}var ib={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ob={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sd=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Me(Xa),this.stateManager=Me(sp),this.options=Me(wd,{optional:!0})||{},this.pendingTasks=Me(Wa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Me(Zy),this.urlSerializer=Me(hd),this.location=Me(Is),this.urlHandlingStrategy=Me(_d),this._events=new Lr,this.errorHandler=this.options.errorHandler||rb,this.navigated=!1,this.routeReuseStrategy=Me(Jy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Me(Dd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Me(vd,{optional:!0}),this.eventsSubscription=new bf,this.isNgZoneEnabled=Me(_n)instanceof _n&&_n.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,d=this.navigationTransitions.currentNavigation;if(o!==null&&d!==null){if(this.stateManager.handleRouterEvent(i,d),i instanceof Wr&&i.code!==en.Redirect&&i.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Hr)this.navigated=!0;else if(i instanceof Ks){let m=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),w={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Qy(o.source)};this.scheduleNavigation(m,Bs,null,w,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ab(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let d={replaceUrl:!0},m=o?.navigationId?o:null;if(o){let b=ge({},o);delete b.navigationId,delete b.\u0275routerPageId,Object.keys(b).length!==0&&(d.state=b)}let w=this.parseUrl(n);this.scheduleNavigation(w,i,m,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:d,fragment:m,queryParamsHandling:w,preserveFragment:b}=i,C=b?this.currentUrlTree.fragment:m,T=null;switch(w){case"merge":T=ge(ge({},this.currentUrlTree.queryParams),d);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=d||null}T!==null&&(T=this.removeEmptyProps(T));let O;try{let L=o?o.snapshot:this.routerState.snapshot.root;O=$h(L)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),O=this.currentUrlTree.root}return Gh(O,n,T,C??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=Eo(n)?n:this.parseUrl(n),d=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(d,Bs,null,i)}navigate(n,i={skipLocationChange:!1}){return sb(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=ge({},ib):i===!1?o=ge({},ob):o=i,Eo(n))return Ah(this.currentUrlTree,n,o);let d=this.parseUrl(n);return Ah(this.currentUrlTree,d,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,d])=>(d!=null&&(i[o]=d),i),{})}scheduleNavigation(n,i,o,d,m){if(this.disposed)return Promise.resolve(!1);let w,b,C;m?(w=m.resolve,b=m.reject,C=m.promise):C=new Promise((O,L)=>{w=O,b=L});let T=this.pendingTasks.add();return nb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:d,resolve:w,reject:b,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(O=>Promise.reject(O))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sb(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new st(4008,!1)}function ab(t){return!(t instanceof Gs)&&!(t instanceof Ks)}var Au=(()=>{let e=class e{constructor(n,i,o,d,m,w){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=d,this.el=m,this.locationStrategy=w,this.href=null,this.commands=null,this.onChanges=new Lr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let b=m.nativeElement.tagName?.toLowerCase();this.isAnchorElement=b==="a"||b==="area",this.isAnchorElement?this.subscription=n.events.subscribe(C=>{C instanceof Hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,d,m){let w=this.urlTree;if(w===null||this.isAnchorElement&&(n!==0||i||o||d||m||typeof this.target=="string"&&this.target!="_self"))return!0;let b={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(w,b),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:kf(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let o=this.renderer,d=this.el.nativeElement;i!==null?o.setAttribute(d,n,i):o.removeAttribute(d,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Oe(Sd),Oe(Bi),ul("tabindex"),Oe(jn),Oe(Un),Oe(bo))},e.\u0275dir=_t({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&ut("click",function(m){return o.onClick(m.button,m.ctrlKey,m.shiftKey,m.altKey,m.metaKey)}),i&2&&$n("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Dn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Fi],skipLocationChange:[Dn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Fi],replaceUrl:[Dn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Fi],routerLink:"routerLink"},standalone:!0,features:[fl,Ei]});let t=e;return t})();var ub=new tt("");function ap(t,...e){return vs([{provide:Dd,multi:!0,useValue:t},[],{provide:Bi,useFactory:cb,deps:[Sd]},{provide:yl,multi:!0,useFactory:lb},e.map(r=>r.\u0275providers)])}function cb(t){return t.routerState.root}function lb(){let t=Me(Ka);return e=>{let r=t.get(Za);if(e!==r.components[0])return;let n=t.get(Sd),i=t.get(db);t.get(fb)===1&&n.initialNavigation(),t.get(hb,null,sl.Optional)?.setUpPreloading(),t.get(ub,null,sl.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var db=new tt("",{factory:()=>new Lr}),fb=new tt("",{providedIn:"root",factory:()=>1});var hb=new tt("");var Mu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Ut],decls:18,vars:0,consts:[[1,"navbar","bg-base-100"],[1,"flex-1"],[1,"swap","swap-rotate"],["type","checkbox","value","light",1,"theme-controller"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","h-6","w-6","fill-current"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","h-6","w-6","fill-current"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"],["routerLink","/home",1,"btn","btn-ghost","text-xl"],[1,"flex-none"],[1,"menu","menu-horizontal","px-1"],["routerLink","/calculator"],["routerLink","/quickRatios"]],template:function(i,o){i&1&&(J(0,"div",0)(1,"div",1)(2,"label",2),Re(3,"input",3),$a(),J(4,"svg",4),Re(5,"path",5),ie(),J(6,"svg",6),Re(7,"path",7),ie()(),Ga(),J(8,"a",8),Ne(9,"DSPGlobal"),ie()(),J(10,"div",9)(11,"ul",10)(12,"li")(13,"a",11),Ne(14,"Calculator"),ie()(),J(15,"li")(16,"a",12),Ne(17,"Quick Ratios"),ie()()()()())},dependencies:[Au]});let t=e;return t})();var vp=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(Oe(jn),Oe(Un))},e.\u0275dir=_t({type:e});let t=e;return t})(),ku=(()=>{let e=class e extends vp{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})(),e.\u0275dir=_t({type:e,features:[zn]});let t=e;return t})(),na=new tt("");var pb={provide:na,useExisting:Ci(()=>Oo),multi:!0};function mb(){let t=dr()?dr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gb=new tt(""),Oo=(()=>{let e=class e extends vp{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mb())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(Oe(jn),Oe(Un),Oe(gb,8))},e.\u0275dir=_t({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ut("input",function(m){return o._handleInput(m.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(m){return o._compositionEnd(m.target.value)})},features:[Ti([pb]),zn]});let t=e;return t})();var yp=new tt(""),bp=new tt("");function wp(t){return t!=null}function Dp(t){return Ss(t)?pt(t):t}function _p(t){let e={};return t.forEach(r=>{e=r!=null?ge(ge({},e),r):e}),Object.keys(e).length===0?null:e}function Sp(t,e){return e.map(r=>r(t))}function vb(t){return!t.validate}function xp(t){return t.map(e=>vb(e)?e:r=>e.validate(r))}function yb(t){if(!t)return null;let e=t.filter(wp);return e.length==0?null:function(r){return _p(Sp(r,e))}}function Id(t){return t!=null?yb(xp(t)):null}function bb(t){if(!t)return null;let e=t.filter(wp);return e.length==0?null:function(r){let n=Sp(r,e).map(Dp);return ms(n).pipe(We(_p))}}function Ad(t){return t!=null?bb(xp(t)):null}function up(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wb(t){return t._rawValidators}function Db(t){return t._rawAsyncValidators}function xd(t){return t?Array.isArray(t)?t:[t]:[]}function Fu(t,e){return Array.isArray(t)?t.includes(e):t===e}function cp(t,e){let r=xd(e);return xd(t).forEach(i=>{Fu(r,i)||r.push(i)}),r}function lp(t,e){return xd(e).filter(r=>!Fu(t,r))}var Ou=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Id(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ad(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},To=class extends Ou{get formDirective(){return null}get path(){return null}},ta=class extends Ou{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_b={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qx=Ze(ge({},_b),{"[class.ng-submitted]":"isSubmitted"}),Nu=(()=>{let e=class e extends Pu{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(Oe(ta,2))},e.\u0275dir=_t({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&hl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[zn]});let t=e;return t})(),Cp=(()=>{let e=class e extends Pu{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(Oe(To,10))},e.\u0275dir=_t({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&hl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[zn]});let t=e;return t})();var Qs="VALID",Tu="INVALID",Mo="PENDING",Js="DISABLED";function Md(t){return(Vu(t)?t.validators:t)||null}function Sb(t){return Array.isArray(t)?Id(t):t||null}function Td(t,e){return(Vu(e)?e.asyncValidators:t)||null}function xb(t){return Array.isArray(t)?Ad(t):t||null}function Vu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ep(t,e,r){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new st(1e3,"");if(!n[r])throw new st(1001,"")}function Ip(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new st(1002,"")})}var Ro=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qs}get invalid(){return this.status===Tu}get pending(){return this.status==Mo}get disabled(){return this.status===Js}get enabled(){return this.status!==Js}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lp(e,this._rawAsyncValidators))}hasValidator(e){return Fu(this._rawValidators,e)}hasAsyncValidator(e){return Fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Js,this.errors=null,this._forEachChild(n=>{n.disable(Ze(ge({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ze(ge({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Qs,this._forEachChild(n=>{n.enable(Ze(ge({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ze(ge({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qs||this.status===Mo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Js:Qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator=!0;let r=Dp(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new dn,this.statusChanges=new dn}_calculateStatus(){return this._allControlsDisabled()?Js:this.errors?Tu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(Tu)?Tu:Qs}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Sb(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xb(this._rawAsyncValidators)}},Fo=class extends Ro{constructor(e,r,n){super(Md(r),Td(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){Ip(this,!0,e),Object.keys(e).forEach(n=>{Ep(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{let i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cd=class extends Fo{};var Lu=new tt("CallSetDisabledState",{providedIn:"root",factory:()=>Bu}),Bu="always";function Cb(t,e){return[...e.path,t]}function Ap(t,e,r=Bu){Mp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ib(t,e),Mb(t,e),Ab(t,e),Eb(t,e)}function dp(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Eb(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function Mp(t,e){let r=wb(t);e.validator!==null?t.setValidators(up(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=Db(t);e.asyncValidator!==null?t.setAsyncValidators(up(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();dp(e._rawValidators,i),dp(e._rawAsyncValidators,i)}function Ib(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Tp(t,e)})}function Ab(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Tp(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Tp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Mb(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function Tb(t,e){t==null,Mp(t,e)}function Rb(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Fb(t){return Object.getPrototypeOf(t.constructor)===ku}function Ob(t,e){t._syncPendingControls(),e.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Pb(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===Oo?r=o:Fb(o)?n=o:i=o}),i||n||r||null}var kb={provide:To,useExisting:Ci(()=>Rd)},ea=Promise.resolve(),Rd=(()=>{let e=class e extends To{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new dn,this.form=new Fo({},Id(n),Ad(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ea.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Ap(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ea.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ea.then(()=>{let i=this._findContainer(n.path),o=new Fo({});Tb(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ea.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){ea.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Ob(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(i){return new(i||e)(Oe(yp,10),Oe(bp,10),Oe(Lu,8))},e.\u0275dir=_t({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&ut("submit",function(m){return o.onSubmit(m)})("reset",function(){return o.onReset()})},inputs:{options:[Dn.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ti([kb]),zn]});let t=e;return t})();function fp(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function hp(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ru=class extends Ro{constructor(e=null,r,n){super(Md(r),Td(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vu(r)&&(r.nonNullable||r.initialValueIsDefault)&&(hp(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Nb={provide:ta,useExisting:Ci(()=>ra)},pp=Promise.resolve(),ra=(()=>{let e=class e extends ta{constructor(n,i,o,d,m,w){super(),this._changeDetectorRef=m,this.callSetDisabledState=w,this.control=new Ru,this._registered=!1,this.name="",this.update=new dn,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Pb(this,d)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Rb(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ap(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){pp.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&Fi(i);pp.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Cb(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(Oe(To,9),Oe(yp,10),Oe(bp,10),Oe(na,10),Oe(Ri,8),Oe(Lu,8))},e.\u0275dir=_t({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Dn.None,"disabled","isDisabled"],model:[Dn.None,"ngModel","model"],options:[Dn.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ti([Nb]),zn,Ei]});let t=e;return t})(),Rp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=_t({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Vb={provide:na,useExisting:Ci(()=>ia),multi:!0},ia=(()=>{let e=class e extends ku{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})(),e.\u0275dir=_t({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&ut("input",function(m){return o.onChange(m.target.value)})("blur",function(){return o.onTouched()})},features:[Ti([Vb]),zn]});let t=e;return t})();var Lb=new tt("");var Bb={provide:na,useExisting:Ci(()=>Uu),multi:!0};function Fp(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Ub(t){return t.split(":")[0]}var Uu=(()=>{let e=class e extends ku{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),o=Fp(i,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=Ub(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})(),e.\u0275dir=_t({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&ut("change",function(m){return o.onChange(m.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ti([Bb]),zn]});let t=e;return t})(),ju=(()=>{let e=class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Fp(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Oe(Un),Oe(jn),Oe(Uu,9))},e.\u0275dir=_t({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),jb={provide:na,useExisting:Ci(()=>Op),multi:!0};function mp(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function zb(t){return t.split(":")[0]}var Op=(()=>{let e=class e extends ku{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let o=n.map(d=>this._getOptionId(d));i=(d,m)=>{d._setSelected(o.indexOf(m.toString())>-1)}}else i=(o,d)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let o=[],d=i.selectedOptions;if(d!==void 0){let m=d;for(let w=0;w<m.length;w++){let b=m[w],C=this._getOptionValue(b.value);o.push(C)}}else{let m=i.options;for(let w=0;w<m.length;w++){let b=m[w];if(b.selected){let C=this._getOptionValue(b.value);o.push(C)}}}this.value=o,n(o)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=zb(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})(),e.\u0275dir=_t({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&ut("change",function(m){return o.onChange(m.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ti([jb]),zn]});let t=e;return t})(),zu=(()=>{let e=class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(mp(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(mp(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Oe(Un),Oe(jn),Oe(Op,9))},e.\u0275dir=_t({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Pp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({});let t=e;return t})(),Ed=class extends Ro{constructor(e,r,n){super(Md(r),Td(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){Ip(this,!1,e),e.forEach((n,i)=>{Ep(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function gp(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var $u=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let o=this._reduceControls(n),d={};return gp(i)?d=i:i!==null&&(d.validators=i.validator,d.asyncValidators=i.asyncValidator),new Fo(o,d)}record(n,i=null){let o=this._reduceControls(n);return new Cd(o,i)}control(n,i,o){let d={};return this.useNonNullable?(gp(i)?d=i:(d.validators=i,d.asyncValidators=o),new Ru(n,Ze(ge({},d),{nonNullable:!0}))):new Ru(n,i,o)}array(n,i,o){let d=n.map(m=>this._createControl(m));return new Ed(d,i,o)}_reduceControls(n){let i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){if(n instanceof Ru)return n;if(n instanceof Ro)return n;if(Array.isArray(n)){let i=n[0],o=n.length>1?n[1]:null,d=n.length>2?n[2]:null;return this.control(i,o,d)}else return this.control(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gu=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Lu,useValue:n.callSetDisabledState??Bu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({imports:[Pp]});let t=e;return t})(),Ku=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Lb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Lu,useValue:n.callSetDisabledState??Bu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({imports:[Pp]});let t=e;return t})();var Hu=yf(kp(),1),Np=Symbol.for("Dexie"),Wu=globalThis[Np]||(globalThis[Np]=Hu.default);if(Hu.default.semVer!==Wu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Hu.default.semVer} and ${Wu.semVer}`);var{liveQuery:tC,mergeRanges:nC,rangesOverlap:rC,RangeSet:iC,cmp:oC,Entity:sC,PropModSymbol:aC,PropModification:uC,replacePrefix:cC,add:lC,remove:dC}=Wu;var Vp=Wu;var Yr=(()=>{let e=class e extends Vp{constructor(n,i){super("dspData"),this.http=n,this.baseHref=i,this.version(5).stores({itemsTable:"ID,typeString,name,Type",recipesTable:"ID,name,Results",techsTable:"ID"}),this.itemsTable=this.table("itemsTable"),this.recipesTable=this.table("recipesTable"),this.techsTable=this.table("techsTable")}populate(){return ct(this,null,function*(){try{let[n,i,o]=yield Promise.all([this.loadDataFromJSON(`${this.baseHref}assets/dspDataJson/ItemProtoSet.json`),this.loadDataFromJSON(`${this.baseHref}assets/dspDataJson/RecipeProtoSet.json`),this.loadDataFromJSON(`${this.baseHref}assets/dspDataJson/TechProtoSet.json`)]);yield this.transaction("rw",this.itemsTable,this.recipesTable,this.techsTable,()=>ct(this,null,function*(){yield Promise.all([this.itemsTable.bulkAdd(n),this.recipesTable.bulkAdd(i),this.techsTable.bulkAdd(o)])}))}catch{}finally{}})}loadDataFromJSON(n){return ct(this,null,function*(){return yield xf(this.http.get(n))})}checkFirstTimeAndLoadData(){return ct(this,null,function*(){localStorage.getItem("isFirstTime")||(yield this.populate(),localStorage.setItem("isFirstTime","false"))})}};e.\u0275fac=function(i){return new(i||e)(Ue(ki),Ue(Es))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Po=(()=>{let e=class e{constructor(){this.globalSettingsSignal=Sn({initialAmountValue:60,unitSelected:"m",assemblerSelect:{},smeltingSelect:{},miningSelect:{},researchSelect:{},chemicalSelect:{},refiningSelect:{},oilSelect:{},proliferationSelect:{},beltSelect:{}})}updateProperty(n,i){let o=this.globalSettingsSignal();this.globalSettingsSignal.set(Ze(ge({},o),{[n]:i}))}getFormValues(){return this.globalSettingsSignal()}getProperty(n){return this.globalSettingsSignal()[n]}setPropertyWithLocalStorage(n,i,o){let d=localStorage.getItem(o),m;d?m=i.find(w=>w.ID===parseInt(d,10))||i[0]:m=i[0],this.updateProperty(n,m)}checkValidKey(n){return["assemblerSelect","miningSelect","smeltingSelect","researchSelect","chemicalSelect","refiningSelect","oilSelect","proliferationSelect","beltSelect"].includes(n)?n:null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xr=(()=>{let e=class e{constructor(n,i,o,d){this.db=n,this.http=i,this.fb=o,this.globalSettingsService=d,this.isRecipesFormInitialized=Sn(!1),this.typesSubject=new $t([]),this.types$=this.typesSubject.asObservable(),this.facilityTypes=new $t([]),this.facilityTypes$=this.facilityTypes.asObservable(),this.powerFacilitiesMap=Sn({}),this.machinesSpeedRatio=1e4,this.defaultItem={Type:"",StackSize:0,Grade:0,Upgrades:[],IsEntity:!1,CanBuild:!1,IconPath:"",ModelIndex:0,ModelCount:0,HpMax:0,BuildIndex:0,BuildMode:0,GridIndex:0,DescFields:[],handcraft:{ID:0,name:""},maincraft:{ID:0,name:""},handcraftProductCount:0,maincraftProductCount:0,handcrafts:[],recipes:[],makes:[],rawMats:[],preTech:{ID:0,name:""},prefabDesc:{modelIndex:0,hasObject:!1,lodCount:0,lodDistances:[],startInstCapacity:0,batchCapacity:0,cullingHeight:0,castShadow:0,recvShadow:0,colliders:[],hasBuildCollider:!1,buildCollider:{idType:0,pos:{y:0},ext:{},q:{w:0},shape:""},buildColliders:[],roughRadius:0,roughHeight:0,roughWidth:0,colliderComplexity:0,barWidth:0,barHeight:0,landPoints:[],dragBuild:!1,dragBuildDist:{x:0,y:0},blueprintBoxSize:{x:0,y:0},isAssembler:!1,assemblerSpeed:0,assemblerRecipeType:"",anim_working_length:0,isPowerConsumer:!1,workEnergyPerTick:0,idleEnergyPerTick:0,minimapType:0,slotPoses:[],selectCenter:{y:0},selectSize:{},selectAlpha:0,selectDistance:0,signHeight:0,signSize:0,audioProtoId0:0,audioRadius0:0,audioRadius1:0,audioFalloff:0,audioVolume:0,audioPitch:0,audioDoppler:0,minerPeriod:0,labAssembleSpeed:0,beltSpeed:0},ID:0,description:"",index:0,iconSprite:"",canUpgrade:!1,typeString:"",fuelTypeString:"",name:"",isRaw:!1},this.selectedItems=Sn([]),this.selectedItemsSet=new Set,this.childs=Sn([]),this.recipesImages=Sn([]),this.recipesFromTreeStructure=Sn([]),this.powerFacilities=[],this.totals=Sn({totalPower:0,totalMachinesByType:[],totalItems:[]}),this.beltStackSize=Sn(1),this.beltTransportFactor=6,this.allItems=[],this.allRecipes=[],this.itemsMap=new Map,this.recipesMap=new Map,this.preprocessedRecipesMap=new Map,vo(()=>{let m=this.globalSettingsService.globalSettingsSignal()})}toggleSelection(n,i){return ct(this,null,function*(){let o=performance.now();(this.itemsMap.size===0||this.recipesMap.size===0)&&(yield this.preloadData()),this.isRecipesFormInitialized.set(!1),this.recipesFromTreeStructure.set([]);let d=n.recipes.find(Y=>Y.name.toLowerCase().includes("advanced"))||n.recipes[0],m=this.recipesMap.get(d.ID);if(m===void 0)return;let w=m?.Results.findIndex(Y=>Y===n.ID),b=this.calculateMachinesNeeded(this.globalSettingsService.getProperty("initialAmountValue"),m.ResultCounts[w],m.TimeSpend,this.globalSettingsService.checkValidKey(m.madeFromString.split(" ")[0].toLowerCase()+"Select")),C=0,T=this.globalSettingsService.checkValidKey(m.madeFromString.split(" ")[0].toLowerCase()+"Select");if(T!==null){let Y=this.globalSettingsService.getProperty(T);typeof Y=="object"&&Y!==null&&"prefabDesc"in Y&&(C=Y.prefabDesc.workEnergyPerTick*60/1e3)}let O=performance.now(),L={ID:n.ID,name:n.name,Type:n.Type,IconPath:n.IconPath,GridIndex:n.GridIndex,recipes:n.recipes,typeString:n.typeString,fuelTypeString:n.fuelTypeString,childs:[],madeFromString:m.madeFromString,TimeSpend:m.TimeSpend,Items:m.Items,ItemCounts:m.ItemCounts,Results:m.Results,ResultCounts:m.ResultCounts,totalValue:this.globalSettingsService.getProperty("initialAmountValue"),totalMachine:b,power:Number((C*b).toFixed(2)),beltsNeeded:this.globalSettingsService.getProperty("initialAmountValue")/(this.globalSettingsService.getProperty("beltSelect").prefabDesc.beltSpeed*this.beltTransportFactor*this.beltStackSize())/(this.globalSettingsService.getProperty("unitSelected")==="m"?60:1),selectedRecipe:{ID:m.ID,name:m.name},nodeUUID:crypto.randomUUID()};this.selectedItemsSet.clear(),this.selectedItemsSet.add(L.ID),this.selectedItems.set([L]);let oe=performance.now();for(let Y of this.selectedItems())yield this.createTreeStructure(Y);let ve=performance.now();this.getItemTypeString().pipe(Lt(Y=>{let $e=Y.map(xe=>{let U=this.getControlName(xe.typeString);if(!U)return null;let dt=this.globalSettingsService.getProperty(U);return dt?{typeString:xe.typeString,IconPath:dt.IconPath,machineId:dt.ID}:null}).filter(xe=>xe!==null);return Pe($e)})).subscribe({next:Y=>{let ce=ge({},this.powerFacilitiesMap());Y.forEach(U=>{U.typeString&&U.IconPath&&(ce[U.typeString]=U.IconPath)});let $e=this.globalSettingsService.getProperty("proliferationSelect");$e&&(ce.proliferator=$e.IconPath);let xe=this.globalSettingsService.getProperty("beltSelect");xe&&(ce.belt=xe.IconPath),this.powerFacilitiesMap.set(ce)},error:Y=>{}}),this.preprocessAllRecipes(this.selectedItems(),!0),this.isRecipesFormInitialized.set(!0);let ae=performance.now();this.calculateTotales(this.selectedItems())})}preprocessAllRecipes(n,i){i&&this.preprocessedRecipesMap.clear();let o=d=>{this.preprocessedRecipesMap.delete(d.nodeUUID);let m=d.recipes.map(w=>Ze(ge({},w),{itemsSrc:this.getRecipesItemsSrc(w.ID),resultsSrc:this.getRecipesResultsSrc(w.ID)}));this.preprocessedRecipesMap.set(d.nodeUUID,m),d.childs.forEach(w=>o(w))};n.forEach(d=>o(d))}createTreeStructure(n){return ct(this,null,function*(){if(!n.recipes||n.recipes.length===0)return;let o=n.recipes.map(C=>C.ID).map(C=>this.recipesMap.get(C)).filter(C=>C!==void 0);this.recipesImages.set([...this.recipesImages(),...o]);let d=n.recipes.find(C=>C.name.includes("advanced"))||n.recipes[0];if(!d)return;let m=this.recipesMap.get(d.ID);if(!m)return;let b=m.Items.map(C=>this.itemsMap.get(C)).filter(C=>C!==void 0).map(C=>ct(this,null,function*(){let T="";C.recipes&&C.recipes.length>0?T=this.recipesMap.get(C.recipes[0].ID)?.madeFromString||"":T=C.IsFluid?"Oil Extraction Facility":"Mining Facility";let O=yield this.getRecipeToUse(C);if(O){let L=this.recipesMap.get(O.ID);if(L){let oe=m.Results.indexOf(n.ID),ve=oe>=0?m.ResultCounts[oe]:1,ae=m.ItemCounts[m.Items.indexOf(C.ID)]||1,Y=n.totalValue*ae/ve,ce=L.Results.indexOf(C.ID),$e=this.createNewItem(C,T,L,Y,ce);n.childs.push($e),yield this.createTreeStructure($e)}}else{let L=m.Results.indexOf(C.ID),oe=this.createCoreItem(C,T,m,n,L);n.childs.push(oe)}}));yield Promise.all(b)})}preloadData(){return ct(this,null,function*(){let n=performance.now();this.allItems=yield this.db.itemsTable.toArray(),this.allRecipes=yield this.db.recipesTable.toArray(),this.itemsMap=new Map(this.allItems.map(o=>[o.ID,o])),this.recipesMap=new Map(this.allRecipes.map(o=>[o.ID,o]));let i=performance.now()})}createCoreItem(n,i,o,d,m){let w=this.globalSettingsService.checkValidKey(i.split(" ")[0].toLowerCase()+"Select"),b=0;if(w!==null){let T=this.globalSettingsService.getProperty(w);typeof T=="object"&&T!==null&&"prefabDesc"in T&&(b=T.prefabDesc.workEnergyPerTick*60/1e3)}let C=this.calculateMachinesNeeded(d.totalValue,o.ResultCounts[m],o.TimeSpend,this.globalSettingsService.checkValidKey(i.split(" ")[0].toLowerCase()+"Select"));return{ID:n.ID,name:n.name,Type:n.Type,IconPath:n.IconPath,GridIndex:n.GridIndex,recipes:[],typeString:n.typeString,fuelTypeString:n.fuelTypeString,childs:[],madeFromString:i,TimeSpend:0,Items:[],ItemCounts:[],Results:[],ResultCounts:[],totalValue:d.totalValue*o.ItemCounts[o.Items.indexOf(n.ID)]||0,totalMachine:this.calculateMachinesNeeded(d.totalValue,o.ResultCounts[m],o.TimeSpend,this.globalSettingsService.checkValidKey(i.split(" ")[0].toLowerCase()+"Select")),power:Number((b*C).toFixed(2)),beltsNeeded:(d.totalValue*o.ItemCounts[o.Items.indexOf(n.ID)]||0)/(this.globalSettingsService.getProperty("beltSelect").prefabDesc.beltSpeed*this.beltTransportFactor*this.beltStackSize())/(this.globalSettingsService.getProperty("unitSelected")==="m"?60:1),selectedRecipe:{ID:o.ID,name:o.name},nodeUUID:crypto.randomUUID()}}createNewItem(n,i,o,d,m){let w=this.globalSettingsService.checkValidKey(i.split(" ")[0].toLowerCase()+"Select"),b=0;if(w!==null){let T=this.globalSettingsService.getProperty(w);typeof T=="object"&&T!==null&&"prefabDesc"in T&&(b=T.prefabDesc.workEnergyPerTick*60/1e3)}let C=this.calculateMachinesNeeded(d,o.ResultCounts[m],o.TimeSpend,this.globalSettingsService.checkValidKey(i.split(" ")[0].toLowerCase()+"Select"));return{ID:n.ID,name:n.name,Type:n.Type,IconPath:n.IconPath,GridIndex:n.GridIndex,recipes:n.recipes,typeString:n.typeString,fuelTypeString:n.fuelTypeString,childs:[],madeFromString:i,TimeSpend:o.TimeSpend,Items:o.Items,ItemCounts:o.ItemCounts,Results:o.Results,ResultCounts:o.ResultCounts,totalValue:d,totalMachine:C,power:Number((b*C).toFixed(2)),beltsNeeded:d/(this.globalSettingsService.getProperty("beltSelect").prefabDesc.beltSpeed*this.beltTransportFactor*this.beltStackSize())/(this.globalSettingsService.getProperty("unitSelected")==="m"?60:1),selectedRecipe:{ID:o.ID,name:o.name},nodeUUID:crypto.randomUUID()}}calculateMachinesNeeded(n,i,o,d){let m=0;if(d!==null){let w=this.globalSettingsService.getProperty(d);if(typeof w=="object"&&w!==null&&"prefabDesc"in w){let b=0;d==="miningSelect"?(o=120,b=w?.prefabDesc?.minerPeriod):d==="researchSelect"?b=w.prefabDesc.labAssembleSpeed:b=w?.prefabDesc?.assemblerSpeed;let T=this.globalSettingsService.getProperty("unitSelected")==="s"?n*60:n,O=i*60/(o/60)*(b/1e4);m=T/O}}return Number(m.toFixed(2))}calculateTotales(n){let i={totalPower:0,totalMachinesByType:[],totalItems:[]},o=m=>{if(i.totalPower+=m.power||0,m.madeFromString){let b=i.totalMachinesByType.find(C=>C.name===m.madeFromString);b?b.total+=m.totalMachine||0:i.totalMachinesByType.push({name:m.madeFromString,total:m.totalMachine||0})}let w=i.totalItems.find(b=>b.name===m.name);w?w.total+=m.totalValue||0:i.totalItems.push({itemId:m.ID,name:m.name,total:m.totalValue||0,IconPath:m.IconPath});for(let b of m.childs)o(b)};for(let m of n)o(m);this.totals.set(i);let d=[...this.totals().totalItems].sort((m,w)=>m.itemId-w.itemId);this.totals.set(Ze(ge({},this.totals()),{totalItems:d}))}updateChildNodesAfterRecipeChange(n,i){return ct(this,null,function*(){if(!n.recipes||n.recipes.length===0)return;let o=this.recipesMap.get(i);if(!o)return;n.childs=[],n.selectedRecipe={ID:o.ID,name:o.name};let m=o.Items.map(w=>this.itemsMap.get(w)).filter(w=>w!==void 0).map(w=>ct(this,null,function*(){let b="";w.recipes&&w.recipes.length>0?b=this.recipesMap.get(w.recipes[0].ID)?.madeFromString||"":b=w.IsFluid?"Oil Extraction Facility":"Mining Facility";let C=o.Results.indexOf(n.ID),T=C>=0?o.ResultCounts[C]:1,O=o.Items.indexOf(w.ID),L=O>=0?o.ItemCounts[O]:1,oe=n.totalValue*L/T,ve=yield this.getRecipeToUse(w);if(ve){let ae=this.recipesMap.get(ve.ID);if(ae){let Y=ae.Results.indexOf(w.ID),ce=this.createNewItem(w,b,ae,oe,Y);n.childs.push(ce),yield this.createTreeStructure(ce)}}else{let ae=o.Results.indexOf(w.ID),Y=this.createCoreItem(w,b,o,n,ae);n.childs.push(Y)}}));yield Promise.all(m)})}isSelectedItem(n){return this.selectedItemsSet.has(n.ID)}getItems(){return pt(this.db.itemsTable.toArray())}getTechs(){return pt(this.db.techsTable.toArray())}getRecipes(){return pt(this.db.recipesTable.toArray())}getAllMachinesByType(n){return pt(this.db.itemsTable.where("typeString").equals(n).toArray())}getItemTypeString(){return pt(this.db.itemsTable.where("Type").equals("Production").toArray()).pipe(We(n=>n.filter(i=>i.typeString&&i.IconPath).map(i=>({typeString:i.typeString,IconPath:i.IconPath}))))}getProliferatorItems(){return pt(this.db.itemsTable.where("name").startsWith("Proliferator").toArray())}getBeltItems(){return pt(this.db.itemsTable.where("name").startsWith("Conveyor Belt").toArray())}getRecipeToUse(n){return ct(this,null,function*(){return!n.recipes||n.recipes.length===0?null:n.recipes.find(i=>i.name.includes("advanced"))||n.recipes[0]})}getControlName(n){switch(n){case"Assembler":return"assemblerSelect";case"Mining Facility":return"miningSelect";case"Smelting Facility":return"smeltingSelect";case"Research Facility":return"researchSelect";case"Chemical Facility":return"chemicalSelect";case"Refining Facility":return"refiningSelect";case"Oil Extraction Facility":return"oilSelect";default:return null}}getPreprocessedRecipes(n){return this.preprocessedRecipesMap.get(n)||[]}getRecipesItemsSrc(n){return this.recipesMap.get(n)?.Items?.map(o=>this.itemsMap.get(o)?.IconPath||"")||[]}getRecipesResultsSrc(n){return this.recipesMap.get(n)?.Results?.map(o=>this.itemsMap.get(o)?.IconPath||"")||[]}};e.\u0275fac=function(i){return new(i||e)(Ue(Yr),Ue(ki),Ue($u),Ue(Po))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $b=()=>[ju,zu,Oo,ia,Nu,tu,sh,uh,ra,import("./chunk-LJ76H5C5.js").then(t=>t.PowerConversionPipe)],Lp=(t,e)=>({$implicit:t,index:e}),Gb=t=>({"bg-secondary":t});function Kb(t,e){}function Hb(t,e){t&1&&(J(0,"div",1)(1,"h1",2),Ne(2,"Select a recipe to see the results."),ie()())}function Wb(t,e){t&1&&pl(0)}function qb(t,e){if(t&1&&Re(0,"img",21),t&2){let r=e.$implicit;Xe("src","assets/"+r+".png",at)}}function Yb(t,e){if(t&1&&Re(0,"img",21),t&2){let r=e.$implicit;Xe("src","assets/"+r+".png",at)}}function Xb(t,e){if(t&1){let r=Ht();J(0,"label",15)(1,"input",19),ut("click",function(){St(r);let i=lt(4);return xt(i.storePreviousValues())})("change",function(){let i=St(r).$implicit,o=lt().$implicit,d=lt(3);return xt(d.updateSelectedRecipe(o,i))}),ie(),J(2,"span",20),Tt(3,qb,1,1,"img",21,Mt),J(5,"span",22),Ne(6,"arrow_forward"),ie(),Tt(7,Yb,1,1,"img",21,Mt),ie()()}if(t&2){let r=e.$implicit,n=lt().$implicit;De(),Xe("name",n.nodeUUID)("id",n.nodeUUID)("value",r.ID)("checked",r.ID===(n.selectedRecipe==null?null:n.selectedRecipe.ID)),De(),Xe("ngClass",Gf(5,Gb,r.ID===(n.selectedRecipe==null?null:n.selectedRecipe.ID))),De(),Rt(r.itemsSrc),De(4),Rt(r.resultsSrc)}}function Zb(t,e){t&1&&pl(0)}function Qb(t,e){if(t&1&&Ii(0,Zb,1,0,"ng-container",6),t&2){let r=e.$implicit,n=e.$index,i=lt().index;lt();let o=mo(3);Xe("ngTemplateOutlet",o)("ngTemplateOutletContext",gl(2,Lp,r,i+"-"+n))}}function Jb(t,e){if(t&1){let r=Ht();J(0,"tr",7)(1,"td")(2,"button",8),ut("click",function(){let i=St(r).$implicit,o=lt(3);return xt(o.makeItOre(i))}),Ne(3,"Base item"),ie()(),J(4,"div",9)(5,"td")(6,"div",10),Re(7,"img",11),J(8,"input",12),ut("blur",function(){let i=St(r).$implicit,o=lt(3);return xt(o.changeItemTotalValue(i))}),_s("ngModelChange",function(i){let o=St(r).$implicit;return Ds(o.totalValue,i)||(o.totalValue=i),xt(i)}),ie()()()(),J(9,"td")(10,"div",9)(11,"div",13),Re(12,"img",11)(13,"input",14),ie()()(),J(14,"td"),Tt(15,Xb,9,7,"label",15,Mt),ie(),J(17,"td")(18,"div",10),Re(19,"img",11),J(20,"select",16)(21,"option",17),Ne(22,"none"),ie(),J(23,"option",17),Ne(24,"accelerate"),ie(),J(25,"option",17),Ne(26,"Increase production"),ie()()()(),J(27,"td")(28,"div",13),Re(29,"img",11)(30,"input",18),go(31,"number"),ie()(),J(32,"td")(33,"span"),Ne(34),go(35,"powerConversion"),ie()()(),Tt(36,Qb,1,5,"ng-container",null,Mt)}if(t&2){let r=e.$implicit,n=lt(3);De(4),$n("data-tip",r.name),De(3),Xe("src","assets/"+r.IconPath+".png",at),De(),ws("ngModel",r.totalValue),De(2),$n("data-tip",r.madeFromString),De(2),Xe("src","assets/"+n.dataManagement.powerFacilitiesMap()[r.madeFromString]+".png",at),De(),Xe("value",r.totalMachine),De(2),Rt(n.dataManagement.getPreprocessedRecipes(r.nodeUUID)),De(4),Xe("src","assets/"+n.dataManagement.powerFacilitiesMap().proliferator+".png",at),De(10),Xe("src","assets/"+n.dataManagement.powerFacilitiesMap().belt+".png",at),De(),Xe("value",Ya(31,10,r.beltsNeeded,"1.0-2")),De(4),bs(vl(35,13,r.power)),De(2),Rt(r.childs)}}function ew(t,e){if(t&1&&(jf(0),Ii(1,Wb,1,0,"ng-container",6),zf(),Ii(2,Jb,38,15,"ng-template",null,0,Hf)),t&2){let r=e.$implicit,n=e.$index,i=mo(3);De(),Xe("ngTemplateOutlet",i)("ngTemplateOutletContext",gl(2,Lp,r,n))}}function tw(t,e){if(t&1&&(J(0,"div",5),Re(1,"img",23),J(2,"p"),Ne(3),go(4,"number"),ie()()),t&2){let r=e.$implicit;$n("data-tip",r.name),De(),Xe("src","assets/"+r.IconPath+".png",at),De(2),bs(Ya(4,3,r.total,"1.0-2"))}}function nw(t,e){if(t&1&&(J(0,"div",5),Re(1,"img",23),J(2,"p"),Ne(3),go(4,"number"),ie()()),t&2){let r=e.$implicit,n=lt(2);$n("data-tip",r.name),De(),Xe("src","assets/"+n.dataManagement.powerFacilitiesMap()[r.name]+".png",at),De(2),bs(Ya(4,3,r.total,"1.0-2"))}}function rw(t,e){if(t&1&&(J(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),Ne(5,"Base item"),ie(),J(6,"th"),Ne(7,"Item"),ie(),J(8,"th"),Ne(9,"Buildings"),ie(),J(10,"th"),Ne(11,"Recipe"),ie(),J(12,"th"),Ne(13,"Proliferation"),ie(),J(14,"th"),Ne(15,"Belts"),ie(),J(16,"th"),Ne(17,"Power"),ie()()(),J(18,"tbody"),Tt(19,ew,4,5,null,null,Mt),ie()(),J(21,"table",4)(22,"thead")(23,"tr")(24,"th"),Ne(25,"Total items"),ie(),J(26,"th"),Ne(27,"Total Machines"),ie()()(),J(28,"tbody")(29,"tr")(30,"td")(31,"div"),Tt(32,tw,5,6,"div",5,Mt),ie()(),J(34,"td")(35,"div"),Tt(36,nw,5,6,"div",5,Mt),ie()()(),J(38,"tr")(39,"td")(40,"h1"),Ne(41),ie()()()()()()),t&2){let r=lt();De(19),Rt(r.dataManagement.selectedItems()),De(13),Rt(r.dataManagement.totals().totalItems),De(4),Rt(r.dataManagement.totals().totalMachinesByType),De(5),$f("Power: ",r.dataManagement.totals().totalPower,"")}}function iw(t,e){t&1&&Re(0,"div",24)(1,"div",25)}function ow(t,e){t&1&&(J(0,"h1",26),Ne(1,"Error loading data"),ie())}var Bp=(()=>{let e=class e{constructor(n,i,o,d){this.dataManagement=n,this.db=i,this.fb=o,this.globalSettingsService=d,this.childs=[],this.recipesImages=[],this.isRecipesFormInitialized=!1,this.previousFormValues={},this.visitedNodes=new Set,vo(()=>{this.childs=this.dataManagement.childs(),this.recipesImages=this.dataManagement.recipesImages(),this.isRecipesFormInitialized=this.dataManagement.isRecipesFormInitialized()})}storePreviousValues(){}ngOnInit(){}getRecipesImages(n){return ct(this,null,function*(){let i=[],o=yield this.db.recipesTable.where("ID").equals(n).toArray();if(o.length>0)for(let d of o[0].Items){let m=yield this.db.itemsTable.where("ID").equals(d).toArray();m.length>0&&i.push(m[0].IconPath)}return i})}replaceSubtreeByIndex(n,i){let o=n.toString().split("-").map(w=>parseInt(w,10)),d=this.dataManagement.selectedItems(),m=d;for(let w=0;w<o.length-1;w++)m=m[o[w]].childs;m[o[o.length-1]]=i,this.dataManagement.selectedItems.set(d)}removeSubtreeByIndex(n){let i=n.toString().split("-").map(w=>parseInt(w,10)),o=this.dataManagement.selectedItems(),d=o;for(let w=0;w<i.length-1;w++)d=d[i[w]].childs;let m=d[i[i.length-1]];m&&(m.childs=[]),this.dataManagement.selectedItems.set(o)}processSingleRecipeImage(n){return ct(this,null,function*(){let i={ID:n.ID,items:[],results:[]};if(n.items!==void 0){for(let o of n.Items)try{let d=yield this.db.itemsTable.where("ID").equals(o).first();d&&i.items.push(d.IconPath)}catch{}for(let o of n.Results)try{let d=yield this.db.itemsTable.where("ID").equals(o).first();d&&i.results.push(d.IconPath)}catch{}}})}isRecipeRelatedToItem(n,i){if(n.ID===i.ID)return!0;for(let o of i.childs)if(this.isRecipeRelatedToItem(n,o))return!0;return!1}buildNewSubtree(n,i,o=1){return ct(this,null,function*(){for(let b of n.recipes){let C=yield this.db.recipesTable.where("ID").equals(b.ID).toArray();this.dataManagement.recipesImages.set([...this.dataManagement.recipesImages(),C[0]])}let d=yield this.db.recipesTable.where("ID").equals(i.ID).toArray();if(!d[0])return n;let m=d[0].ResultCounts[0]||1,w=Ze(ge({},n),{childs:[],totalValue:o});for(let b=0;b<d[0].Items.length;b++){let C=d[0].Items[b],T=yield this.db.itemsTable.where("ID").equals(C).toArray(),O="";T[0].recipes&&T[0].recipes.length>0?O=(yield this.db.recipesTable.where("ID").equals(T[0].recipes[0].ID).toArray())[0]?.madeFromString||"":O=T[0].IsFluid?"Oil Extraction Facility":"Mining Facility";let L=w.totalValue*d[0].ItemCounts[b]/m,oe={ID:T[0].ID,name:T[0].name,Type:T[0].Type,IconPath:T[0].IconPath,GridIndex:T[0].GridIndex,recipes:T[0].recipes,typeString:T[0].typeString,fuelTypeString:T[0].fuelTypeString,childs:[],madeFromString:O,TimeSpend:d[0].TimeSpend,Items:d[0].Items,ItemCounts:d[0].ItemCounts,Results:d[0].Results,ResultCounts:d[0].ResultCounts,totalValue:L,totalMachine:0,power:0,beltsNeeded:L/(this.globalSettingsService.getProperty("beltSelect").prefabDesc.beltSpeed*this.dataManagement.beltTransportFactor*this.dataManagement.beltStackSize()),selectedRecipe:{ID:i.ID,name:i.name},nodeUUID:crypto.randomUUID()};if(T[0].recipes!==void 0&&T[0].recipes.length>0){let ve=yield this.buildNewSubtree(oe,T[0].recipes[0],L);w.childs.push(ve)}else w.childs.push(oe)}return w})}makeItOre(n){return ct(this,null,function*(){let i=yield this.db.itemsTable.where("name").equals(n.name).toArray()})}previousValue(n){}getMachineFromRecipe(n){}getRecipeSelection(n){}roundNumber(n){let i=0,o=n.Results.findIndex(b=>b===n.ID),d=n.ResultCounts[o],m=0,w=this.globalSettingsService.checkValidKey(n.madeFromString.split(" ")[0].toLowerCase()+"Select");if(w){let b=this.globalSettingsService.getProperty(w);if(typeof b=="object"&&b!==null&&"prefabDesc"in b){let C=b?.prefabDesc?.assemblerSpeed}}return i}updateSelectedRecipe(n,i){return ct(this,null,function*(){n.selectedRecipe={ID:i.ID,name:i.name},n.childs.length>0&&(yield this.dataManagement.updateChildNodesAfterRecipeChange(n,i.ID),this.dataManagement.preprocessAllRecipes([n]))})}changeItemTotalValue(n){let i=this.dataManagement.recipesMap.get(n.selectedRecipe.ID);if(i){let w=i.Results.indexOf(n.ID);n.totalMachine=this.dataManagement.calculateMachinesNeeded(n.totalValue,n.ResultCounts[w],n.TimeSpend,this.globalSettingsService.checkValidKey(n.madeFromString.split(" ")[0].toLowerCase()+"Select"))}this.visitedNodes=new Set,console.log(n);let o=this.dataManagement.selectedItems();this.dataManagement.selectedItems.set([...o]);let d=this.findParentNode(this.dataManagement.selectedItems(),n.nodeUUID);console.log("parent: ",d);let m=n;this.updateSubtree(m),this.updateUpwards(m)}updateSubtree(n){console.log(`\u{1F53D} Updating subtree of: ${n.name}`);for(let i of n.childs)console.log(`  \u21B3 Updating child: ${i.name}`),i.IconPath="",this.updateSubtree(i)}updateUpwards(n){let i=n;for(;;){let o=this.findParentNode(this.dataManagement.selectedItems(),i.nodeUUID);if(!o){console.warn("\u{1F51D} No more parents to update.");break}console.log(`\u{1F53C} Moving up to parent: ${o.name}`),o.IconPath="";for(let d of o.childs)d.nodeUUID!==i.nodeUUID&&(console.log(`\u{1F504} Updating sibling subtree: ${d.name}`),d.IconPath="",this.updateSubtree(d));i=o}}findParentNode(n,i){for(let o of n){if(o.childs.some(m=>m.nodeUUID===i))return o;let d=this.findParentNode(o.childs,i);if(d)return d}return null}};e.\u0275fac=function(i){return new(i||e)(Oe(Xr),Oe(Yr),Oe($u),Oe(Po))},e.\u0275cmp=Bt({type:e,selectors:[["app-table-ratios"]],standalone:!0,features:[Ut],decls:11,vars:5,consts:[["recursiveTemplate",""],[1,"h-full","flex","justify-center","items-center"],[1,"text-3xl","font-bold"],[1,"overflow-x-auto"],[1,"table"],[1,"tooltip","border","border-primary","aspect-video","m-1","rounded-sm","bg-secondary"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"hover:bg-base-200","transition-all","duration-200"],[1,"btn","rounded-sm","btn-sm","bg-secondary",3,"click"],[1,"tooltip"],[1,"flex","items-center","justify-center"],["alt","",1,"w-10","h-10","m-2",3,"src"],["type","number",1,"input","input-bordered","input-xs","w-20","max-w-xs","rounded-sm",3,"blur","ngModelChange","ngModel"],[1,"flex","justify-center","items-center"],["min","0","type","number",1,"input","input-bordered","input-xs","w-20","max-w-xs","rounded-sm",3,"value"],[1,"label","cursor-pointer","flex"],[1,"select","select-bordered","rounded-sm","select-xs","max-w-xs","glowProduction"],["value",""],["type","number",1,"input","input-bordered","input-xs","w-20","max-w-xs","rounded-sm",3,"value"],["type","radio",1,"radio","hidden",3,"click","change","name","id","value","checked"],[1,"label-text","flex","items-center","justify-center","border","border-primary","rounded-sm","hover:bg-secondary","duration-200",3,"ngClass"],["loading","lazy","alt","",1,"w-8","h-8","m-2",3,"src"],[1,"material-symbols-outlined"],["alt","",1,"w-8","h-8","m-2",3,"src"],[1,"skeleton","h-20","w-full"],[1,"skeleton","h-20","w-full","mt-2"],[1,"text-red-500"]],template:function(i,o){i&1&&(Ii(0,Kb,0,0)(1,Hb,3,0)(2,rw,42,1)(3,iw,2,0)(4,ow,2,0),Bf(5,2,$b,3,null,4),J(7,"div")(8,"pre"),Ne(9),go(10,"json"),ie()()),i&2&&(qa(0,o.dataManagement.selectedItems().length>0&&o.isRecipesFormInitialized?0:1),De(5),Uf(o.isRecipesFormInitialized),De(4),bs(vl(10,3,o.dataManagement.selectedItems())))},dependencies:[Ku,As,ah,Gu]});let t=e;return t})();var $g=yf(Up());var sw={value:()=>{}};function zp(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Yu(r)}function Yu(t){this._=t}function aw(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Yu.prototype=zp.prototype={constructor:Yu,on:function(t,e){var r=this._,n=aw(t+"",r),i,o=-1,d=n.length;if(arguments.length<2){for(;++o<d;)if((i=(t=n[o]).type)&&(i=uw(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<d;)if(i=(t=n[o]).type)r[i]=jp(r[i],t.name,e);else if(e==null)for(i in r)r[i]=jp(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Yu(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,i=o.length;n<i;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};function uw(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function jp(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=sw,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var oa=zp;var Xu="http://www.w3.org/1999/xhtml",Ld={svg:"http://www.w3.org/2000/svg",xhtml:Xu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fr(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Ld.hasOwnProperty(e)?{space:Ld[e],local:t}:t}function cw(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Xu&&e.documentElement.namespaceURI===Xu?e.createElement(t):e.createElementNS(r,t)}}function lw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zu(t){var e=fr(t);return(e.local?lw:cw)(e)}function dw(){}function ji(t){return t==null?dw:function(){return this.querySelector(t)}}function $p(t){typeof t!="function"&&(t=ji(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],d=o.length,m=n[i]=new Array(d),w,b,C=0;C<d;++C)(w=o[C])&&(b=t.call(w,w.__data__,C,o))&&("__data__"in w&&(b.__data__=w.__data__),m[C]=b);return new gt(n,this._parents)}function Bd(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fw(){return[]}function sa(t){return t==null?fw:function(){return this.querySelectorAll(t)}}function hw(t){return function(){return Bd(t.apply(this,arguments))}}function Gp(t){typeof t=="function"?t=hw(t):t=sa(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var d=e[o],m=d.length,w,b=0;b<m;++b)(w=d[b])&&(n.push(t.call(w,w.__data__,b,d)),i.push(w));return new gt(n,i)}function aa(t){return function(){return this.matches(t)}}function Qu(t){return function(e){return e.matches(t)}}var pw=Array.prototype.find;function mw(t){return function(){return pw.call(this.children,t)}}function gw(){return this.firstElementChild}function Kp(t){return this.select(t==null?gw:mw(typeof t=="function"?t:Qu(t)))}var vw=Array.prototype.filter;function yw(){return Array.from(this.children)}function bw(t){return function(){return vw.call(this.children,t)}}function Hp(t){return this.selectAll(t==null?yw:bw(typeof t=="function"?t:Qu(t)))}function Wp(t){typeof t!="function"&&(t=aa(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],d=o.length,m=n[i]=[],w,b=0;b<d;++b)(w=o[b])&&t.call(w,w.__data__,b,o)&&m.push(w);return new gt(n,this._parents)}function Ju(t){return new Array(t.length)}function qp(){return new gt(this._enter||this._groups.map(Ju),this._parents)}function ua(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ua.prototype={constructor:ua,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Yp(t){return function(){return t}}function ww(t,e,r,n,i,o){for(var d=0,m,w=e.length,b=o.length;d<b;++d)(m=e[d])?(m.__data__=o[d],n[d]=m):r[d]=new ua(t,o[d]);for(;d<w;++d)(m=e[d])&&(i[d]=m)}function Dw(t,e,r,n,i,o,d){var m,w,b=new Map,C=e.length,T=o.length,O=new Array(C),L;for(m=0;m<C;++m)(w=e[m])&&(O[m]=L=d.call(w,w.__data__,m,e)+"",b.has(L)?i[m]=w:b.set(L,w));for(m=0;m<T;++m)L=d.call(t,o[m],m,o)+"",(w=b.get(L))?(n[m]=w,w.__data__=o[m],b.delete(L)):r[m]=new ua(t,o[m]);for(m=0;m<C;++m)(w=e[m])&&b.get(O[m])===w&&(i[m]=w)}function _w(t){return t.__data__}function Xp(t,e){if(!arguments.length)return Array.from(this,_w);var r=e?Dw:ww,n=this._parents,i=this._groups;typeof t!="function"&&(t=Yp(t));for(var o=i.length,d=new Array(o),m=new Array(o),w=new Array(o),b=0;b<o;++b){var C=n[b],T=i[b],O=T.length,L=Sw(t.call(C,C&&C.__data__,b,n)),oe=L.length,ve=m[b]=new Array(oe),ae=d[b]=new Array(oe),Y=w[b]=new Array(O);r(C,T,ve,ae,Y,L,e);for(var ce=0,$e=0,xe,U;ce<oe;++ce)if(xe=ve[ce]){for(ce>=$e&&($e=ce+1);!(U=ae[$e])&&++$e<oe;);xe._next=U||null}}return d=new gt(d,n),d._enter=m,d._exit=w,d}function Sw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zp(){return new gt(this._exit||this._groups.map(Ju),this._parents)}function Qp(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function Jp(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,d=Math.min(i,o),m=new Array(i),w=0;w<d;++w)for(var b=r[w],C=n[w],T=b.length,O=m[w]=new Array(T),L,oe=0;oe<T;++oe)(L=b[oe]||C[oe])&&(O[oe]=L);for(;w<i;++w)m[w]=r[w];return new gt(m,this._parents)}function em(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,o=n[i],d;--i>=0;)(d=n[i])&&(o&&d.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(d,o),o=d);return this}function tm(t){t||(t=xw);function e(T,O){return T&&O?t(T.__data__,O.__data__):!T-!O}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var d=r[o],m=d.length,w=i[o]=new Array(m),b,C=0;C<m;++C)(b=d[C])&&(w[C]=b);w.sort(e)}return new gt(i,this._parents).order()}function xw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nm(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function rm(){return Array.from(this)}function im(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var d=n[i];if(d)return d}return null}function om(){let t=0;for(let e of this)++t;return t}function sm(){return!this.node()}function am(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,d=i.length,m;o<d;++o)(m=i[o])&&t.call(m,m.__data__,o,i);return this}function Cw(t){return function(){this.removeAttribute(t)}}function Ew(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Iw(t,e){return function(){this.setAttribute(t,e)}}function Aw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mw(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Tw(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function um(t,e){var r=fr(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Ew:Cw:typeof e=="function"?r.local?Tw:Mw:r.local?Aw:Iw)(r,e))}function ec(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rw(t){return function(){this.style.removeProperty(t)}}function Fw(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Ow(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function cm(t,e,r){return arguments.length>1?this.each((e==null?Rw:typeof e=="function"?Ow:Fw)(t,e,r??"")):Zr(this.node(),t)}function Zr(t,e){return t.style.getPropertyValue(e)||ec(t).getComputedStyle(t,null).getPropertyValue(e)}function Pw(t){return function(){delete this[t]}}function kw(t,e){return function(){this[t]=e}}function Nw(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function lm(t,e){return arguments.length>1?this.each((e==null?Pw:typeof e=="function"?Nw:kw)(t,e)):this.node()[t]}function dm(t){return t.trim().split(/^|\s+/)}function Ud(t){return t.classList||new fm(t)}function fm(t){this._node=t,this._names=dm(t.getAttribute("class")||"")}fm.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hm(t,e){for(var r=Ud(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function pm(t,e){for(var r=Ud(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Vw(t){return function(){hm(this,t)}}function Lw(t){return function(){pm(this,t)}}function Bw(t,e){return function(){(e.apply(this,arguments)?hm:pm)(this,t)}}function mm(t,e){var r=dm(t+"");if(arguments.length<2){for(var n=Ud(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?Bw:e?Vw:Lw)(r,e))}function Uw(){this.textContent=""}function jw(t){return function(){this.textContent=t}}function zw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function gm(t){return arguments.length?this.each(t==null?Uw:(typeof t=="function"?zw:jw)(t)):this.node().textContent}function $w(){this.innerHTML=""}function Gw(t){return function(){this.innerHTML=t}}function Kw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function vm(t){return arguments.length?this.each(t==null?$w:(typeof t=="function"?Kw:Gw)(t)):this.node().innerHTML}function Hw(){this.nextSibling&&this.parentNode.appendChild(this)}function ym(){return this.each(Hw)}function Ww(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bm(){return this.each(Ww)}function wm(t){var e=typeof t=="function"?t:Zu(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qw(){return null}function Dm(t,e){var r=typeof t=="function"?t:Zu(t),n=e==null?qw:typeof e=="function"?e:ji(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Yw(){var t=this.parentNode;t&&t.removeChild(this)}function _m(){return this.each(Yw)}function Xw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sm(t){return this.select(t?Zw:Xw)}function xm(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Qw(t){return function(e){t.call(this,e,this.__data__)}}function Jw(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function eD(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,o;r<i;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function tD(t,e,r){return function(){var n=this.__on,i,o=Qw(e);if(n){for(var d=0,m=n.length;d<m;++d)if((i=n[d]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=e;return}}this.addEventListener(t.type,o,r),i={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(i):this.__on=[i]}}function Cm(t,e,r){var n=Jw(t+""),i,o=n.length,d;if(arguments.length<2){var m=this.node().__on;if(m){for(var w=0,b=m.length,C;w<b;++w)for(i=0,C=m[w];i<o;++i)if((d=n[i]).type===C.type&&d.name===C.name)return C.value}return}for(m=e?tD:eD,i=0;i<o;++i)this.each(m(n[i],e,r));return this}function Em(t,e,r){var n=ec(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nD(t,e){return function(){return Em(this,t,e)}}function rD(t,e){return function(){return Em(this,t,e.apply(this,arguments))}}function Im(t,e){return this.each((typeof e=="function"?rD:nD)(t,e))}function*Am(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length,d;i<o;++i)(d=n[i])&&(yield d)}var jd=[null];function gt(t,e){this._groups=t,this._parents=e}function Mm(){return new gt([[document.documentElement]],jd)}function iD(){return this}gt.prototype=Mm.prototype={constructor:gt,select:$p,selectAll:Gp,selectChild:Kp,selectChildren:Hp,filter:Wp,data:Xp,enter:qp,exit:Zp,join:Qp,merge:Jp,selection:iD,order:em,sort:tm,call:nm,nodes:rm,node:im,size:om,empty:sm,each:am,attr:um,style:cm,property:lm,classed:mm,text:gm,html:vm,raise:ym,lower:bm,append:wm,insert:Dm,remove:_m,clone:Sm,datum:xm,on:Cm,dispatch:Im,[Symbol.iterator]:Am};var hr=Mm;function tn(t){return typeof t=="string"?new gt([[document.querySelector(t)]],[document.documentElement]):new gt([[t]],jd)}function Tm(t){let e;for(;e=t.sourceEvent;)t=e;return t}function hn(t,e){if(t=Tm(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var tc={capture:!0,passive:!1};function nc(t){t.preventDefault(),t.stopImmediatePropagation()}function zd(t){var e=t.document.documentElement,r=tn(t).on("dragstart.drag",nc,tc);"onselectstart"in e?r.on("selectstart.drag",nc,tc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $d(t,e){var r=t.document.documentElement,n=tn(t).on("dragstart.drag",null);e&&(n.on("click.drag",nc,tc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function rc(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Gd(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function da(){}var ca=.7,sc=1/ca,ko="\\s*([+-]?\\d+)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oD=/^#([0-9a-f]{3,8})$/,sD=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),aD=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),uD=new RegExp(`^rgba\\(${ko},${ko},${ko},${la}\\)$`),cD=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${la}\\)$`),lD=new RegExp(`^hsl\\(${la},${Hn},${Hn}\\)$`),dD=new RegExp(`^hsla\\(${la},${Hn},${Hn},${la}\\)$`),Rm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rc(da,Qr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fm,formatHex:Fm,formatHex8:fD,formatHsl:hD,formatRgb:Om,toString:Om});function Fm(){return this.rgb().formatHex()}function fD(){return this.rgb().formatHex8()}function hD(){return Bm(this).formatHsl()}function Om(){return this.rgb().formatRgb()}function Qr(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=oD.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Pm(e):r===3?new Yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ic(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ic(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sD.exec(t))?new Yt(e[1],e[2],e[3],1):(e=aD.exec(t))?new Yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uD.exec(t))?ic(e[1],e[2],e[3],e[4]):(e=cD.exec(t))?ic(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lD.exec(t))?Vm(e[1],e[2]/100,e[3]/100,1):(e=dD.exec(t))?Vm(e[1],e[2]/100,e[3]/100,e[4]):Rm.hasOwnProperty(t)?Pm(Rm[t]):t==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Pm(t){return new Yt(t>>16&255,t>>8&255,t&255,1)}function ic(t,e,r,n){return n<=0&&(t=e=r=NaN),new Yt(t,e,r,n)}function pD(t){return t instanceof da||(t=Qr(t)),t?(t=t.rgb(),new Yt(t.r,t.g,t.b,t.opacity)):new Yt}function No(t,e,r,n){return arguments.length===1?pD(t):new Yt(t,e,r,n??1)}function Yt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}rc(Yt,No,Gd(da,{brighter(t){return t=t==null?sc:Math.pow(sc,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ca:Math.pow(ca,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yt($i(this.r),$i(this.g),$i(this.b),ac(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:km,formatHex:km,formatHex8:mD,formatRgb:Nm,toString:Nm}));function km(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function mD(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nm(){let t=ac(this.opacity);return`${t===1?"rgb(":"rgba("}${$i(this.r)}, ${$i(this.g)}, ${$i(this.b)}${t===1?")":`, ${t})`}`}function ac(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $i(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zi(t){return t=$i(t),(t<16?"0":"")+t.toString(16)}function Vm(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new xn(t,e,r,n)}function Bm(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);if(t instanceof da||(t=Qr(t)),!t)return new xn;if(t instanceof xn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),d=NaN,m=o-i,w=(o+i)/2;return m?(e===o?d=(r-n)/m+(r<n)*6:r===o?d=(n-e)/m+2:d=(e-r)/m+4,m/=w<.5?o+i:2-o-i,d*=60):m=w>0&&w<1?0:d,new xn(d,m,w,t.opacity)}function Um(t,e,r,n){return arguments.length===1?Bm(t):new xn(t,e,r,n??1)}function xn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}rc(xn,Um,Gd(da,{brighter(t){return t=t==null?sc:Math.pow(sc,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ca:Math.pow(ca,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Yt(Kd(t>=240?t-240:t+120,i,n),Kd(t,i,n),Kd(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new xn(Lm(this.h),oc(this.s),oc(this.l),ac(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ac(this.opacity);return`${t===1?"hsl(":"hsla("}${Lm(this.h)}, ${oc(this.s)*100}%, ${oc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lm(t){return t=(t||0)%360,t<0?t+360:t}function oc(t){return Math.max(0,Math.min(1,t||0))}function Kd(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function Hd(t,e,r,n,i){var o=t*t,d=o*t;return((1-3*t+3*o-d)*e+(4-6*o+3*d)*r+(1+3*t+3*o-3*d)*n+d*i)/6}function jm(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],o=t[n+1],d=n>0?t[n-1]:2*i-o,m=n<e-1?t[n+2]:2*o-i;return Hd((r-n/e)*e,d,i,o,m)}}function zm(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],o=t[n%e],d=t[(n+1)%e],m=t[(n+2)%e];return Hd((r-n/e)*e,i,o,d,m)}}var Wd=t=>()=>t;function gD(t,e){return function(r){return t+r*e}}function vD(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $m(t){return(t=+t)==1?uc:function(e,r){return r-e?vD(e,r,t):Wd(isNaN(e)?r:e)}}function uc(t,e){var r=e-t;return r?gD(t,r):Wd(isNaN(t)?e:t)}var cc=function t(e){var r=$m(e);function n(i,o){var d=r((i=No(i)).r,(o=No(o)).r),m=r(i.g,o.g),w=r(i.b,o.b),b=uc(i.opacity,o.opacity);return function(C){return i.r=d(C),i.g=m(C),i.b=w(C),i.opacity=b(C),i+""}}return n.gamma=t,n}(1);function Gm(t){return function(e){var r=e.length,n=new Array(r),i=new Array(r),o=new Array(r),d,m;for(d=0;d<r;++d)m=No(e[d]),n[d]=m.r||0,i[d]=m.g||0,o[d]=m.b||0;return n=t(n),i=t(i),o=t(o),m.opacity=1,function(w){return m.r=n(w),m.g=i(w),m.b=o(w),m+""}}}var yD=Gm(jm),bD=Gm(zm);function pn(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Yd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qd=new RegExp(Yd.source,"g");function wD(t){return function(){return t}}function DD(t){return function(e){return t(e)+""}}function Xd(t,e){var r=Yd.lastIndex=qd.lastIndex=0,n,i,o,d=-1,m=[],w=[];for(t=t+"",e=e+"";(n=Yd.exec(t))&&(i=qd.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),m[d]?m[d]+=o:m[++d]=o),(n=n[0])===(i=i[0])?m[d]?m[d]+=i:m[++d]=i:(m[++d]=null,w.push({i:d,x:pn(n,i)})),r=qd.lastIndex;return r<e.length&&(o=e.slice(r),m[d]?m[d]+=o:m[++d]=o),m.length<2?w[0]?DD(w[0].x):wD(e):(e=w.length,function(b){for(var C=0,T;C<e;++C)m[(T=w[C]).i]=T.x(b);return m.join("")})}var Km=180/Math.PI,lc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zd(t,e,r,n,i,o){var d,m,w;return(d=Math.sqrt(t*t+e*e))&&(t/=d,e/=d),(w=t*r+e*n)&&(r-=t*w,n-=e*w),(m=Math.sqrt(r*r+n*n))&&(r/=m,n/=m,w/=m),t*n<e*r&&(t=-t,e=-e,w=-w,d=-d),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Km,skewX:Math.atan(w)*Km,scaleX:d,scaleY:m}}var dc;function Hm(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?lc:Zd(e.a,e.b,e.c,e.d,e.e,e.f)}function Wm(t){return t==null?lc:(dc||(dc=document.createElementNS("http://www.w3.org/2000/svg","g")),dc.setAttribute("transform",t),(t=dc.transform.baseVal.consolidate())?(t=t.matrix,Zd(t.a,t.b,t.c,t.d,t.e,t.f)):lc)}function qm(t,e,r,n){function i(b){return b.length?b.pop()+" ":""}function o(b,C,T,O,L,oe){if(b!==T||C!==O){var ve=L.push("translate(",null,e,null,r);oe.push({i:ve-4,x:pn(b,T)},{i:ve-2,x:pn(C,O)})}else(T||O)&&L.push("translate("+T+e+O+r)}function d(b,C,T,O){b!==C?(b-C>180?C+=360:C-b>180&&(b+=360),O.push({i:T.push(i(T)+"rotate(",null,n)-2,x:pn(b,C)})):C&&T.push(i(T)+"rotate("+C+n)}function m(b,C,T,O){b!==C?O.push({i:T.push(i(T)+"skewX(",null,n)-2,x:pn(b,C)}):C&&T.push(i(T)+"skewX("+C+n)}function w(b,C,T,O,L,oe){if(b!==T||C!==O){var ve=L.push(i(L)+"scale(",null,",",null,")");oe.push({i:ve-4,x:pn(b,T)},{i:ve-2,x:pn(C,O)})}else(T!==1||O!==1)&&L.push(i(L)+"scale("+T+","+O+")")}return function(b,C){var T=[],O=[];return b=t(b),C=t(C),o(b.translateX,b.translateY,C.translateX,C.translateY,T,O),d(b.rotate,C.rotate,T,O),m(b.skewX,C.skewX,T,O),w(b.scaleX,b.scaleY,C.scaleX,C.scaleY,T,O),b=C=null,function(L){for(var oe=-1,ve=O.length,ae;++oe<ve;)T[(ae=O[oe]).i]=ae.x(L);return T.join("")}}}var Qd=qm(Hm,"px, ","px)","deg)"),Jd=qm(Wm,", ",")",")");var _D=1e-12;function Ym(t){return((t=Math.exp(t))+1/t)/2}function SD(t){return((t=Math.exp(t))-1/t)/2}function xD(t){return((t=Math.exp(2*t))-1)/(t+1)}var ef=function t(e,r,n){function i(o,d){var m=o[0],w=o[1],b=o[2],C=d[0],T=d[1],O=d[2],L=C-m,oe=T-w,ve=L*L+oe*oe,ae,Y;if(ve<_D)Y=Math.log(O/b)/e,ae=function(ft){return[m+ft*L,w+ft*oe,b*Math.exp(e*ft*Y)]};else{var ce=Math.sqrt(ve),$e=(O*O-b*b+n*ve)/(2*b*r*ce),xe=(O*O-b*b-n*ve)/(2*O*r*ce),U=Math.log(Math.sqrt($e*$e+1)-$e),dt=Math.log(Math.sqrt(xe*xe+1)-xe);Y=(dt-U)/e,ae=function(ft){var ht=ft*Y,Wn=Ym(U),wt=b/(r*ce)*(Wn*xD(e*ht+U)-SD(U));return[m+wt*L,w+wt*oe,b*Wn/Ym(e*ht+U)]}}return ae.duration=Y*1e3*e/Math.SQRT2,ae}return i.rho=function(o){var d=Math.max(.001,+o),m=d*d,w=m*m;return t(d,m,w)},i}(Math.SQRT2,2,4);var Vo=0,ha=0,fa=0,Zm=1e3,fc,pa,hc=0,Gi=0,pc=0,ma=typeof performance=="object"&&performance.now?performance:Date,Qm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function va(){return Gi||(Qm(CD),Gi=ma.now()+pc)}function CD(){Gi=0}function ga(){this._call=this._time=this._next=null}ga.prototype=mc.prototype={constructor:ga,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?va():+r)+(e==null?0:+e),!this._next&&pa!==this&&(pa?pa._next=this:fc=this,pa=this),this._call=t,this._time=r,tf()},stop:function(){this._call&&(this._call=null,this._time=1/0,tf())}};function mc(t,e,r){var n=new ga;return n.restart(t,e,r),n}function Jm(){va(),++Vo;for(var t=fc,e;t;)(e=Gi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Vo}function Xm(){Gi=(hc=ma.now())+pc,Vo=ha=0;try{Jm()}finally{Vo=0,ID(),Gi=0}}function ED(){var t=ma.now(),e=t-hc;e>Zm&&(pc-=e,hc=t)}function ID(){for(var t,e=fc,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:fc=r);pa=t,tf(n)}function tf(t){if(!Vo){ha&&(ha=clearTimeout(ha));var e=t-Gi;e>24?(t<1/0&&(ha=setTimeout(Xm,t-ma.now()-pc)),fa&&(fa=clearInterval(fa))):(fa||(hc=ma.now(),fa=setInterval(ED,Zm)),Vo=1,Qm(Xm))}}function gc(t,e,r){var n=new ga;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var AD=oa("start","end","cancel","interrupt"),MD=[],ng=0,eg=1,yc=2,vc=3,tg=4,bc=5,ya=6;function Jr(t,e,r,n,i,o){var d=t.__transition;if(!d)t.__transition={};else if(r in d)return;TD(t,r,{name:e,index:n,group:i,on:AD,tween:MD,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ng})}function ba(t,e){var r=Ct(t,e);if(r.state>ng)throw new Error("too late; already scheduled");return r}function Pt(t,e){var r=Ct(t,e);if(r.state>vc)throw new Error("too late; already running");return r}function Ct(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function TD(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=mc(o,0,r.time);function o(b){r.state=eg,r.timer.restart(d,r.delay,r.time),r.delay<=b&&d(b-r.delay)}function d(b){var C,T,O,L;if(r.state!==eg)return w();for(C in n)if(L=n[C],L.name===r.name){if(L.state===vc)return gc(d);L.state===tg?(L.state=ya,L.timer.stop(),L.on.call("interrupt",t,t.__data__,L.index,L.group),delete n[C]):+C<e&&(L.state=ya,L.timer.stop(),L.on.call("cancel",t,t.__data__,L.index,L.group),delete n[C])}if(gc(function(){r.state===vc&&(r.state=tg,r.timer.restart(m,r.delay,r.time),m(b))}),r.state=yc,r.on.call("start",t,t.__data__,r.index,r.group),r.state===yc){for(r.state=vc,i=new Array(O=r.tween.length),C=0,T=-1;C<O;++C)(L=r.tween[C].value.call(t,t.__data__,r.index,r.group))&&(i[++T]=L);i.length=T+1}}function m(b){for(var C=b<r.duration?r.ease.call(null,b/r.duration):(r.timer.restart(w),r.state=bc,1),T=-1,O=i.length;++T<O;)i[T].call(t,C);r.state===bc&&(r.on.call("end",t,t.__data__,r.index,r.group),w())}function w(){r.state=ya,r.timer.stop(),delete n[e];for(var b in n)return;delete t.__transition}}function ei(t,e){var r=t.__transition,n,i,o=!0,d;if(r){e=e==null?null:e+"";for(d in r){if((n=r[d]).name!==e){o=!1;continue}i=n.state>yc&&n.state<bc,n.state=ya,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[d]}o&&delete t.__transition}}function rg(t){return this.each(function(){ei(this,t)})}function RD(t,e){var r,n;return function(){var i=Pt(this,t),o=i.tween;if(o!==r){n=r=o;for(var d=0,m=n.length;d<m;++d)if(n[d].name===e){n=n.slice(),n.splice(d,1);break}}i.tween=n}}function FD(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Pt(this,t),d=o.tween;if(d!==n){i=(n=d).slice();for(var m={name:e,value:r},w=0,b=i.length;w<b;++w)if(i[w].name===e){i[w]=m;break}w===b&&i.push(m)}o.tween=i}}function ig(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Ct(this.node(),r).tween,i=0,o=n.length,d;i<o;++i)if((d=n[i]).name===t)return d.value;return null}return this.each((e==null?RD:FD)(r,t,e))}function Lo(t,e,r){var n=t._id;return t.each(function(){var i=Pt(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return Ct(i,n).value[e]}}function wc(t,e){var r;return(typeof e=="number"?pn:e instanceof Qr?cc:(r=Qr(e))?(e=r,cc):Xd)(t,e)}function OD(t){return function(){this.removeAttribute(t)}}function PD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kD(t,e,r){var n,i=r+"",o;return function(){var d=this.getAttribute(t);return d===i?null:d===n?o:o=e(n=d,r)}}function ND(t,e,r){var n,i=r+"",o;return function(){var d=this.getAttributeNS(t.space,t.local);return d===i?null:d===n?o:o=e(n=d,r)}}function VD(t,e,r){var n,i,o;return function(){var d,m=r(this),w;return m==null?void this.removeAttribute(t):(d=this.getAttribute(t),w=m+"",d===w?null:d===n&&w===i?o:(i=w,o=e(n=d,m)))}}function LD(t,e,r){var n,i,o;return function(){var d,m=r(this),w;return m==null?void this.removeAttributeNS(t.space,t.local):(d=this.getAttributeNS(t.space,t.local),w=m+"",d===w?null:d===n&&w===i?o:(i=w,o=e(n=d,m)))}}function og(t,e){var r=fr(t),n=r==="transform"?Jd:wc;return this.attrTween(t,typeof e=="function"?(r.local?LD:VD)(r,n,Lo(this,"attr."+t,e)):e==null?(r.local?PD:OD)(r):(r.local?ND:kD)(r,n,e))}function BD(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function UD(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function jD(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&UD(t,o)),r}return i._value=e,i}function zD(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&BD(t,o)),r}return i._value=e,i}function sg(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=fr(t);return this.tween(r,(n.local?jD:zD)(n,e))}function $D(t,e){return function(){ba(this,t).delay=+e.apply(this,arguments)}}function GD(t,e){return e=+e,function(){ba(this,t).delay=e}}function ag(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$D:GD)(e,t)):Ct(this.node(),e).delay}function KD(t,e){return function(){Pt(this,t).duration=+e.apply(this,arguments)}}function HD(t,e){return e=+e,function(){Pt(this,t).duration=e}}function ug(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KD:HD)(e,t)):Ct(this.node(),e).duration}function WD(t,e){if(typeof e!="function")throw new Error;return function(){Pt(this,t).ease=e}}function cg(t){var e=this._id;return arguments.length?this.each(WD(e,t)):Ct(this.node(),e).ease}function qD(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Pt(this,t).ease=r}}function lg(t){if(typeof t!="function")throw new Error;return this.each(qD(this._id,t))}function dg(t){typeof t!="function"&&(t=aa(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],d=o.length,m=n[i]=[],w,b=0;b<d;++b)(w=o[b])&&t.call(w,w.__data__,b,o)&&m.push(w);return new Gt(n,this._parents,this._name,this._id)}function fg(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),d=new Array(n),m=0;m<o;++m)for(var w=e[m],b=r[m],C=w.length,T=d[m]=new Array(C),O,L=0;L<C;++L)(O=w[L]||b[L])&&(T[L]=O);for(;m<n;++m)d[m]=e[m];return new Gt(d,this._parents,this._name,this._id)}function YD(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function XD(t,e,r){var n,i,o=YD(e)?ba:Pt;return function(){var d=o(this,t),m=d.on;m!==n&&(i=(n=m).copy()).on(e,r),d.on=i}}function hg(t,e){var r=this._id;return arguments.length<2?Ct(this.node(),r).on.on(t):this.each(XD(r,t,e))}function ZD(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function pg(){return this.on("end.remove",ZD(this._id))}function mg(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ji(t));for(var n=this._groups,i=n.length,o=new Array(i),d=0;d<i;++d)for(var m=n[d],w=m.length,b=o[d]=new Array(w),C,T,O=0;O<w;++O)(C=m[O])&&(T=t.call(C,C.__data__,O,m))&&("__data__"in C&&(T.__data__=C.__data__),b[O]=T,Jr(b[O],e,r,O,b,Ct(C,r)));return new Gt(o,this._parents,e,r)}function gg(t){var e=this._name,r=this._id;typeof t!="function"&&(t=sa(t));for(var n=this._groups,i=n.length,o=[],d=[],m=0;m<i;++m)for(var w=n[m],b=w.length,C,T=0;T<b;++T)if(C=w[T]){for(var O=t.call(C,C.__data__,T,w),L,oe=Ct(C,r),ve=0,ae=O.length;ve<ae;++ve)(L=O[ve])&&Jr(L,e,r,ve,O,oe);o.push(O),d.push(C)}return new Gt(o,d,e,r)}var QD=hr.prototype.constructor;function vg(){return new QD(this._groups,this._parents)}function JD(t,e){var r,n,i;return function(){var o=Zr(this,t),d=(this.style.removeProperty(t),Zr(this,t));return o===d?null:o===r&&d===n?i:i=e(r=o,n=d)}}function yg(t){return function(){this.style.removeProperty(t)}}function e_(t,e,r){var n,i=r+"",o;return function(){var d=Zr(this,t);return d===i?null:d===n?o:o=e(n=d,r)}}function t_(t,e,r){var n,i,o;return function(){var d=Zr(this,t),m=r(this),w=m+"";return m==null&&(w=m=(this.style.removeProperty(t),Zr(this,t))),d===w?null:d===n&&w===i?o:(i=w,o=e(n=d,m))}}function n_(t,e){var r,n,i,o="style."+e,d="end."+o,m;return function(){var w=Pt(this,t),b=w.on,C=w.value[o]==null?m||(m=yg(e)):void 0;(b!==r||i!==C)&&(n=(r=b).copy()).on(d,i=C),w.on=n}}function bg(t,e,r){var n=(t+="")=="transform"?Qd:wc;return e==null?this.styleTween(t,JD(t,n)).on("end.style."+t,yg(t)):typeof e=="function"?this.styleTween(t,t_(t,n,Lo(this,"style."+t,e))).each(n_(this._id,t)):this.styleTween(t,e_(t,n,e),r).on("end.style."+t,null)}function r_(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function i_(t,e,r){var n,i;function o(){var d=e.apply(this,arguments);return d!==i&&(n=(i=d)&&r_(t,d,r)),n}return o._value=e,o}function wg(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,i_(t,e,r??""))}function o_(t){return function(){this.textContent=t}}function s_(t){return function(){var e=t(this);this.textContent=e??""}}function Dg(t){return this.tween("text",typeof t=="function"?s_(Lo(this,"text",t)):o_(t==null?"":t+""))}function a_(t){return function(e){this.textContent=t.call(this,e)}}function u_(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&a_(i)),e}return n._value=t,n}function _g(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,u_(t))}function Sg(){for(var t=this._name,e=this._id,r=Dc(),n=this._groups,i=n.length,o=0;o<i;++o)for(var d=n[o],m=d.length,w,b=0;b<m;++b)if(w=d[b]){var C=Ct(w,e);Jr(w,t,r,b,d,{time:C.time+C.delay+C.duration,delay:0,duration:C.duration,ease:C.ease})}return new Gt(n,this._parents,t,r)}function xg(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,d){var m={value:d},w={value:function(){--i===0&&o()}};r.each(function(){var b=Pt(this,n),C=b.on;C!==t&&(e=(t=C).copy(),e._.cancel.push(m),e._.interrupt.push(m),e._.end.push(w)),b.on=e}),i===0&&o()})}var c_=0;function Gt(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Cg(t){return hr().transition(t)}function Dc(){return++c_}var pr=hr.prototype;Gt.prototype=Cg.prototype={constructor:Gt,select:mg,selectAll:gg,selectChild:pr.selectChild,selectChildren:pr.selectChildren,filter:dg,merge:fg,selection:vg,transition:Sg,call:pr.call,nodes:pr.nodes,node:pr.node,size:pr.size,empty:pr.empty,each:pr.each,on:hg,attr:og,attrTween:sg,style:bg,styleTween:wg,text:Dg,textTween:_g,remove:pg,tween:ig,delay:ag,duration:ug,ease:cg,easeVarying:lg,end:xg,[Symbol.iterator]:pr[Symbol.iterator]};function _c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var l_={time:null,delay:0,duration:250,ease:_c};function d_(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Eg(t){var e,r;t instanceof Gt?(e=t._id,t=t._name):(e=Dc(),(r=l_).time=va(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var d=n[o],m=d.length,w,b=0;b<m;++b)(w=d[b])&&Jr(w,t,e,b,d,r||d_(w,e));return new Gt(n,this._parents,t,e)}hr.prototype.interrupt=rg;hr.prototype.transition=Eg;var{abs:NM,max:VM,min:LM}=Math;function Ig(t){return[+t[0],+t[1]]}function f_(t){return[Ig(t[0]),Ig(t[1])]}var BM={name:"x",handles:["w","e"].map(nf),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},UM={name:"y",handles:["n","s"].map(nf),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},jM={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(nf),input:function(t){return t==null?null:f_(t)},output:function(t){return t}};function nf(t){return{type:t}}function h_(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function Ag(){return this.eachAfter(h_)}function Mg(t,e){let r=-1;for(let n of this)t.call(e,n,++r,this);return this}function Tg(t,e){for(var r=this,n=[r],i,o,d=-1;r=n.pop();)if(t.call(e,r,++d,this),i=r.children)for(o=i.length-1;o>=0;--o)n.push(i[o]);return this}function Rg(t,e){for(var r=this,n=[r],i=[],o,d,m,w=-1;r=n.pop();)if(i.push(r),o=r.children)for(d=0,m=o.length;d<m;++d)n.push(o[d]);for(;r=i.pop();)t.call(e,r,++w,this);return this}function Fg(t,e){let r=-1;for(let n of this)if(t.call(e,n,++r,this))return n}function Og(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)r+=n[i].value;e.value=r})}function Pg(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function kg(t){for(var e=this,r=p_(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;t!==r;)n.splice(i,0,t),t=t.parent;return n}function p_(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),i=null;for(t=r.pop(),e=n.pop();t===e;)i=t,t=r.pop(),e=n.pop();return i}function Ng(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Vg(){return Array.from(this)}function Lg(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Bg(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function*Ug(){var t=this,e,r=[t],n,i,o;do for(e=r.reverse(),r=[];t=e.pop();)if(yield t,n=t.children)for(i=0,o=n.length;i<o;++i)r.push(n[i]);while(r.length)}function Bo(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=v_)):e===void 0&&(e=g_);for(var r=new Ki(t),n,i=[r],o,d,m,w;n=i.pop();)if((d=e(n.data))&&(w=(d=Array.from(d)).length))for(n.children=d,m=w-1;m>=0;--m)i.push(o=d[m]=new Ki(d[m])),o.parent=n,o.depth=n.depth+1;return r.eachBefore(b_)}function m_(){return Bo(this).eachBefore(y_)}function g_(t){return t.children}function v_(t){return Array.isArray(t)?t[1]:null}function y_(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function b_(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ki(t){this.data=t,this.depth=this.height=0,this.parent=null}Ki.prototype=Bo.prototype={constructor:Ki,count:Ag,each:Mg,eachAfter:Rg,eachBefore:Tg,find:Fg,sum:Og,sort:Pg,path:kg,ancestors:Ng,descendants:Vg,leaves:Lg,links:Bg,copy:m_,[Symbol.iterator]:Ug};function w_(t,e){return t.parent===e.parent?1:2}function rf(t){var e=t.children;return e?e[0]:t.t}function of(t){var e=t.children;return e?e[e.length-1]:t.t}function D_(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function __(t){for(var e=0,r=0,n=t.children,i=n.length,o;--i>=0;)o=n[i],o.z+=e,o.m+=e,e+=o.s+(r+=o.c)}function S_(t,e,r){return t.a.parent===e.parent?t.a:r}function Sc(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Sc.prototype=Object.create(Ki.prototype);function x_(t){for(var e=new Sc(t,0),r,n=[e],i,o,d,m;r=n.pop();)if(o=r._.children)for(r.children=new Array(m=o.length),d=m-1;d>=0;--d)n.push(i=r.children[d]=new Sc(o[d],d)),i.parent=r;return(e.parent=new Sc(null,0)).children=[e],e}function sf(){var t=w_,e=1,r=1,n=null;function i(b){var C=x_(b);if(C.eachAfter(o),C.parent.m=-C.z,C.eachBefore(d),n)b.eachBefore(w);else{var T=b,O=b,L=b;b.eachBefore(function(ce){ce.x<T.x&&(T=ce),ce.x>O.x&&(O=ce),ce.depth>L.depth&&(L=ce)});var oe=T===O?1:t(T,O)/2,ve=oe-T.x,ae=e/(O.x+oe+ve),Y=r/(L.depth||1);b.eachBefore(function(ce){ce.x=(ce.x+ve)*ae,ce.y=ce.depth*Y})}return b}function o(b){var C=b.children,T=b.parent.children,O=b.i?T[b.i-1]:null;if(C){__(b);var L=(C[0].z+C[C.length-1].z)/2;O?(b.z=O.z+t(b._,O._),b.m=b.z-L):b.z=L}else O&&(b.z=O.z+t(b._,O._));b.parent.A=m(b,O,b.parent.A||T[0])}function d(b){b._.x=b.z+b.parent.m,b.m+=b.parent.m}function m(b,C,T){if(C){for(var O=b,L=b,oe=C,ve=O.parent.children[0],ae=O.m,Y=L.m,ce=oe.m,$e=ve.m,xe;oe=of(oe),O=rf(O),oe&&O;)ve=rf(ve),L=of(L),L.a=b,xe=oe.z+ce-O.z-ae+t(oe._,O._),xe>0&&(D_(S_(oe,b,T),b,xe),ae+=xe,Y+=xe),ce+=oe.m,ae+=O.m,$e+=ve.m,Y+=L.m;oe&&!of(L)&&(L.t=oe,L.m+=ce-Y),O&&!rf(ve)&&(ve.t=O,ve.m+=ae-$e,T=b)}return T}function w(b){b.x*=e,b.y=b.depth*r}return i.separation=function(b){return arguments.length?(t=b,i):t},i.size=function(b){return arguments.length?(n=!1,e=+b[0],r=+b[1],i):n?null:[e,r]},i.nodeSize=function(b){return arguments.length?(n=!0,e=+b[0],r=+b[1],i):n?[e,r]:null},i}var wa=t=>()=>t;function af(t,{sourceEvent:e,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Cn(t,e,r){this.k=t,this.x=e,this.y=r}Cn.prototype={constructor:Cn,scale:function(t){return t===1?this:new Cn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Cn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Da=new Cn(1,0,0);uf.prototype=Cn.prototype;function uf(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Da;return t.__zoom}function xc(t){t.stopImmediatePropagation()}function Uo(t){t.preventDefault(),t.stopImmediatePropagation()}function C_(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function E_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jg(){return this.__zoom||Da}function I_(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function A_(){return navigator.maxTouchPoints||"ontouchstart"in this}function M_(t,e,r){var n=t.invertX(e[0][0])-r[0][0],i=t.invertX(e[1][0])-r[1][0],o=t.invertY(e[0][1])-r[0][1],d=t.invertY(e[1][1])-r[1][1];return t.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),d>o?(o+d)/2:Math.min(0,o)||Math.max(0,d))}function cf(){var t=C_,e=E_,r=M_,n=I_,i=A_,o=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],m=250,w=ef,b=oa("start","zoom","end"),C,T,O,L=500,oe=150,ve=0,ae=10;function Y(j){j.property("__zoom",jg).on("wheel.zoom",ht,{passive:!1}).on("mousedown.zoom",Wn).on("dblclick.zoom",wt).filter(i).on("touchstart.zoom",En).on("touchmove.zoom",vt).on("touchend.zoom touchcancel.zoom",kt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Y.transform=function(j,pe,ne,he){var Se=j.selection?j.selection():j;Se.property("__zoom",jg),j!==Se?U(j,pe,ne,he):Se.interrupt().each(function(){dt(this,arguments).event(he).start().zoom(null,typeof pe=="function"?pe.apply(this,arguments):pe).end()})},Y.scaleBy=function(j,pe,ne,he){Y.scaleTo(j,function(){var Se=this.__zoom.k,Ve=typeof pe=="function"?pe.apply(this,arguments):pe;return Se*Ve},ne,he)},Y.scaleTo=function(j,pe,ne,he){Y.transform(j,function(){var Se=e.apply(this,arguments),Ve=this.__zoom,ze=ne==null?xe(Se):typeof ne=="function"?ne.apply(this,arguments):ne,qe=Ve.invert(ze),nt=typeof pe=="function"?pe.apply(this,arguments):pe;return r($e(ce(Ve,nt),ze,qe),Se,d)},ne,he)},Y.translateBy=function(j,pe,ne,he){Y.transform(j,function(){return r(this.__zoom.translate(typeof pe=="function"?pe.apply(this,arguments):pe,typeof ne=="function"?ne.apply(this,arguments):ne),e.apply(this,arguments),d)},null,he)},Y.translateTo=function(j,pe,ne,he,Se){Y.transform(j,function(){var Ve=e.apply(this,arguments),ze=this.__zoom,qe=he==null?xe(Ve):typeof he=="function"?he.apply(this,arguments):he;return r(Da.translate(qe[0],qe[1]).scale(ze.k).translate(typeof pe=="function"?-pe.apply(this,arguments):-pe,typeof ne=="function"?-ne.apply(this,arguments):-ne),Ve,d)},he,Se)};function ce(j,pe){return pe=Math.max(o[0],Math.min(o[1],pe)),pe===j.k?j:new Cn(pe,j.x,j.y)}function $e(j,pe,ne){var he=pe[0]-ne[0]*j.k,Se=pe[1]-ne[1]*j.k;return he===j.x&&Se===j.y?j:new Cn(j.k,he,Se)}function xe(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function U(j,pe,ne,he){j.on("start.zoom",function(){dt(this,arguments).event(he).start()}).on("interrupt.zoom end.zoom",function(){dt(this,arguments).event(he).end()}).tween("zoom",function(){var Se=this,Ve=arguments,ze=dt(Se,Ve).event(he),qe=e.apply(Se,Ve),nt=ne==null?xe(qe):typeof ne=="function"?ne.apply(Se,Ve):ne,Nt=Math.max(qe[1][0]-qe[0][0],qe[1][1]-qe[0][1]),Je=Se.__zoom,yt=typeof pe=="function"?pe.apply(Se,Ve):pe,mt=w(Je.invert(nt).concat(Nt/Je.k),yt.invert(nt).concat(Nt/yt.k));return function(de){if(de===1)de=yt;else{var Kt=mt(de),nn=Nt/Kt[2];de=new Cn(nn,nt[0]-Kt[0]*nn,nt[1]-Kt[1]*nn)}ze.zoom(null,de)}})}function dt(j,pe,ne){return!ne&&j.__zooming||new ft(j,pe)}function ft(j,pe){this.that=j,this.args=pe,this.active=0,this.sourceEvent=null,this.extent=e.apply(j,pe),this.taps=0}ft.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,pe){return this.mouse&&j!=="mouse"&&(this.mouse[1]=pe.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=pe.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=pe.invert(this.touch1[0])),this.that.__zoom=pe,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var pe=tn(this.that).datum();b.call(j,this.that,new af(j,{sourceEvent:this.sourceEvent,target:Y,type:j,transform:this.that.__zoom,dispatch:b}),pe)}};function ht(j,...pe){if(!t.apply(this,arguments))return;var ne=dt(this,pe).event(j),he=this.__zoom,Se=Math.max(o[0],Math.min(o[1],he.k*Math.pow(2,n.apply(this,arguments)))),Ve=hn(j);if(ne.wheel)(ne.mouse[0][0]!==Ve[0]||ne.mouse[0][1]!==Ve[1])&&(ne.mouse[1]=he.invert(ne.mouse[0]=Ve)),clearTimeout(ne.wheel);else{if(he.k===Se)return;ne.mouse=[Ve,he.invert(Ve)],ei(this),ne.start()}Uo(j),ne.wheel=setTimeout(ze,oe),ne.zoom("mouse",r($e(ce(he,Se),ne.mouse[0],ne.mouse[1]),ne.extent,d));function ze(){ne.wheel=null,ne.end()}}function Wn(j,...pe){if(O||!t.apply(this,arguments))return;var ne=j.currentTarget,he=dt(this,pe,!0).event(j),Se=tn(j.view).on("mousemove.zoom",nt,!0).on("mouseup.zoom",Nt,!0),Ve=hn(j,ne),ze=j.clientX,qe=j.clientY;zd(j.view),xc(j),he.mouse=[Ve,this.__zoom.invert(Ve)],ei(this),he.start();function nt(Je){if(Uo(Je),!he.moved){var yt=Je.clientX-ze,mt=Je.clientY-qe;he.moved=yt*yt+mt*mt>ve}he.event(Je).zoom("mouse",r($e(he.that.__zoom,he.mouse[0]=hn(Je,ne),he.mouse[1]),he.extent,d))}function Nt(Je){Se.on("mousemove.zoom mouseup.zoom",null),$d(Je.view,he.moved),Uo(Je),he.event(Je).end()}}function wt(j,...pe){if(t.apply(this,arguments)){var ne=this.__zoom,he=hn(j.changedTouches?j.changedTouches[0]:j,this),Se=ne.invert(he),Ve=ne.k*(j.shiftKey?.5:2),ze=r($e(ce(ne,Ve),he,Se),e.apply(this,pe),d);Uo(j),m>0?tn(this).transition().duration(m).call(U,ze,he,j):tn(this).call(Y.transform,ze,he,j)}}function En(j,...pe){if(t.apply(this,arguments)){var ne=j.touches,he=ne.length,Se=dt(this,pe,j.changedTouches.length===he).event(j),Ve,ze,qe,nt;for(xc(j),ze=0;ze<he;++ze)qe=ne[ze],nt=hn(qe,this),nt=[nt,this.__zoom.invert(nt),qe.identifier],Se.touch0?!Se.touch1&&Se.touch0[2]!==nt[2]&&(Se.touch1=nt,Se.taps=0):(Se.touch0=nt,Ve=!0,Se.taps=1+!!C);C&&(C=clearTimeout(C)),Ve&&(Se.taps<2&&(T=nt[0],C=setTimeout(function(){C=null},L)),ei(this),Se.start())}}function vt(j,...pe){if(this.__zooming){var ne=dt(this,pe).event(j),he=j.changedTouches,Se=he.length,Ve,ze,qe,nt;for(Uo(j),Ve=0;Ve<Se;++Ve)ze=he[Ve],qe=hn(ze,this),ne.touch0&&ne.touch0[2]===ze.identifier?ne.touch0[0]=qe:ne.touch1&&ne.touch1[2]===ze.identifier&&(ne.touch1[0]=qe);if(ze=ne.that.__zoom,ne.touch1){var Nt=ne.touch0[0],Je=ne.touch0[1],yt=ne.touch1[0],mt=ne.touch1[1],de=(de=yt[0]-Nt[0])*de+(de=yt[1]-Nt[1])*de,Kt=(Kt=mt[0]-Je[0])*Kt+(Kt=mt[1]-Je[1])*Kt;ze=ce(ze,Math.sqrt(de/Kt)),qe=[(Nt[0]+yt[0])/2,(Nt[1]+yt[1])/2],nt=[(Je[0]+mt[0])/2,(Je[1]+mt[1])/2]}else if(ne.touch0)qe=ne.touch0[0],nt=ne.touch0[1];else return;ne.zoom("touch",r($e(ze,qe,nt),ne.extent,d))}}function kt(j,...pe){if(this.__zooming){var ne=dt(this,pe).event(j),he=j.changedTouches,Se=he.length,Ve,ze;for(xc(j),O&&clearTimeout(O),O=setTimeout(function(){O=null},L),Ve=0;Ve<Se;++Ve)ze=he[Ve],ne.touch0&&ne.touch0[2]===ze.identifier?delete ne.touch0:ne.touch1&&ne.touch1[2]===ze.identifier&&delete ne.touch1;if(ne.touch1&&!ne.touch0&&(ne.touch0=ne.touch1,delete ne.touch1),ne.touch0)ne.touch0[1]=this.__zoom.invert(ne.touch0[0]);else if(ne.end(),ne.taps===2&&(ze=hn(ze,this),Math.hypot(T[0]-ze[0],T[1]-ze[1])<ae)){var qe=tn(this).on("dblclick.zoom");qe&&qe.apply(this,arguments)}}}return Y.wheelDelta=function(j){return arguments.length?(n=typeof j=="function"?j:wa(+j),Y):n},Y.filter=function(j){return arguments.length?(t=typeof j=="function"?j:wa(!!j),Y):t},Y.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:wa(!!j),Y):i},Y.extent=function(j){return arguments.length?(e=typeof j=="function"?j:wa([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),Y):e},Y.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],Y):[o[0],o[1]]},Y.translateExtent=function(j){return arguments.length?(d[0][0]=+j[0][0],d[1][0]=+j[1][0],d[0][1]=+j[0][1],d[1][1]=+j[1][1],Y):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},Y.constrain=function(j){return arguments.length?(r=j,Y):r},Y.duration=function(j){return arguments.length?(m=+j,Y):m},Y.interpolate=function(j){return arguments.length?(w=j,Y):w},Y.on=function(){var j=b.on.apply(b,arguments);return j===b?Y:j},Y.clickDistance=function(j){return arguments.length?(ve=(j=+j)*j,Y):Math.sqrt(ve)},Y.tapDistance=function(j){return arguments.length?(ae=+j,Y):ae},Y}var R_=["treeContainer"],zg=(()=>{let e=class e{constructor(n){this.dataManagement=n,this.width=800,this.height=300,this.effectRef=vo(()=>{let i=this.dataManagement.selectedItems();this.dataManagement.selectedItems().length>0&&this.dataManagement.isRecipesFormInitialized()&&this.updateTree(i)})}ngOnInit(){this.initSvg()}ngAfterViewInit(){}initSvg(){let n=this.treeContainer.nativeElement;this.svg=tn(n).append("svg").attr("width",this.width).attr("height",this.height).call(cf().on("zoom",i=>this.g.attr("transform",i.transform))).append("g"),this.treeLayout=sf().size([this.width,this.height])}updateTree(n){this.svg.selectAll("*").remove();let i=Bo(n[0],T=>T.childs),o=this.treeLayout(i),d=o.descendants(),m=o.links();this.g=this.svg.append("g"),this.g.selectAll(".link").data(m).enter().append("line").attr("class","link").attr("x1",T=>T.source.x).attr("y1",T=>T.source.y).attr("x2",T=>T.target.x).attr("y2",T=>T.target.y).style("stroke","#aaa");let w=40,b=.8,C=tn("#tooltip");this.g.selectAll(".node").data(d).enter().append("image").attr("class","node").attr("x",T=>T.x-w*Math.pow(b,T.depth)/2).attr("y",T=>T.y-w*Math.pow(b,T.depth)/2).attr("width",T=>Math.max(10,w*Math.pow(b,T.depth))).attr("height",T=>Math.max(10,w*Math.pow(b,T.depth))).attr("href",T=>"assets/"+T.data.IconPath+".png").on("mouseover",(T,O)=>{let[L,oe]=hn(T,this.svg.node());C.style("opacity","1").style("visibility","visible").html(O.data.name).style("left",`${L+60}px`).style("top",`${oe+10}px`)}).on("mousemove",T=>{let[O,L]=hn(T,this.svg.node());C.style("left",`${O+30}px`).style("top",`${L+10}px`)}).on("mouseout",()=>{C.style("opacity","0").style("visibility","hidden")}),this.g.selectAll(".value-label").data(d).enter().append("text").attr("class","value-label").attr("x",T=>T.x).attr("y",T=>T.y+22).attr("text-anchor","middle").text(T=>`${T.data.totalValue}`).style("font-size","10px").style("fill","#fff")}ngOnDestroy(){this.unsubscribeEffect()}};e.\u0275fac=function(i){return new(i||e)(Oe(Xr))},e.\u0275cmp=Bt({type:e,selectors:[["app-network-graph"]],viewQuery:function(i,o){if(i&1&&po(R_,7),i&2){let d;Ai(d=Mi())&&(o.treeContainer=d.first)}},standalone:!0,features:[Ut],decls:3,vars:0,consts:[["treeContainer",""],[1,"tree-container"],["id","tooltip",1,"tooltip"]],template:function(i,o){i&1&&Re(0,"div",1,0)(2,"div",2)},styles:[".tree-container[_ngcontent-%COMP%]{overflow:hidden;position:relative}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#000c;color:#fff;padding:5px 10px;border-radius:5px;font-size:12px;pointer-events:none;transition:opacity .2s;opacity:0}"]});let t=e;return t})();var F_=["myModal"],O_=["resizableDiv"],P_=["resizeHandle"],k_=(t,e,r,n)=>({"bg-base-200":t,"border-primary":e,"bg-secondary":r,"scale-90":n,"transition-all":!0,"duration-200":!0});function N_(t,e){if(t&1){let r=Ht();J(0,"div",25)(1,"button",41),ut("click",function(){let i=St(r).$implicit,o=lt(),d=mo(25);return xt(o.dataManagement.toggleSelection(i,d))}),Re(2,"img",42),ie()()}if(t&2){let r=e.$implicit,n=lt();$n("data-tip",r.name),De(),Xe("ngClass",Kf(3,k_,n.dataManagement.selectedItemsSet.has(r.ID),n.dataManagement.selectedItemsSet.has(r.ID),!n.dataManagement.selectedItemsSet.has(r.ID),n.dataManagement.selectedItemsSet.has(r.ID))),De(),Xe("src","assets/"+n.getImageSrc(r.name)+".png",at)}}function V_(t,e){if(t&1){let r=Ht();J(0,"button",43),ut("click",function(){let i=St(r).$implicit,o=lt(),d=mo(25);return xt(o.dataManagement.toggleSelection(i,d))}),Re(1,"img",42),ie()}if(t&2){let r=e.$implicit,n=lt();De(),Xe("src","assets/"+n.getImageSrc(r.name)+".png",at)}}function L_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectAssembler(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}function B_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectSmelter(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}function U_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectMiningMachine(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}function j_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectMatrixLab(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}function z_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectChemicalPlant(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}function $_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectProliferator(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}function G_(t,e){if(t&1){let r=Ht();J(0,"li",44),ut("click",function(){let i=St(r).$implicit,o=lt();return xt(o.selectBelt(i))}),J(1,"a"),Re(2,"img",32),ie()()}if(t&2){let r=e.$implicit;De(2),Xe("src","assets/"+r.IconPath+".png",at)}}var Gg=(()=>{let e=class e{constructor(n,i){this.dataManagement=n,this.globalSettingsService=i,this.defaultItem={Type:"",StackSize:0,Grade:0,Upgrades:[],IsEntity:!1,CanBuild:!1,IconPath:"",ModelIndex:0,ModelCount:0,HpMax:0,BuildIndex:0,BuildMode:0,GridIndex:0,DescFields:[],handcraft:{ID:0,name:""},maincraft:{ID:0,name:""},handcraftProductCount:0,maincraftProductCount:0,handcrafts:[],recipes:[],makes:[],rawMats:[],preTech:{ID:0,name:""},prefabDesc:{modelIndex:0,hasObject:!1,lodCount:0,lodDistances:[],startInstCapacity:0,batchCapacity:0,cullingHeight:0,castShadow:0,recvShadow:0,colliders:[],hasBuildCollider:!1,buildCollider:{idType:0,pos:{y:0},ext:{},q:{w:0},shape:""},buildColliders:[],roughRadius:0,roughHeight:0,roughWidth:0,colliderComplexity:0,barWidth:0,barHeight:0,landPoints:[],dragBuild:!1,dragBuildDist:{x:0,y:0},blueprintBoxSize:{x:0,y:0},isAssembler:!1,assemblerSpeed:0,assemblerRecipeType:"",anim_working_length:0,isPowerConsumer:!1,workEnergyPerTick:0,idleEnergyPerTick:0,minimapType:0,slotPoses:[],selectCenter:{y:0},selectSize:{},selectAlpha:0,selectDistance:0,signHeight:0,signSize:0,audioProtoId0:0,audioRadius0:0,audioRadius1:0,audioFalloff:0,audioVolume:0,audioPitch:0,audioDoppler:0,minerPeriod:0,labAssembleSpeed:0,beltSpeed:0},ID:0,description:"",index:0,iconSprite:"",canUpgrade:!1,typeString:"",fuelTypeString:"",name:"",isRaw:!1},this.userInitialAmount=0,this.typeStrings=[],this.machines=[],this.assemblerSelectOptions=[],this.smeltingSelectOptions=[],this.miningSelectOptions=[],this.chemicalSelectOptions=[],this.researchSelectOptions=[],this.proliferationSelectOptions=[],this.beltSelectOptions=[],this.selectedRecipes=[],this.recipes=[],this.items=[],this.resourcesMaterialsProducts=[],this.buildings=[]}ngAfterViewInit(){(0,$g.default)(this.resizeHandle.nativeElement).draggable({listeners:{move:n=>{let i=this.resizableDiv.nativeElement,o=i.offsetHeight+n.dy;o>150&&(i.style.height=`${o}px`)}}})}ngOnInit(){return ct(this,null,function*(){yield this.dataManagement.preloadData();let n=this.dataManagement.getItemTypeString().pipe(Lt(w=>ms(w.map(b=>this.dataManagement.getAllMachinesByType(b.typeString).pipe(We(C=>{switch(b.typeString){case"Assembler":this.assemblerSelectOptions=C,this.globalSettingsService.setPropertyWithLocalStorage("assemblerSelect",this.assemblerSelectOptions,"savedAssemblerID");break;case"Mining Facility":this.miningSelectOptions=C,this.globalSettingsService.setPropertyWithLocalStorage("miningSelect",this.miningSelectOptions,"savedMiningMachineID");break;case"Smelting Facility":this.smeltingSelectOptions=C,this.globalSettingsService.setPropertyWithLocalStorage("smeltingSelect",this.smeltingSelectOptions,"savedSmelterID");break;case"Research Facility":this.researchSelectOptions=C,this.globalSettingsService.setPropertyWithLocalStorage("researchSelect",this.researchSelectOptions,"savedMatrixLabID");break;case"Chemical Facility":this.chemicalSelectOptions=C,this.globalSettingsService.setPropertyWithLocalStorage("chemicalSelect",this.chemicalSelectOptions,"savedChemicalPlantID");break;default:break}return{typeString:b.typeString,res:C}})))))),i=this.dataManagement.getProliferatorItems().pipe(Dt(w=>{this.proliferationSelectOptions=w,this.globalSettingsService.setPropertyWithLocalStorage("proliferationSelect",this.proliferationSelectOptions,"savedProliferatorID")})),o=this.dataManagement.getBeltItems().pipe(Dt(w=>{this.beltSelectOptions=w,this.globalSettingsService.setPropertyWithLocalStorage("beltSelect",this.beltSelectOptions,"savedBeltID")})),d=this.dataManagement.getRecipes(),m=this.dataManagement.getItems();ms([n,i,m,d,o]).subscribe({next:([w,b,C,T])=>{this.items=C,this.recipes=T,this.resourcesMaterialsProducts=this.items.filter(O=>O.Type==="Resource"||O.Type==="Material"||O.Type==="Product"||O.Type==="Component"||O.Type==="Matrix"||O.Type==="DarkFog"),this.buildings=this.items.filter(O=>!(O.Type==="Resource"||O.Type==="Material"||O.Type==="Product"||O.Type==="Component"||O.Type==="Matrix"||O.Type==="DarkFog")).sort((O,L)=>O.ID-L.ID)},error:w=>{}})})}selectAssembler(n){this.globalSettingsService.updateProperty("assemblerSelect",n),localStorage.setItem("savedAssemblerID",n.ID.toString()),this.dataManagement.powerFacilitiesMap().Assembler=n.IconPath}selectSmelter(n){this.globalSettingsService.updateProperty("smeltingSelect",n),localStorage.setItem("savedSmelterID",n.ID.toString()),this.dataManagement.powerFacilitiesMap()["Smelting Facility"]=n.IconPath}selectMiningMachine(n){this.globalSettingsService.updateProperty("miningSelect",n),localStorage.setItem("savedMiningMachineID",n.ID.toString()),this.dataManagement.powerFacilitiesMap()["Mining Facility"]=n.IconPath}selectMatrixLab(n){this.globalSettingsService.updateProperty("researchSelect",n),localStorage.setItem("savedMatrixLabID",n.ID.toString()),this.dataManagement.powerFacilitiesMap()["Research Facility"]=n.IconPath}selectChemicalPlant(n){this.globalSettingsService.updateProperty("chemicalSelect",n),localStorage.setItem("savedChemicalPlantID",n.ID.toString()),this.dataManagement.powerFacilitiesMap()["Chemical Facility"]=n.IconPath}selectProliferator(n){this.globalSettingsService.updateProperty("proliferationSelect",n),localStorage.setItem("savedProliferatorID",n.ID.toString()),this.dataManagement.powerFacilitiesMap().proliferator=n.IconPath}selectBelt(n){this.globalSettingsService.updateProperty("beltSelect",n),localStorage.setItem("savedBeltID",n.ID.toString()),this.dataManagement.powerFacilitiesMap().belt=n.IconPath}getImageSrc(n){let i="",o;return n.includes("(advanced)")?o=this.items.find(d=>d.name===n.split("(")[0].slice(0,-1)):o=this.items.find(d=>d.name===n),o!==void 0?i=o.IconPath:i="Icons/ItemRecipe/various/warning-signal-round",i}};e.\u0275fac=function(i){return new(i||e)(Oe(Xr),Oe(Po))},e.\u0275cmp=Bt({type:e,selectors:[["app-calculator"]],viewQuery:function(i,o){if(i&1&&(po(F_,5),po(O_,5),po(P_,5)),i&2){let d;Ai(d=Mi())&&(o.myModal=d.first),Ai(d=Mi())&&(o.resizableDiv=d.first),Ai(d=Mi())&&(o.resizeHandle=d.first)}},standalone:!0,features:[Ut],decls:101,vars:9,consts:[["resizableDiv",""],["myModal",""],["resizeHandle",""],[1,"relative","h-screen","overflow-hidden"],[1,"flex","flex-col","h-screen"],[1,"sticky","top-0","z-50","bg-base-100"],[1,"w-full","sticky","top-[4rem]","z-40","bg-base-100","shadow-md","p-2","pb-0","flex","flex-col"],[1,"flex","w-full","flex-grow"],[1,"w-1/2"],[1,"flex-grow","flex","flex-col"],["type","number",1,"input","input-bordered","input-xs","w-24","max-w-xs","rounded-sm",3,"ngModelChange","ngModel"],[1,"select","select-bordered","rounded-sm","select-xs","max-w-xs",3,"ngModelChange","ngModel"],["value","m"],["value","s"],[1,"select","select-bordered","rounded-sm","select-xs","max-w-xs"],["value",""],["onclick","my_modal_2.showModal()",1,"btn","btn-sm","w-40","rounded-sm","bg-secondary"],["src","assets/Icons/ItemRecipe/various/select-recipe.png","alt","",1,"w-5","h-5"],["id","my_modal_2",1,"modal"],[1,"modal-box","w-11/12","max-w-5xl"],[1,"flex","flex-col"],["role","tablist",1,"tabs","tabs-bordered","w-full"],["type","radio","name","my_tabs_1","role","tab","aria-label","Components","checked","checked",1,"tab"],["role","tabpanel",1,"tab-content","p-10"],[1,"flex","flex-wrap"],[1,"tooltip"],["type","radio","name","my_tabs_1","role","tab","aria-label","Buildings",1,"tab"],[1,"btn","btn-sm","rounded-sm","w-14","h-14","m-2","p-2","hover:bg-base-content","border-1","transition-all","hover:scale-90","duration-200"],["method","dialog",1,"modal-backdrop"],[1,"flex-grow"],[1,"dropdown"],[1,"btn","rounded-sm","bg-secondary"],["alt","",1,"w-8","h-8",3,"src"],[1,"menu","dropdown-content","bg-base-100","rounded-box","z-[1]","w-52","p-2","shadow"],[1,"btn","m-1","rounded-sm","bg-secondary"],[1,"menu","dropdown-content","bg-base-100","z-[1]","w-52","p-2","shadow","rounded-sm"],[1,"relative","w-1/2","border","border-primary","border-1","p-4"],[1,"material-symbols-outlined","absolute","top-0","right-0","m-2","z-50","select-none","hover:cursor-pointer"],[1,"flex","w-full","items-center","justify-center","select-none","cursor-ns-resize","py-2"],[1,"material-symbols-outlined"],[1,"flex-grow","overflow-y-auto"],[1,"btn","btn-sm","rounded-sm","w-14","h-14","m-2","p-2","hover:bg-base-200","border-1","transition-all","hover:scale-90","duration-200","no-animation",3,"click","ngClass"],["alt","",1,"w-full","h-auto",3,"src"],[1,"btn","btn-sm","rounded-sm","w-14","h-14","m-2","p-2","hover:bg-base-content","border-1","transition-all","hover:scale-90","duration-200",3,"click"],[3,"click"]],template:function(i,o){if(i&1){let d=Ht();J(0,"div",3)(1,"div",4),Re(2,"app-navbar",5),J(3,"div",6,0)(5,"div",7)(6,"div",8)(7,"div",9)(8,"input",10),_s("ngModelChange",function(w){return St(d),Ds(o.globalSettingsService.globalSettingsSignal().initialAmountValue,w)||(o.globalSettingsService.globalSettingsSignal().initialAmountValue=w),xt(w)}),ut("ngModelChange",function(w){return St(d),xt(o.globalSettingsService.updateProperty("initialAmountValue",w))}),ie(),J(9,"select",11),_s("ngModelChange",function(w){return St(d),Ds(o.globalSettingsService.globalSettingsSignal().unitSelected,w)||(o.globalSettingsService.globalSettingsSignal().unitSelected=w),xt(w)}),ut("ngModelChange",function(w){return St(d),xt(o.globalSettingsService.updateProperty("unitSelected",w))}),J(10,"option",12),Ne(11,"items/m"),ie(),J(12,"option",13),Ne(13,"items/s"),ie()(),J(14,"select",14)(15,"option",15),Ne(16,"None"),ie(),J(17,"option",15),Ne(18,"Accelerate all"),ie(),J(19,"option",15),Ne(20,"Increase all production"),ie()(),J(21,"button",16),Re(22,"img",17),Ne(23," Add Recipe + "),ie(),J(24,"dialog",18,1)(26,"div",19)(27,"div",20)(28,"h1"),Ne(29,"Tip: You can choose more than one at once."),ie(),J(30,"div",21),Re(31,"input",22),J(32,"div",23)(33,"div",24),Tt(34,N_,3,8,"div",25,Mt),ie()(),Re(36,"input",26),J(37,"div",23)(38,"div",24),Tt(39,V_,2,1,"button",27,Mt),ie()()(),J(41,"form",28)(42,"button"),Ne(43,"close"),ie()()()(),J(44,"form",28)(45,"button"),Ne(46,"close"),ie()()(),Re(47,"div",29),ie(),J(48,"div")(49,"details",30)(50,"summary",31),Re(51,"img",32),ie(),J(52,"ul",33),Tt(53,L_,3,1,"li",null,Mt),ie()(),J(55,"details",30)(56,"summary",34),Re(57,"img",32),ie(),J(58,"ul",33),Tt(59,B_,3,1,"li",null,Mt),ie()(),J(61,"details",30)(62,"summary",34),Re(63,"img",32),ie(),J(64,"ul",33),Tt(65,U_,3,1,"li",null,Mt),ie()(),J(67,"details",30)(68,"summary",34),Re(69,"img",32),ie(),J(70,"ul",33),Tt(71,j_,3,1,"li",null,Mt),ie()(),J(73,"details",30)(74,"summary",34),Re(75,"img",32),ie(),J(76,"ul",35),Tt(77,z_,3,1,"li",null,Mt),ie()(),J(79,"details",30)(80,"summary",34),Re(81,"img",32),ie(),J(82,"ul",35),Tt(83,$_,3,1,"li",null,Mt),ie()(),J(85,"details",30)(86,"summary",34),Re(87,"img",32),ie(),J(88,"ul",35),Tt(89,G_,3,1,"li",null,Mt),ie()()()(),J(91,"div",36)(92,"span",37),Ne(93," zoom_out_map "),ie(),Re(94,"app-network-graph"),ie()(),J(95,"div",38,2)(97,"span",39),Ne(98,"keyboard_double_arrow_down"),ie()()(),J(99,"div",40),Re(100,"app-table-ratios"),ie()()()}i&2&&(De(8),ws("ngModel",o.globalSettingsService.globalSettingsSignal().initialAmountValue),De(),ws("ngModel",o.globalSettingsService.globalSettingsSignal().unitSelected),De(25),Rt(o.resourcesMaterialsProducts),De(5),Rt(o.buildings),De(12),Xe("src","assets/"+(o.globalSettingsService.getProperty("assemblerSelect").IconPath||"")+".png",at),De(2),Rt(o.assemblerSelectOptions),De(4),Xe("src","assets/"+(o.globalSettingsService.getProperty("smeltingSelect").IconPath||"")+".png",at),De(2),Rt(o.smeltingSelectOptions),De(4),Xe("src","assets/"+(o.globalSettingsService.getProperty("miningSelect").IconPath||"")+".png",at),De(2),Rt(o.miningSelectOptions),De(4),Xe("src","assets/"+(o.globalSettingsService.getProperty("researchSelect").IconPath||"")+".png",at),De(2),Rt(o.researchSelectOptions),De(4),Xe("src","assets/"+(o.globalSettingsService.getProperty("chemicalSelect").IconPath||"")+".png",at),De(2),Rt(o.chemicalSelectOptions),De(4),Xe("src","assets/"+(o.globalSettingsService.getProperty("proliferationSelect").IconPath||"")+".png",at),De(2),Rt(o.proliferationSelectOptions),De(4),Xe("src","assets/"+(o.globalSettingsService.getProperty("beltSelect").IconPath||"")+".png",at),De(2),Rt(o.beltSelectOptions))},dependencies:[Mu,Gu,Rp,ju,zu,Oo,ia,Uu,Nu,Cp,ra,Rd,Ku,As,tu,Bp,zg]});let t=e;return t})();var Kg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-quick-ratios"]],standalone:!0,features:[Ut],decls:3,vars:0,template:function(i,o){i&1&&(Re(0,"app-navbar"),J(1,"h1"),Ne(2,"QUICK RATIOS"),ie())},dependencies:[Mu]});let t=e;return t})();function K_(t,e){t&1&&(J(0,"div",4),$a(),J(1,"svg",7),Re(2,"path",8),ie(),Ga(),J(3,"span"),Ne(4,"WORK IN PROGRESS."),ie()())}var Hg=(()=>{let e=class e{constructor(){this.showAlert=!1}showTemporaryAlert(){this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},3e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-home"]],standalone:!0,features:[Ut],decls:10,vars:1,consts:[[1,"h-screen","flex","flex-col","justify-center","items-center","gap-20","relative"],[1,"font-title","text-4xl","font-bold","z-10","text-shadow"],[1,"flex","gap-4","z-10"],["routerLink","/calculator",1,"btn","no-animation","rounded-sm"],["role","alert",1,"alert","absolute","top-1/4","left-1/2","transform","-translate-x-1/2","-translate-y-1/4","w-4/12"],[1,"btn","no-animation","rounded-sm",3,"click"],[1,"absolute","inset-0","bg-cover","bg-center","bg-no-repeat","opacity-25",2,"background-image","url('assets/Icons/ItemRecipe/various/dsp-background.jpg')"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-info","h-6","w-6","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(i,o){i&1&&(J(0,"div",0)(1,"h1",1),Ne(2,"DYSON SPHERE PROGRAM CALCULATOR"),ie(),J(3,"div",2)(4,"button",3),Ne(5,"CALCULATOR"),ie(),Ii(6,K_,5,0,"div",4),J(7,"button",5),ut("click",function(){return o.showTemporaryAlert()}),Ne(8," QUICK RATIOS "),ie()(),Re(9,"div",6),ie()),i&2&&(De(6),qa(6,o.showAlert?6:-1))},dependencies:[Au],styles:['@charset "UTF-8";.text-shadow[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.6)}']});let t=e;return t})();var Wg=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Hg},{path:"calculator",component:Gg},{path:"quickRatios",component:Kg}];var qg={providers:[ap(Wg),Yr,yh(),{provide:Es,useValue:document.getElementsByTagName("base")[0]?.getAttribute("href")||"/"}]};var Yg=(()=>{let e=class e{constructor(n,i,o){this.db=n,this.dataManagement=i,this.http=o,this.title="globalDSP",this.dataTest=[],this.techs=[],this.recipes=[],this.types=[],this.typeStrings=[]}ngOnInit(){return ct(this,null,function*(){yield this.db.checkFirstTimeAndLoadData(),this.dataManagement.getItemTypeString().subscribe({next:i=>{this.typeStrings=i}})})}};e.\u0275fac=function(i){return new(i||e)(Oe(Yr),Oe(Xr),Oe(ki))},e.\u0275cmp=Bt({type:e,selectors:[["app-root"]],standalone:!0,features:[Ut],decls:2,vars:0,template:function(i,o){i&1&&Re(0,"div")(1,"router-outlet")},dependencies:[gd]});let t=e;return t})();Eh(Yg,qg).catch(t=>console.error(t));
